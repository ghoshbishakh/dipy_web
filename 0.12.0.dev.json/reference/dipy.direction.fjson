{"page_source_suffix": ".rst", "prev": {"link": "../dipy.denoise/", "title": "<code class=\"docutils literal\"><span class=\"pre\">denoise</span></code>"}, "alabaster_version": "0.7.7", "body": "<div class=\"section\" id=\"module-dipy.direction\">\n<span id=\"direction\"></span><h1><code class=\"xref py py-mod docutils literal\"><span class=\"pre\">direction</span></code><a class=\"headerlink\" href=\"#module-dipy.direction\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.DeterministicMaximumDirectionGetter\" title=\"dipy.direction.DeterministicMaximumDirectionGetter\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">DeterministicMaximumDirectionGetter</span></code></a>(pmf_gen,&nbsp;...)</td>\n<td>Return direction of a sphere with the highest probability mass function (pmf).</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.HemiSphere\" title=\"dipy.direction.HemiSphere\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">HemiSphere</span></code></a>([x,&nbsp;y,&nbsp;z,&nbsp;theta,&nbsp;phi,&nbsp;xyz,&nbsp;...])</td>\n<td>Points on the unit sphere.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.InTemporaryDirectory\" title=\"dipy.direction.InTemporaryDirectory\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">InTemporaryDirectory</span></code></a>([suffix,&nbsp;prefix,&nbsp;dir])</td>\n<td>Create, return, and change directory to a temporary directory</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.PeaksAndMetrics\" title=\"dipy.direction.PeaksAndMetrics\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">PeaksAndMetrics</span></code></a></td>\n<td><p class=\"rubric\">Attributes</p>\n</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.PeaksAndMetricsDirectionGetter\" title=\"dipy.direction.PeaksAndMetricsDirectionGetter\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">PeaksAndMetricsDirectionGetter</span></code></a></td>\n<td>Deterministic Direction Getter based on peak directions.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.ProbabilisticDirectionGetter\" title=\"dipy.direction.ProbabilisticDirectionGetter\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">ProbabilisticDirectionGetter</span></code></a>(pmf_gen,&nbsp;max_angle)</td>\n<td>Randomly samples direction of a sphere based on probability mass function (pmf).</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.Sphere\" title=\"dipy.direction.Sphere\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">Sphere</span></code></a>([x,&nbsp;y,&nbsp;z,&nbsp;theta,&nbsp;phi,&nbsp;xyz,&nbsp;faces,&nbsp;edges])</td>\n<td>Points on the unit sphere.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.repeat\" title=\"dipy.direction.repeat\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">repeat</span></code></a>(...)</td>\n<td>for the specified number of times.  If not specified, returns the object</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.xrange\" title=\"dipy.direction.xrange\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">xrange</span></code></a></td>\n<td>alias of <code class=\"xref py py-class docutils literal\"><span class=\"pre\">range</span></code></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.Pool\" title=\"dipy.direction.Pool\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">Pool</span></code></a></td>\n<td>Returns a process pool object</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.cpu_count\" title=\"dipy.direction.cpu_count\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">cpu_count</span></code></a></td>\n<td>Returns the number of CPUs in the system</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.gfa\" title=\"dipy.direction.gfa\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">gfa</span></code></a>(samples)</td>\n<td>The general fractional anisotropy of a function evaluated</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.local_maxima\" title=\"dipy.direction.local_maxima\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">local_maxima</span></code></a></td>\n<td>Local maxima of a function evaluated on a discrete set of points.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.ndindex\" title=\"dipy.direction.ndindex\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">ndindex</span></code></a>(shape)</td>\n<td>An N-dimensional iterator object to index arrays.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peak_directions\" title=\"dipy.direction.peak_directions\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">peak_directions</span></code></a>(odf,&nbsp;sphere[,&nbsp;...])</td>\n<td>Get the directions of odf peaks</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peak_directions_nl\" title=\"dipy.direction.peak_directions_nl\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">peak_directions_nl</span></code></a>(sphere_eval[,&nbsp;...])</td>\n<td>Non Linear Direction Finder</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks_from_model\" title=\"dipy.direction.peaks_from_model\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">peaks_from_model</span></code></a>(model,&nbsp;data,&nbsp;sphere,&nbsp;...[,&nbsp;...])</td>\n<td>Fits the model to data and computes peaks and metrics</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.remove_similar_vertices\" title=\"dipy.direction.remove_similar_vertices\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">remove_similar_vertices</span></code></a></td>\n<td>Remove vertices that are less than <cite>theta</cite> degrees from any other</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.reshape_peaks_for_visualization\" title=\"dipy.direction.reshape_peaks_for_visualization\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">reshape_peaks_for_visualization</span></code></a>(peaks)</td>\n<td>Reshape peaks for visualization.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.search_descending\" title=\"dipy.direction.search_descending\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">search_descending</span></code></a></td>\n<td><cite>i</cite> in descending array <cite>a</cite> so <cite>a[i] &lt; a[0] * relative_threshold</cite></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.sh_to_sf_matrix\" title=\"dipy.direction.sh_to_sf_matrix\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">sh_to_sf_matrix</span></code></a>(sphere,&nbsp;sh_order[,&nbsp;...])</td>\n<td>Matrix that transforms Spherical harmonics (SH) to spherical function (SF).</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.warn\" title=\"dipy.direction.warn\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">warn</span></code></a></td>\n<td>Issue a warning, or maybe ignore it or raise an exception.</td>\n</tr>\n</tbody>\n</table>\n<div class=\"section\" id=\"module-dipy.direction.peaks\">\n<span id=\"module-direction-peaks\"></span><h2>Module: <code class=\"xref py py-mod docutils literal\"><span class=\"pre\">direction.peaks</span></code><a class=\"headerlink\" href=\"#module-dipy.direction.peaks\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.HemiSphere\" title=\"dipy.direction.peaks.HemiSphere\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">HemiSphere</span></code></a>([x,&nbsp;y,&nbsp;z,&nbsp;theta,&nbsp;phi,&nbsp;xyz,&nbsp;...])</td>\n<td>Points on the unit sphere.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.InTemporaryDirectory\" title=\"dipy.direction.peaks.InTemporaryDirectory\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">InTemporaryDirectory</span></code></a>([suffix,&nbsp;prefix,&nbsp;dir])</td>\n<td>Create, return, and change directory to a temporary directory</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.PeaksAndMetrics\" title=\"dipy.direction.peaks.PeaksAndMetrics\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">PeaksAndMetrics</span></code></a></td>\n<td><p class=\"rubric\">Attributes</p>\n</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.PeaksAndMetricsDirectionGetter\" title=\"dipy.direction.peaks.PeaksAndMetricsDirectionGetter\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">PeaksAndMetricsDirectionGetter</span></code></a></td>\n<td>Deterministic Direction Getter based on peak directions.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.Sphere\" title=\"dipy.direction.peaks.Sphere\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">Sphere</span></code></a>([x,&nbsp;y,&nbsp;z,&nbsp;theta,&nbsp;phi,&nbsp;xyz,&nbsp;faces,&nbsp;edges])</td>\n<td>Points on the unit sphere.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.repeat\" title=\"dipy.direction.peaks.repeat\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">repeat</span></code></a>(...)</td>\n<td>for the specified number of times.  If not specified, returns the object</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.xrange\" title=\"dipy.direction.peaks.xrange\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">xrange</span></code></a></td>\n<td>alias of <code class=\"xref py py-class docutils literal\"><span class=\"pre\">range</span></code></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.Pool\" title=\"dipy.direction.peaks.Pool\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">Pool</span></code></a></td>\n<td>Returns a process pool object</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.cpu_count\" title=\"dipy.direction.peaks.cpu_count\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">cpu_count</span></code></a></td>\n<td>Returns the number of CPUs in the system</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.gfa\" title=\"dipy.direction.peaks.gfa\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">gfa</span></code></a>(samples)</td>\n<td>The general fractional anisotropy of a function evaluated</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.local_maxima\" title=\"dipy.direction.peaks.local_maxima\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">local_maxima</span></code></a></td>\n<td>Local maxima of a function evaluated on a discrete set of points.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.ndindex\" title=\"dipy.direction.peaks.ndindex\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">ndindex</span></code></a>(shape)</td>\n<td>An N-dimensional iterator object to index arrays.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.peak_directions\" title=\"dipy.direction.peaks.peak_directions\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">peak_directions</span></code></a>(odf,&nbsp;sphere[,&nbsp;...])</td>\n<td>Get the directions of odf peaks</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.peak_directions_nl\" title=\"dipy.direction.peaks.peak_directions_nl\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">peak_directions_nl</span></code></a>(sphere_eval[,&nbsp;...])</td>\n<td>Non Linear Direction Finder</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.peaks_from_model\" title=\"dipy.direction.peaks.peaks_from_model\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">peaks_from_model</span></code></a>(model,&nbsp;data,&nbsp;sphere,&nbsp;...[,&nbsp;...])</td>\n<td>Fits the model to data and computes peaks and metrics</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.remove_similar_vertices\" title=\"dipy.direction.peaks.remove_similar_vertices\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">remove_similar_vertices</span></code></a></td>\n<td>Remove vertices that are less than <cite>theta</cite> degrees from any other</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.reshape_peaks_for_visualization\" title=\"dipy.direction.peaks.reshape_peaks_for_visualization\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">reshape_peaks_for_visualization</span></code></a>(peaks)</td>\n<td>Reshape peaks for visualization.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.search_descending\" title=\"dipy.direction.peaks.search_descending\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">search_descending</span></code></a></td>\n<td><cite>i</cite> in descending array <cite>a</cite> so <cite>a[i] &lt; a[0] * relative_threshold</cite></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.sh_to_sf_matrix\" title=\"dipy.direction.peaks.sh_to_sf_matrix\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">sh_to_sf_matrix</span></code></a>(sphere,&nbsp;sh_order[,&nbsp;...])</td>\n<td>Matrix that transforms Spherical harmonics (SH) to spherical function (SF).</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.warn\" title=\"dipy.direction.peaks.warn\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">warn</span></code></a></td>\n<td>Issue a warning, or maybe ignore it or raise an exception.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.direction.probabilistic_direction_getter\">\n<span id=\"module-direction-probabilistic-direction-getter\"></span><h2>Module: <code class=\"xref py py-mod docutils literal\"><span class=\"pre\">direction.probabilistic_direction_getter</span></code><a class=\"headerlink\" href=\"#module-dipy.direction.probabilistic_direction_getter\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Implementation of a probabilistic direction getter based on sampling from\ndiscrete distribution (pmf) at each step of the tracking.</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.DeterministicMaximumDirectionGetter\" title=\"dipy.direction.probabilistic_direction_getter.DeterministicMaximumDirectionGetter\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">DeterministicMaximumDirectionGetter</span></code></a>(pmf_gen,&nbsp;...)</td>\n<td>Return direction of a sphere with the highest probability mass function (pmf).</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.DirectionGetter\" title=\"dipy.direction.probabilistic_direction_getter.DirectionGetter\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">DirectionGetter</span></code></a></td>\n<td><p class=\"rubric\">Methods</p>\n</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.PeakDirectionGetter\" title=\"dipy.direction.probabilistic_direction_getter.PeakDirectionGetter\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">PeakDirectionGetter</span></code></a>([sphere])</td>\n<td>An abstract class for DirectionGetters that use the peak_directions machinery.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.PmfGen\" title=\"dipy.direction.probabilistic_direction_getter.PmfGen\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">PmfGen</span></code></a></td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter\" title=\"dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">ProbabilisticDirectionGetter</span></code></a>(pmf_gen,&nbsp;max_angle)</td>\n<td>Randomly samples direction of a sphere based on probability mass function (pmf).</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.SHCoeffPmfGen\" title=\"dipy.direction.probabilistic_direction_getter.SHCoeffPmfGen\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">SHCoeffPmfGen</span></code></a>(shcoeff,&nbsp;sphere,&nbsp;basis_type)</td>\n<td><p class=\"rubric\">Methods</p>\n</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.SimplePmfGen\" title=\"dipy.direction.probabilistic_direction_getter.SimplePmfGen\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">SimplePmfGen</span></code></a>(pmf_array)</td>\n<td><p class=\"rubric\">Methods</p>\n</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.order_from_ncoef\" title=\"dipy.direction.probabilistic_direction_getter.order_from_ncoef\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">order_from_ncoef</span></code></a>(ncoef)</td>\n<td>Given a number n of coefficients, calculate back the sh_order</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.peak_directions\" title=\"dipy.direction.probabilistic_direction_getter.peak_directions\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">peak_directions</span></code></a>(odf,&nbsp;sphere[,&nbsp;...])</td>\n<td>Get the directions of odf peaks</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.trilinear_interpolate4d\" title=\"dipy.direction.probabilistic_direction_getter.trilinear_interpolate4d\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">trilinear_interpolate4d</span></code></a></td>\n<td>Tri-linear interpolation along the last dimension of a 4d array</td>\n</tr>\n</tbody>\n</table>\n<div class=\"section\" id=\"deterministicmaximumdirectiongetter\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.DeterministicMaximumDirectionGetter\" title=\"dipy.direction.DeterministicMaximumDirectionGetter\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">DeterministicMaximumDirectionGetter</span></code></a><a class=\"headerlink\" href=\"#deterministicmaximumdirectiongetter\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.DeterministicMaximumDirectionGetter\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">DeterministicMaximumDirectionGetter</code><span class=\"sig-paren\">(</span><em>pmf_gen</em>, <em>max_angle</em>, <em>sphere=None</em>, <em>pmf_threshold=0.1</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.DeterministicMaximumDirectionGetter\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter\" title=\"dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter</span></code></a></p>\n<p>Return direction of a sphere with the highest probability mass\nfunction (pmf).</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">from_pmf</span></code>(klass,&nbsp;pmf,&nbsp;max_angle,&nbsp;sphere[,&nbsp;...])</td>\n<td>Constructor for making a DirectionGetter from an array of Pmfs</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">from_shcoeff</span></code>(klass,&nbsp;shcoeff,&nbsp;max_angle,&nbsp;sphere)</td>\n<td>Probabilistic direction getter from a distribution of directions on the sphere.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.DeterministicMaximumDirectionGetter.get_direction\" title=\"dipy.direction.DeterministicMaximumDirectionGetter.get_direction\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">get_direction</span></code></a>(point,&nbsp;direction)</td>\n<td>Find direction with the highest pmf to updates <code class=\"docutils literal\"><span class=\"pre\">direction</span></code> array with a new direction.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">initial_direction</span></code>(point)</td>\n<td>Returns best directions at seed location to start tracking.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.DeterministicMaximumDirectionGetter.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>pmf_gen</em>, <em>max_angle</em>, <em>sphere=None</em>, <em>pmf_threshold=0.1</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.DeterministicMaximumDirectionGetter.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Direction getter from a pmf generator.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>pmf_gen</strong> : PmfGen</p>\n<blockquote>\n<div><p>Used to get probability mass function for selecting tracking\ndirections.</p>\n</div></blockquote>\n<p><strong>max_angle</strong> : float, [0, 90]</p>\n<blockquote>\n<div><p>The maximum allowed angle between incoming direction and new\ndirection.</p>\n</div></blockquote>\n<p><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>The set of directions to be used for tracking.</p>\n</div></blockquote>\n<p><strong>pmf_threshold</strong> : float [0., 1.]</p>\n<blockquote>\n<div><p>Used to remove direction from the probability mass function for\nselecting the tracking direction.</p>\n</div></blockquote>\n<p><strong>relative_peak_threshold</strong> : float in [0., 1.]</p>\n<blockquote>\n<div><p>Used for extracting initial tracking directions. Passed to\npeak_directions.</p>\n</div></blockquote>\n<p><strong>min_separation_angle</strong> : float in [0, 90]</p>\n<blockquote class=\"last\">\n<div><p>Used for extracting initial tracking directions. Passed to\npeak_directions.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.direction.peaks.peak_directions\" title=\"dipy.direction.peaks.peak_directions\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">dipy.direction.peaks.peak_directions</span></code></a></p>\n</div>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.DeterministicMaximumDirectionGetter.get_direction\">\n<code class=\"descname\">get_direction</code><span class=\"sig-paren\">(</span><em>point</em>, <em>direction</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.DeterministicMaximumDirectionGetter.get_direction\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Find direction with the highest pmf to updates <code class=\"docutils literal\"><span class=\"pre\">direction</span></code> array\nwith a new direction.\nParameters\n&#8212;&#8212;&#8212;-\npoint : memory-view (or ndarray), shape (3,)</p>\n<blockquote>\n<div>The point in an image at which to lookup tracking directions.</div></blockquote>\n<dl class=\"docutils\">\n<dt>direction</dt>\n <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">memory-view (or ndarray), shape (3,)</span><dd>Previous tracking direction.</dd>\n</dl>\n<dl class=\"docutils\">\n<dt>status</dt>\n <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span><dd>Returns 0 <cite>direction</cite> was updated with a new tracking direction, or\n1 otherwise.</dd>\n</dl>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"hemisphere\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.HemiSphere\" title=\"dipy.direction.HemiSphere\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">HemiSphere</span></code></a><a class=\"headerlink\" href=\"#hemisphere\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.HemiSphere\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">HemiSphere</code><span class=\"sig-paren\">(</span><em>x=None</em>, <em>y=None</em>, <em>z=None</em>, <em>theta=None</em>, <em>phi=None</em>, <em>xyz=None</em>, <em>faces=None</em>, <em>edges=None</em>, <em>tol=1e-05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.HemiSphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"../dipy.core/#dipy.core.sphere.Sphere\" title=\"dipy.core.sphere.Sphere\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.core.sphere.Sphere</span></code></a></p>\n<p>Points on the unit sphere.</p>\n<p>A HemiSphere is similar to a Sphere but it takes antipodal symmetry into\naccount. Antipodal symmetry means that point v on a HemiSphere is the same\nas the point -v. Duplicate points are discarded when constructing a\nHemiSphere (including antipodal duplicates). <cite>edges</cite> and <cite>faces</cite> are\nremapped to the remaining points as closely as possible.</p>\n<p>The HemiSphere can be constructed using one of three conventions:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"n\">HemiSphere</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">z</span><span class=\"p\">)</span>\n<span class=\"n\">HemiSphere</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"n\">HemiSphere</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">theta</span><span class=\"p\">,</span> <span class=\"n\">phi</span><span class=\"o\">=</span><span class=\"n\">phi</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>x, y, z</strong> : 1-D array_like</p>\n<blockquote>\n<div><p>Vertices as x-y-z coordinates.</p>\n</div></blockquote>\n<p><strong>theta, phi</strong> : 1-D array_like</p>\n<blockquote>\n<div><p>Vertices as spherical coordinates.  Theta and phi are the inclination\nand azimuth angles respectively.</p>\n</div></blockquote>\n<p><strong>xyz</strong> : (N, 3) ndarray</p>\n<blockquote>\n<div><p>Vertices as x-y-z coordinates.</p>\n</div></blockquote>\n<p><strong>faces</strong> : (N, 3) ndarray</p>\n<blockquote>\n<div><p>Indices into vertices that form triangular faces.  If unspecified,\nthe faces are computed using a Delaunay triangulation.</p>\n</div></blockquote>\n<p><strong>edges</strong> : (N, 2) ndarray</p>\n<blockquote>\n<div><p>Edges between vertices.  If unspecified, the edges are\nderived from the faces.</p>\n</div></blockquote>\n<p><strong>tol</strong> : float</p>\n<blockquote class=\"last\">\n<div><p>Angle in degrees. Vertices that are less than tol degrees apart are\ntreated as duplicates.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.direction.Sphere\" title=\"dipy.direction.Sphere\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">Sphere</span></code></a></p>\n</div>\n<p class=\"rubric\">Attributes</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">x</span></code></td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">y</span></code></td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">z</span></code></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">edges</span></code>()</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.HemiSphere.faces\" title=\"dipy.direction.HemiSphere.faces\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">faces</span></code></a>()</td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.HemiSphere.find_closest\" title=\"dipy.direction.HemiSphere.find_closest\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">find_closest</span></code></a>(xyz)</td>\n<td>Find the index of the vertex in the Sphere closest to the input vector,</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.HemiSphere.from_sphere\" title=\"dipy.direction.HemiSphere.from_sphere\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">from_sphere</span></code></a>(klass,&nbsp;sphere[,&nbsp;tol])</td>\n<td>Create instance from a Sphere</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.HemiSphere.mirror\" title=\"dipy.direction.HemiSphere.mirror\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">mirror</span></code></a>()</td>\n<td>Create a full Sphere from a HemiSphere</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.HemiSphere.subdivide\" title=\"dipy.direction.HemiSphere.subdivide\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">subdivide</span></code></a>([n])</td>\n<td>Create a more subdivided HemiSphere</td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">vertices</span></code>()</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.HemiSphere.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>x=None</em>, <em>y=None</em>, <em>z=None</em>, <em>theta=None</em>, <em>phi=None</em>, <em>xyz=None</em>, <em>faces=None</em>, <em>edges=None</em>, <em>tol=1e-05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.HemiSphere.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a HemiSphere from points</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.HemiSphere.faces\">\n<code class=\"descname\">faces</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.HemiSphere.faces\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.HemiSphere.find_closest\">\n<code class=\"descname\">find_closest</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.HemiSphere.find_closest\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Find the index of the vertex in the Sphere closest to the input vector,\ntaking into account antipodal symmetry</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array-like, 3 elements</p>\n<blockquote class=\"last\">\n<div><p>A unit vector</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"classmethod\">\n<dt id=\"dipy.direction.HemiSphere.from_sphere\">\n<em class=\"property\">classmethod </em><code class=\"descname\">from_sphere</code><span class=\"sig-paren\">(</span><em>klass</em>, <em>sphere</em>, <em>tol=1e-05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.HemiSphere.from_sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create instance from a Sphere</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.HemiSphere.mirror\">\n<code class=\"descname\">mirror</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.HemiSphere.mirror\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a full Sphere from a HemiSphere</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.HemiSphere.subdivide\">\n<code class=\"descname\">subdivide</code><span class=\"sig-paren\">(</span><em>n=1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.HemiSphere.subdivide\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a more subdivided HemiSphere</p>\n<p>See Sphere.subdivide for full documentation.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"intemporarydirectory\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.InTemporaryDirectory\" title=\"dipy.direction.InTemporaryDirectory\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">InTemporaryDirectory</span></code></a><a class=\"headerlink\" href=\"#intemporarydirectory\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.InTemporaryDirectory\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">InTemporaryDirectory</code><span class=\"sig-paren\">(</span><em>suffix=''</em>, <em>prefix='tmp'</em>, <em>dir=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.InTemporaryDirectory\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal\"><span class=\"pre\">nibabel.tmpdirs.TemporaryDirectory</span></code></p>\n<p>Create, return, and change directory to a temporary directory</p>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">os</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">my_cwd</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getcwd</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">with</span> <span class=\"n\">InTemporaryDirectory</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">tmpdir</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"n\">_</span> <span class=\"o\">=</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">&#39;test.txt&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;wt&#39;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s1\">&#39;some text&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">... </span>    <span class=\"k\">assert</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">isfile</span><span class=\"p\">(</span><span class=\"s1\">&#39;test.txt&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">... </span>    <span class=\"k\">assert</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">isfile</span><span class=\"p\">(</span><span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">tmpdir</span><span class=\"p\">,</span> <span class=\"s1\">&#39;test.txt&#39;</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">exists</span><span class=\"p\">(</span><span class=\"n\">tmpdir</span><span class=\"p\">)</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getcwd</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"n\">my_cwd</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">cleanup</span></code>()</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.InTemporaryDirectory.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>suffix=''</em>, <em>prefix='tmp'</em>, <em>dir=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.InTemporaryDirectory.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"peaksandmetrics\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.PeaksAndMetrics\" title=\"dipy.direction.PeaksAndMetrics\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">PeaksAndMetrics</span></code></a><a class=\"headerlink\" href=\"#peaksandmetrics\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.PeaksAndMetrics\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">PeaksAndMetrics</code><a class=\"headerlink\" href=\"#dipy.direction.PeaksAndMetrics\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.reconst.peak_direction_getter.PeaksAndMetricsDirectionGetter</span></code></p>\n<p class=\"rubric\">Attributes</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">ang_thr</span></code></td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">qa_thr</span></code></td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">total_weight</span></code></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">get_direction</span></code></td>\n<td>Interpolate closest peaks to direction from voxels neighboring point</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">initial_direction</span></code></td>\n<td>The best starting directions for fiber tracking from point</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.PeaksAndMetrics.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.PeaksAndMetrics.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"peaksandmetricsdirectiongetter\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.PeaksAndMetricsDirectionGetter\" title=\"dipy.direction.PeaksAndMetricsDirectionGetter\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">PeaksAndMetricsDirectionGetter</span></code></a><a class=\"headerlink\" href=\"#peaksandmetricsdirectiongetter\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.PeaksAndMetricsDirectionGetter\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">PeaksAndMetricsDirectionGetter</code><a class=\"headerlink\" href=\"#dipy.direction.PeaksAndMetricsDirectionGetter\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.tracking.local.direction_getter.DirectionGetter</span></code></p>\n<p>Deterministic Direction Getter based on peak directions.</p>\n<p>This class contains the cython portion of the code for PeaksAndMetrics and\nis not meant to be used on its own.</p>\n<p class=\"rubric\">Attributes</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.PeaksAndMetricsDirectionGetter.ang_thr\" title=\"dipy.direction.PeaksAndMetricsDirectionGetter.ang_thr\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">ang_thr</span></code></a></td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.PeaksAndMetricsDirectionGetter.qa_thr\" title=\"dipy.direction.PeaksAndMetricsDirectionGetter.qa_thr\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">qa_thr</span></code></a></td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.PeaksAndMetricsDirectionGetter.total_weight\" title=\"dipy.direction.PeaksAndMetricsDirectionGetter.total_weight\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">total_weight</span></code></a></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.PeaksAndMetricsDirectionGetter.get_direction\" title=\"dipy.direction.PeaksAndMetricsDirectionGetter.get_direction\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">get_direction</span></code></a></td>\n<td>Interpolate closest peaks to direction from voxels neighboring point</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.PeaksAndMetricsDirectionGetter.initial_direction\" title=\"dipy.direction.PeaksAndMetricsDirectionGetter.initial_direction\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">initial_direction</span></code></a></td>\n<td>The best starting directions for fiber tracking from point</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.PeaksAndMetricsDirectionGetter.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.PeaksAndMetricsDirectionGetter.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.direction.PeaksAndMetricsDirectionGetter.ang_thr\">\n<code class=\"descname\">ang_thr</code><a class=\"headerlink\" href=\"#dipy.direction.PeaksAndMetricsDirectionGetter.ang_thr\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.PeaksAndMetricsDirectionGetter.get_direction\">\n<code class=\"descname\">get_direction</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.PeaksAndMetricsDirectionGetter.get_direction\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Interpolate closest peaks to direction from voxels neighboring point</p>\n<p>Update direction and return 0 if successful. If no tracking direction\ncould be found, return 1.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.PeaksAndMetricsDirectionGetter.initial_direction\">\n<code class=\"descname\">initial_direction</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.PeaksAndMetricsDirectionGetter.initial_direction\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The best starting directions for fiber tracking from point</p>\n<p>All the valid peaks in the voxel closest to point are returned as\ninitial directions.</p>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.direction.PeaksAndMetricsDirectionGetter.qa_thr\">\n<code class=\"descname\">qa_thr</code><a class=\"headerlink\" href=\"#dipy.direction.PeaksAndMetricsDirectionGetter.qa_thr\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.direction.PeaksAndMetricsDirectionGetter.total_weight\">\n<code class=\"descname\">total_weight</code><a class=\"headerlink\" href=\"#dipy.direction.PeaksAndMetricsDirectionGetter.total_weight\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"probabilisticdirectiongetter\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.ProbabilisticDirectionGetter\" title=\"dipy.direction.ProbabilisticDirectionGetter\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">ProbabilisticDirectionGetter</span></code></a><a class=\"headerlink\" href=\"#probabilisticdirectiongetter\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.ProbabilisticDirectionGetter\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">ProbabilisticDirectionGetter</code><span class=\"sig-paren\">(</span><em>pmf_gen</em>, <em>max_angle</em>, <em>sphere=None</em>, <em>pmf_threshold=0.1</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.ProbabilisticDirectionGetter\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.PeakDirectionGetter\" title=\"dipy.direction.probabilistic_direction_getter.PeakDirectionGetter\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.direction.probabilistic_direction_getter.PeakDirectionGetter</span></code></a></p>\n<p>Randomly samples direction of a sphere based on probability mass\nfunction (pmf).</p>\n<p>The main constructors for this class are current from_pmf and from_shcoeff.\nThe pmf gives the probability that each direction on the sphere should be\nchosen as the next direction. To get the true pmf from the &#8220;raw pmf&#8221;\ndirections more than <code class=\"docutils literal\"><span class=\"pre\">max_angle</span></code> degrees from the incoming direction are\nset to 0 and the result is normalized.</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.ProbabilisticDirectionGetter.from_pmf\" title=\"dipy.direction.ProbabilisticDirectionGetter.from_pmf\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">from_pmf</span></code></a>(klass,&nbsp;pmf,&nbsp;max_angle,&nbsp;sphere[,&nbsp;...])</td>\n<td>Constructor for making a DirectionGetter from an array of Pmfs</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.ProbabilisticDirectionGetter.from_shcoeff\" title=\"dipy.direction.ProbabilisticDirectionGetter.from_shcoeff\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">from_shcoeff</span></code></a>(klass,&nbsp;shcoeff,&nbsp;max_angle,&nbsp;sphere)</td>\n<td>Probabilistic direction getter from a distribution of directions on the sphere.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.ProbabilisticDirectionGetter.get_direction\" title=\"dipy.direction.ProbabilisticDirectionGetter.get_direction\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">get_direction</span></code></a>(point,&nbsp;direction)</td>\n<td>Samples a pmf to updates <code class=\"docutils literal\"><span class=\"pre\">direction</span></code> array with a new direction.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.ProbabilisticDirectionGetter.initial_direction\" title=\"dipy.direction.ProbabilisticDirectionGetter.initial_direction\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">initial_direction</span></code></a>(point)</td>\n<td>Returns best directions at seed location to start tracking.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.ProbabilisticDirectionGetter.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>pmf_gen</em>, <em>max_angle</em>, <em>sphere=None</em>, <em>pmf_threshold=0.1</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.ProbabilisticDirectionGetter.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Direction getter from a pmf generator.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>pmf_gen</strong> : PmfGen</p>\n<blockquote>\n<div><p>Used to get probability mass function for selecting tracking\ndirections.</p>\n</div></blockquote>\n<p><strong>max_angle</strong> : float, [0, 90]</p>\n<blockquote>\n<div><p>The maximum allowed angle between incoming direction and new\ndirection.</p>\n</div></blockquote>\n<p><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>The set of directions to be used for tracking.</p>\n</div></blockquote>\n<p><strong>pmf_threshold</strong> : float [0., 1.]</p>\n<blockquote>\n<div><p>Used to remove direction from the probability mass function for\nselecting the tracking direction.</p>\n</div></blockquote>\n<p><strong>relative_peak_threshold</strong> : float in [0., 1.]</p>\n<blockquote>\n<div><p>Used for extracting initial tracking directions. Passed to\npeak_directions.</p>\n</div></blockquote>\n<p><strong>min_separation_angle</strong> : float in [0, 90]</p>\n<blockquote class=\"last\">\n<div><p>Used for extracting initial tracking directions. Passed to\npeak_directions.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.direction.peaks.peak_directions\" title=\"dipy.direction.peaks.peak_directions\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">dipy.direction.peaks.peak_directions</span></code></a></p>\n</div>\n</dd></dl>\n\n<dl class=\"classmethod\">\n<dt id=\"dipy.direction.ProbabilisticDirectionGetter.from_pmf\">\n<em class=\"property\">classmethod </em><code class=\"descname\">from_pmf</code><span class=\"sig-paren\">(</span><em>klass</em>, <em>pmf</em>, <em>max_angle</em>, <em>sphere</em>, <em>pmf_threshold=0.1</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.ProbabilisticDirectionGetter.from_pmf\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Constructor for making a DirectionGetter from an array of Pmfs</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>pmf</strong> : array, 4d</p>\n<blockquote>\n<div><p>The pmf to be used for tracking at each voxel.</p>\n</div></blockquote>\n<p><strong>max_angle</strong> : float, [0, 90]</p>\n<blockquote>\n<div><p>The maximum allowed angle between incoming direction and new\ndirection.</p>\n</div></blockquote>\n<p><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>The set of directions to be used for tracking.</p>\n</div></blockquote>\n<p><strong>pmf_threshold</strong> : float [0., 1.]</p>\n<blockquote>\n<div><p>Used to remove direction from the probability mass function for\nselecting the tracking direction.</p>\n</div></blockquote>\n<p><strong>relative_peak_threshold</strong> : float in [0., 1.]</p>\n<blockquote>\n<div><p>Used for extracting initial tracking directions. Passed to\npeak_directions.</p>\n</div></blockquote>\n<p><strong>min_separation_angle</strong> : float in [0, 90]</p>\n<blockquote class=\"last\">\n<div><p>Used for extracting initial tracking directions. Passed to\npeak_directions.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.direction.peaks.peak_directions\" title=\"dipy.direction.peaks.peak_directions\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">dipy.direction.peaks.peak_directions</span></code></a></p>\n</div>\n</dd></dl>\n\n<dl class=\"classmethod\">\n<dt id=\"dipy.direction.ProbabilisticDirectionGetter.from_shcoeff\">\n<em class=\"property\">classmethod </em><code class=\"descname\">from_shcoeff</code><span class=\"sig-paren\">(</span><em>klass</em>, <em>shcoeff</em>, <em>max_angle</em>, <em>sphere</em>, <em>pmf_threshold=0.1</em>, <em>basis_type=None</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.ProbabilisticDirectionGetter.from_shcoeff\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Probabilistic direction getter from a distribution of directions\non the sphere.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>shcoeff</strong> : array</p>\n<blockquote>\n<div><p>The distribution of tracking directions at each voxel represented\nas a function on the sphere using the real spherical harmonic\nbasis. For example the FOD of the Constrained Spherical\nDeconvolution model can be used this way. This distribution will\nbe discretized using <code class=\"docutils literal\"><span class=\"pre\">sphere</span></code> and tracking directions will be\nchosen from the vertices of <code class=\"docutils literal\"><span class=\"pre\">sphere</span></code> based on the distribution.</p>\n</div></blockquote>\n<p><strong>max_angle</strong> : float, [0, 90]</p>\n<blockquote>\n<div><p>The maximum allowed angle between incoming direction and new\ndirection.</p>\n</div></blockquote>\n<p><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>The set of directions to be used for tracking.</p>\n</div></blockquote>\n<p><strong>pmf_threshold</strong> : float [0., 1.]</p>\n<blockquote>\n<div><p>Used to remove direction from the probability mass function for\nselecting the tracking direction.</p>\n</div></blockquote>\n<p><strong>basis_type</strong> : name of basis</p>\n<blockquote>\n<div><p>The basis that <code class=\"docutils literal\"><span class=\"pre\">shcoeff</span></code> are associated with.\n<code class=\"docutils literal\"><span class=\"pre\">dipy.reconst.shm.real_sym_sh_basis</span></code> is used by default.</p>\n</div></blockquote>\n<p><strong>relative_peak_threshold</strong> : float in [0., 1.]</p>\n<blockquote>\n<div><p>Used for extracting initial tracking directions. Passed to\npeak_directions.</p>\n</div></blockquote>\n<p><strong>min_separation_angle</strong> : float in [0, 90]</p>\n<blockquote class=\"last\">\n<div><p>Used for extracting initial tracking directions. Passed to\npeak_directions.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.direction.peaks.peak_directions\" title=\"dipy.direction.peaks.peak_directions\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">dipy.direction.peaks.peak_directions</span></code></a></p>\n</div>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.ProbabilisticDirectionGetter.get_direction\">\n<code class=\"descname\">get_direction</code><span class=\"sig-paren\">(</span><em>point</em>, <em>direction</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.ProbabilisticDirectionGetter.get_direction\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Samples a pmf to updates <code class=\"docutils literal\"><span class=\"pre\">direction</span></code> array with a new direction.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>point</strong> : memory-view (or ndarray), shape (3,)</p>\n<blockquote>\n<div><p>The point in an image at which to lookup tracking directions.</p>\n</div></blockquote>\n<p><strong>direction</strong> : memory-view (or ndarray), shape (3,)</p>\n<blockquote>\n<div><p>Previous tracking direction.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>status</strong> : int</p>\n<blockquote class=\"last\">\n<div><p>Returns 0 <cite>direction</cite> was updated with a new tracking direction, or\n1 otherwise.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.ProbabilisticDirectionGetter.initial_direction\">\n<code class=\"descname\">initial_direction</code><span class=\"sig-paren\">(</span><em>point</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.ProbabilisticDirectionGetter.initial_direction\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns best directions at seed location to start tracking.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>point</strong> : ndarray, shape (3,)</p>\n<blockquote>\n<div><p>The point in an image at which to lookup tracking directions.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>directions</strong> : ndarray, shape (N, 3)</p>\n<blockquote class=\"last\">\n<div><p>Possible tracking directions from point. <code class=\"docutils literal\"><span class=\"pre\">N</span></code> may be 0, all\ndirections should be unique.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"sphere\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.Sphere\" title=\"dipy.direction.Sphere\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">Sphere</span></code></a><a class=\"headerlink\" href=\"#sphere\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.Sphere\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">Sphere</code><span class=\"sig-paren\">(</span><em>x=None</em>, <em>y=None</em>, <em>z=None</em>, <em>theta=None</em>, <em>phi=None</em>, <em>xyz=None</em>, <em>faces=None</em>, <em>edges=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.Sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/2/library/functions.html#object\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">object</span></code></a></p>\n<p>Points on the unit sphere.</p>\n<p>The sphere can be constructed using one of three conventions:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"n\">Sphere</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">z</span><span class=\"p\">)</span>\n<span class=\"n\">Sphere</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"n\">Sphere</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">theta</span><span class=\"p\">,</span> <span class=\"n\">phi</span><span class=\"o\">=</span><span class=\"n\">phi</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>x, y, z</strong> : 1-D array_like</p>\n<blockquote>\n<div><p>Vertices as x-y-z coordinates.</p>\n</div></blockquote>\n<p><strong>theta, phi</strong> : 1-D array_like</p>\n<blockquote>\n<div><p>Vertices as spherical coordinates.  Theta and phi are the inclination\nand azimuth angles respectively.</p>\n</div></blockquote>\n<p><strong>xyz</strong> : (N, 3) ndarray</p>\n<blockquote>\n<div><p>Vertices as x-y-z coordinates.</p>\n</div></blockquote>\n<p><strong>faces</strong> : (N, 3) ndarray</p>\n<blockquote>\n<div><p>Indices into vertices that form triangular faces.  If unspecified,\nthe faces are computed using a Delaunay triangulation.</p>\n</div></blockquote>\n<p><strong>edges</strong> : (N, 2) ndarray</p>\n<blockquote class=\"last\">\n<div><p>Edges between vertices.  If unspecified, the edges are\nderived from the faces.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Attributes</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.Sphere.x\" title=\"dipy.direction.Sphere.x\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">x</span></code></a></td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.Sphere.y\" title=\"dipy.direction.Sphere.y\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">y</span></code></a></td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.Sphere.z\" title=\"dipy.direction.Sphere.z\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">z</span></code></a></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.Sphere.edges\" title=\"dipy.direction.Sphere.edges\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">edges</span></code></a>()</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.Sphere.faces\" title=\"dipy.direction.Sphere.faces\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">faces</span></code></a>()</td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.Sphere.find_closest\" title=\"dipy.direction.Sphere.find_closest\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">find_closest</span></code></a>(xyz)</td>\n<td>Find the index of the vertex in the Sphere closest to the input vector</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.Sphere.subdivide\" title=\"dipy.direction.Sphere.subdivide\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">subdivide</span></code></a>([n])</td>\n<td>Subdivides each face of the sphere into four new faces.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.Sphere.vertices\" title=\"dipy.direction.Sphere.vertices\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">vertices</span></code></a>()</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.Sphere.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>x=None</em>, <em>y=None</em>, <em>z=None</em>, <em>theta=None</em>, <em>phi=None</em>, <em>xyz=None</em>, <em>faces=None</em>, <em>edges=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.Sphere.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.Sphere.edges\">\n<code class=\"descname\">edges</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.Sphere.edges\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.Sphere.faces\">\n<code class=\"descname\">faces</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.Sphere.faces\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.Sphere.find_closest\">\n<code class=\"descname\">find_closest</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.Sphere.find_closest\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Find the index of the vertex in the Sphere closest to the input vector</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array-like, 3 elements</p>\n<blockquote class=\"last\">\n<div><p>A unit vector</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.Sphere.subdivide\">\n<code class=\"descname\">subdivide</code><span class=\"sig-paren\">(</span><em>n=1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.Sphere.subdivide\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Subdivides each face of the sphere into four new faces.</p>\n<p>New vertices are created at a, b, and c. Then each face [x, y, z] is\ndivided into faces [x, a, c], [y, a, b], [z, b, c], and [a, b, c].</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre>   y\n   /               /               a/____\b\n/\\    /            /  \\  /             /____\\/____          x      c     z\n</pre></div>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>n</strong> : int, optional</p>\n<blockquote>\n<div><p>The number of subdivisions to preform.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>new_sphere</strong> : Sphere</p>\n<blockquote class=\"last\">\n<div><p>The subdivided sphere.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.Sphere.vertices\">\n<code class=\"descname\">vertices</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.Sphere.vertices\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.direction.Sphere.x\">\n<code class=\"descname\">x</code><a class=\"headerlink\" href=\"#dipy.direction.Sphere.x\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.direction.Sphere.y\">\n<code class=\"descname\">y</code><a class=\"headerlink\" href=\"#dipy.direction.Sphere.y\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.direction.Sphere.z\">\n<code class=\"descname\">z</code><a class=\"headerlink\" href=\"#dipy.direction.Sphere.z\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"repeat\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.repeat\" title=\"dipy.direction.repeat\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">repeat</span></code></a><a class=\"headerlink\" href=\"#repeat\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.repeat\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">repeat</code><span class=\"sig-paren\">(</span><em>object</em><span class=\"optional\">[</span>, <em>times</em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span> &rarr; create an iterator which returns the object<a class=\"headerlink\" href=\"#dipy.direction.repeat\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/2/library/functions.html#object\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">object</span></code></a></p>\n<p>for the specified number of times.  If not specified, returns the object\nendlessly.</p>\n<dl class=\"method\">\n<dt id=\"dipy.direction.repeat.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.repeat.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"xrange\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.xrange\" title=\"dipy.direction.xrange\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">xrange</span></code></a><a class=\"headerlink\" href=\"#xrange\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"attribute\">\n<dt id=\"dipy.direction.xrange\">\n<code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">xrange</code><a class=\"headerlink\" href=\"#dipy.direction.xrange\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>alias of <code class=\"xref py py-class docutils literal\"><span class=\"pre\">range</span></code></p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"pool\">\n<h3>Pool<a class=\"headerlink\" href=\"#pool\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.Pool\">\n<code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">Pool</code><span class=\"sig-paren\">(</span><em>self</em>, <em>processes=None</em>, <em>initializer=None</em>, <em>initargs=()</em>, <em>maxtasksperchild=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.Pool\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns a process pool object</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"cpu-count\">\n<h3>cpu_count<a class=\"headerlink\" href=\"#cpu-count\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.cpu_count\">\n<code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">cpu_count</code><span class=\"sig-paren\">(</span><em>self</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.cpu_count\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns the number of CPUs in the system</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"gfa\">\n<h3>gfa<a class=\"headerlink\" href=\"#gfa\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.gfa\">\n<code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">gfa</code><span class=\"sig-paren\">(</span><em>samples</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.gfa\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The general fractional anisotropy of a function evaluated\non the unit sphere</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"local-maxima\">\n<h3>local_maxima<a class=\"headerlink\" href=\"#local-maxima\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.local_maxima\">\n<code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">local_maxima</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.local_maxima\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Local maxima of a function evaluated on a discrete set of points.</p>\n<p>If a function is evaluated on some set of points where each pair of\nneighboring points is an edge in edges, find the local maxima.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>odf</strong> : array, 1d, dtype=double</p>\n<blockquote>\n<div><p>The function evaluated on a set of discrete points.</p>\n</div></blockquote>\n<p><strong>edges</strong> : array (N, 2)</p>\n<blockquote>\n<div><p>The set of neighbor relations between the points. Every edge, ie\n<cite>edges[i, :]</cite>, is a pair of neighboring points.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>peak_values</strong> : ndarray</p>\n<blockquote>\n<div><p>Value of odf at a maximum point. Peak values is sorted in descending\norder.</p>\n</div></blockquote>\n<p><strong>peak_indices</strong> : ndarray</p>\n<blockquote class=\"last\">\n<div><p>Indices of maximum points. Sorted in the same order as <cite>peak_values</cite> so\n<cite>odf[peak_indices[i]] == peak_values[i]</cite>.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"../dipy.core/#module-dipy.core.sphere\" title=\"dipy.core.sphere\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">dipy.core.sphere</span></code></a></p>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"ndindex\">\n<h3>ndindex<a class=\"headerlink\" href=\"#ndindex\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.ndindex\">\n<code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">ndindex</code><span class=\"sig-paren\">(</span><em>shape</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.ndindex\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>An N-dimensional iterator object to index arrays.</p>\n<p>Given the shape of an array, an <cite>ndindex</cite> instance iterates over\nthe N-dimensional index of the array. At each iteration a tuple\nof indices is returned; the last dimension is iterated over first.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>shape</strong> : tuple of ints</p>\n<blockquote class=\"last\">\n<div><p>The dimensions of the array.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core.ndindex</span> <span class=\"k\">import</span> <span class=\"n\">ndindex</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">shape</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">index</span> <span class=\"ow\">in</span> <span class=\"n\">ndindex</span><span class=\"p\">(</span><span class=\"n\">shape</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">index</span><span class=\"p\">)</span>\n<span class=\"go\">(0, 0, 0)</span>\n<span class=\"go\">(0, 1, 0)</span>\n<span class=\"go\">(1, 0, 0)</span>\n<span class=\"go\">(1, 1, 0)</span>\n<span class=\"go\">(2, 0, 0)</span>\n<span class=\"go\">(2, 1, 0)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"peak-directions\">\n<h3>peak_directions<a class=\"headerlink\" href=\"#peak-directions\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.peak_directions\">\n<code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">peak_directions</code><span class=\"sig-paren\">(</span><em>odf</em>, <em>sphere</em>, <em>relative_peak_threshold=0.5</em>, <em>min_separation_angle=25</em>, <em>minmax_norm=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peak_directions\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Get the directions of odf peaks</p>\n<p>Peaks are defined as points on the odf that are greater than at least one\nneighbor and greater than or equal to all neighbors. Peaks are sorted in\ndescending order by their values then filtered based on their relative size\nand spacing on the sphere. An odf may have 0 peaks, for example if the odf\nis perfectly isotropic.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>odf</strong> : 1d ndarray</p>\n<blockquote>\n<div><p>The odf function evaluated on the vertices of <cite>sphere</cite></p>\n</div></blockquote>\n<p><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>The Sphere providing discrete directions for evaluation.</p>\n</div></blockquote>\n<p><strong>relative_peak_threshold</strong> : float in [0., 1.]</p>\n<blockquote>\n<div><p>Only peaks greater than <code class=\"docutils literal\"><span class=\"pre\">min</span> <span class=\"pre\">+</span> <span class=\"pre\">relative_peak_threshold</span> <span class=\"pre\">*</span> <span class=\"pre\">scale</span></code> are\nkept, where <code class=\"docutils literal\"><span class=\"pre\">min</span> <span class=\"pre\">=</span> <span class=\"pre\">max(0,</span> <span class=\"pre\">odf.min())</span></code> and\n<code class=\"docutils literal\"><span class=\"pre\">scale</span> <span class=\"pre\">=</span> <span class=\"pre\">odf.max()</span> <span class=\"pre\">-</span> <span class=\"pre\">min</span></code>.</p>\n</div></blockquote>\n<p><strong>min_separation_angle</strong> : float in [0, 90]</p>\n<blockquote>\n<div><p>The minimum distance between directions. If two peaks are too close\nonly the larger of the two is returned.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>directions</strong> : (N, 3) ndarray</p>\n<blockquote>\n<div><p>N vertices for sphere, one for each peak</p>\n</div></blockquote>\n<p><strong>values</strong> : (N,) ndarray</p>\n<blockquote>\n<div><p>peak values</p>\n</div></blockquote>\n<p><strong>indices</strong> : (N,) ndarray</p>\n<blockquote class=\"last\">\n<div><p>peak indices of the directions on the sphere</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>If the odf has any negative values, they will be clipped to zeros.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"peak-directions-nl\">\n<h3>peak_directions_nl<a class=\"headerlink\" href=\"#peak-directions-nl\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.peak_directions_nl\">\n<code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">peak_directions_nl</code><span class=\"sig-paren\">(</span><em>sphere_eval</em>, <em>relative_peak_threshold=0.25</em>, <em>min_separation_angle=25</em>, <em>sphere=&lt;dipy.core.sphere.HemiSphere object&gt;</em>, <em>xtol=1e-07</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peak_directions_nl\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Non Linear Direction Finder</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>sphere_eval</strong> : callable</p>\n<blockquote>\n<div><p>A function which can be evaluated on a sphere.</p>\n</div></blockquote>\n<p><strong>relative_peak_threshold</strong> : float</p>\n<blockquote>\n<div><p>Only return peaks greater than <code class=\"docutils literal\"><span class=\"pre\">relative_peak_threshold</span> <span class=\"pre\">*</span> <span class=\"pre\">m</span></code> where m\nis the largest peak.</p>\n</div></blockquote>\n<p><strong>min_separation_angle</strong> : float in [0, 90]</p>\n<blockquote>\n<div><p>The minimum distance between directions. If two peaks are too close\nonly the larger of the two is returned.</p>\n</div></blockquote>\n<p><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>A discrete Sphere. The points on the sphere will be used for initial\nestimate of maximums.</p>\n</div></blockquote>\n<p><strong>xtol</strong> : float</p>\n<blockquote>\n<div><p>Relative tolerance for optimization.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>directions</strong> : array (N, 3)</p>\n<blockquote>\n<div><p>Points on the sphere corresponding to N local maxima on the sphere.</p>\n</div></blockquote>\n<p><strong>values</strong> : array (N,)</p>\n<blockquote class=\"last\">\n<div><p>Value of sphere_eval at each point on directions.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"peaks-from-model\">\n<h3>peaks_from_model<a class=\"headerlink\" href=\"#peaks-from-model\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.peaks_from_model\">\n<code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">peaks_from_model</code><span class=\"sig-paren\">(</span><em>model</em>, <em>data</em>, <em>sphere</em>, <em>relative_peak_threshold</em>, <em>min_separation_angle</em>, <em>mask=None</em>, <em>return_odf=False</em>, <em>return_sh=True</em>, <em>gfa_thr=0</em>, <em>normalize_peaks=False</em>, <em>sh_order=8</em>, <em>sh_basis_type=None</em>, <em>npeaks=5</em>, <em>B=None</em>, <em>invB=None</em>, <em>parallel=False</em>, <em>nbr_processes=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks_from_model\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Fits the model to data and computes peaks and metrics</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>model</strong> : a model instance</p>\n<blockquote>\n<div><p><cite>model</cite> will be used to fit the data.</p>\n</div></blockquote>\n<p><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>The Sphere providing discrete directions for evaluation.</p>\n</div></blockquote>\n<p><strong>relative_peak_threshold</strong> : float</p>\n<blockquote>\n<div><p>Only return peaks greater than <code class=\"docutils literal\"><span class=\"pre\">relative_peak_threshold</span> <span class=\"pre\">*</span> <span class=\"pre\">m</span></code> where m\nis the largest peak.</p>\n</div></blockquote>\n<p><strong>min_separation_angle</strong> : float in [0, 90] The minimum distance between</p>\n<blockquote>\n<div><p>directions. If two peaks are too close only the larger of the two is\nreturned.</p>\n</div></blockquote>\n<p><strong>mask</strong> : array, optional</p>\n<blockquote>\n<div><p>If <cite>mask</cite> is provided, voxels that are False in <cite>mask</cite> are skipped and\nno peaks are returned.</p>\n</div></blockquote>\n<p><strong>return_odf</strong> : bool</p>\n<blockquote>\n<div><p>If True, the odfs are returned.</p>\n</div></blockquote>\n<p><strong>return_sh</strong> : bool</p>\n<blockquote>\n<div><p>If True, the odf as spherical harmonics coefficients is returned</p>\n</div></blockquote>\n<p><strong>gfa_thr</strong> : float</p>\n<blockquote>\n<div><p>Voxels with gfa less than <cite>gfa_thr</cite> are skipped, no peaks are returned.</p>\n</div></blockquote>\n<p><strong>normalize_peaks</strong> : bool</p>\n<blockquote>\n<div><p>If true, all peak values are calculated relative to <cite>max(odf)</cite>.</p>\n</div></blockquote>\n<p><strong>sh_order</strong> : int, optional</p>\n<blockquote>\n<div><p>Maximum SH order in the SH fit.  For <cite>sh_order</cite>, there will be\n<code class=\"docutils literal\"><span class=\"pre\">(sh_order</span> <span class=\"pre\">+</span> <span class=\"pre\">1)</span> <span class=\"pre\">*</span> <span class=\"pre\">(sh_order</span> <span class=\"pre\">+</span> <span class=\"pre\">2)</span> <span class=\"pre\">/</span> <span class=\"pre\">2</span></code> SH coefficients (default 8).</p>\n</div></blockquote>\n<p><strong>sh_basis_type</strong> : {None, &#8216;mrtrix&#8217;, &#8216;fibernav&#8217;}</p>\n<blockquote>\n<div><p><code class=\"docutils literal\"><span class=\"pre\">None</span></code> for the default dipy basis which is the fibernav basis,\n<code class=\"docutils literal\"><span class=\"pre\">mrtrix</span></code> for the MRtrix basis, and\n<code class=\"docutils literal\"><span class=\"pre\">fibernav</span></code> for the FiberNavigator basis</p>\n</div></blockquote>\n<p><strong>sh_smooth</strong> : float, optional</p>\n<blockquote>\n<div><p>Lambda-regularization in the SH fit (default 0.0).</p>\n</div></blockquote>\n<p><strong>npeaks</strong> : int</p>\n<blockquote>\n<div><p>Maximum number of peaks found (default 5 peaks).</p>\n</div></blockquote>\n<p><strong>B</strong> : ndarray, optional</p>\n<blockquote>\n<div><p>Matrix that transforms spherical harmonics to spherical function\n<code class=\"docutils literal\"><span class=\"pre\">sf</span> <span class=\"pre\">=</span> <span class=\"pre\">np.dot(sh,</span> <span class=\"pre\">B)</span></code>.</p>\n</div></blockquote>\n<p><strong>invB</strong> : ndarray, optional</p>\n<blockquote>\n<div><p>Inverse of B.</p>\n</div></blockquote>\n<p><strong>parallel: bool</strong></p>\n<blockquote>\n<div><p>If True, use multiprocessing to compute peaks and metric\n(default False). Temporary files are saved in the default temporary\ndirectory of the system. It can be changed using <code class=\"docutils literal\"><span class=\"pre\">import</span> <span class=\"pre\">tempfile</span></code>\nand <code class=\"docutils literal\"><span class=\"pre\">tempfile.tempdir</span> <span class=\"pre\">=</span> <span class=\"pre\">'/path/to/tempdir'</span></code>.</p>\n</div></blockquote>\n<p><strong>nbr_processes: int</strong></p>\n<blockquote>\n<div><p>If <cite>parallel</cite> is True, the number of subprocesses to use\n(default multiprocessing.cpu_count()).</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>pam</strong> : PeaksAndMetrics</p>\n<blockquote class=\"last\">\n<div><p>An object with <code class=\"docutils literal\"><span class=\"pre\">gfa</span></code>, <code class=\"docutils literal\"><span class=\"pre\">peak_directions</span></code>, <code class=\"docutils literal\"><span class=\"pre\">peak_values</span></code>,\n<code class=\"docutils literal\"><span class=\"pre\">peak_indices</span></code>, <code class=\"docutils literal\"><span class=\"pre\">odf</span></code>, <code class=\"docutils literal\"><span class=\"pre\">shm_coeffs</span></code> as attributes</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"remove-similar-vertices\">\n<h3>remove_similar_vertices<a class=\"headerlink\" href=\"#remove-similar-vertices\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.remove_similar_vertices\">\n<code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">remove_similar_vertices</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.remove_similar_vertices\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Remove vertices that are less than <cite>theta</cite> degrees from any other</p>\n<p>Returns vertices that are at least theta degrees from any other vertex.\nVertex v and -v are considered the same so if v and -v are both in\n<cite>vertices</cite> only one is kept. Also if v and w are both in vertices, w must\nbe separated by theta degrees from both v and -v to be unique.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>vertices</strong> : (N, 3) ndarray</p>\n<blockquote>\n<div><p>N unit vectors.</p>\n</div></blockquote>\n<p><strong>theta</strong> : float</p>\n<blockquote>\n<div><p>The minimum separation between vertices in degrees.</p>\n</div></blockquote>\n<p><strong>return_mapping</strong> : {False, True}, optional</p>\n<blockquote>\n<div><p>If True, return <cite>mapping</cite> as well as <cite>vertices</cite> and maybe <cite>indices</cite>\n(see below).</p>\n</div></blockquote>\n<p><strong>return_indices</strong> : {False, True}, optional</p>\n<blockquote>\n<div><p>If True, return <cite>indices</cite> as well as <cite>vertices</cite> and maybe <cite>mapping</cite>\n(see below).</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>unique_vertices</strong> : (M, 3) ndarray</p>\n<blockquote>\n<div><p>Vertices sufficiently separated from one another.</p>\n</div></blockquote>\n<p><strong>mapping</strong> : (N,) ndarray</p>\n<blockquote>\n<div><p>For each element <code class=\"docutils literal\"><span class=\"pre\">vertices[i]</span></code> (<span class=\"math\">\\(i \\in 0..N-1\\)</span>), the index <span class=\"math\">\\(j\\)</span> to a\nvertex in <cite>unique_vertices</cite> that is less than <cite>theta</cite> degrees from\n<code class=\"docutils literal\"><span class=\"pre\">vertices[i]</span></code>.  Only returned if <cite>return_mapping</cite> is True.</p>\n</div></blockquote>\n<p><strong>indices</strong> : (N,) ndarray</p>\n<blockquote class=\"last\">\n<div><p><cite>indices</cite> gives the reverse of <cite>mapping</cite>.  For each element\n<code class=\"docutils literal\"><span class=\"pre\">unique_vertices[j]</span></code> (<span class=\"math\">\\(j \\in 0..M-1\\)</span>), the index <span class=\"math\">\\(i\\)</span> to a vertex in\n<cite>vertices</cite> that is less than <cite>theta</cite> degrees from\n<code class=\"docutils literal\"><span class=\"pre\">unique_vertices[j]</span></code>.  If there is more than one element of\n<cite>vertices</cite> that is less than theta degrees from <cite>unique_vertices[j]</cite>,\nreturn the first (lowest index) matching value.  Only return if\n<cite>return_indices</cite> is True.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"reshape-peaks-for-visualization\">\n<h3>reshape_peaks_for_visualization<a class=\"headerlink\" href=\"#reshape-peaks-for-visualization\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.reshape_peaks_for_visualization\">\n<code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">reshape_peaks_for_visualization</code><span class=\"sig-paren\">(</span><em>peaks</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.reshape_peaks_for_visualization\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Reshape peaks for visualization.</p>\n<p>Reshape and convert to float32 a set of peaks for visualisation with mrtrix\nor the fibernavigator.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"search-descending\">\n<h3>search_descending<a class=\"headerlink\" href=\"#search-descending\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.search_descending\">\n<code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">search_descending</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.search_descending\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p><cite>i</cite> in descending array <cite>a</cite> so <cite>a[i] &lt; a[0] * relative_threshold</cite></p>\n<p>Call <code class=\"docutils literal\"><span class=\"pre\">T</span> <span class=\"pre\">=</span> <span class=\"pre\">a[0]</span> <span class=\"pre\">*</span> <span class=\"pre\">relative_threshold</span></code>. Return value <cite>i</cite> will be the\nsmallest index in the descending array <cite>a</cite> such that <code class=\"docutils literal\"><span class=\"pre\">a[i]</span> <span class=\"pre\">&lt;</span> <span class=\"pre\">T</span></code>.\nEquivalently, <cite>i</cite> will be the largest index such that <code class=\"docutils literal\"><span class=\"pre\">all(a[:i]</span> <span class=\"pre\">&gt;=</span> <span class=\"pre\">T)</span></code>.\nIf all values in <cite>a</cite> are &gt;= T, return the length of array <cite>a</cite>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>a</strong> : ndarray, ndim=1, c-contiguous</p>\n<blockquote>\n<div><p>Array to be searched.  We assume <cite>a</cite> is in descending order.</p>\n</div></blockquote>\n<p><strong>relative_threshold</strong> : float</p>\n<blockquote>\n<div><p>Applied threshold will be <code class=\"docutils literal\"><span class=\"pre\">T</span></code> with <code class=\"docutils literal\"><span class=\"pre\">T</span> <span class=\"pre\">=</span> <span class=\"pre\">a[0]</span> <span class=\"pre\">*</span> <span class=\"pre\">relative_threshold</span></code>.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>i</strong> : np.intp</p>\n<blockquote class=\"last\">\n<div><p>If <code class=\"docutils literal\"><span class=\"pre\">T</span> <span class=\"pre\">=</span> <span class=\"pre\">a[0]</span> <span class=\"pre\">*</span> <span class=\"pre\">relative_threshold</span></code> then <cite>i</cite> will be the largest index\nsuch that <code class=\"docutils literal\"><span class=\"pre\">all(a[:i]</span> <span class=\"pre\">&gt;=</span> <span class=\"pre\">T)</span></code>.  If all values in <cite>a</cite> are &gt;= T then\n<cite>i</cite> will be <cite>len(a)</cite>.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">arange</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"nb\">float</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span>\n<span class=\"go\">array([ 10.,   9.,   8.,   7.,   6.,   5.,   4.,   3.,   2.,   1.])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">search_descending</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"mf\">0.5</span><span class=\"p\">)</span>\n<span class=\"go\">6</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">&lt;</span> <span class=\"mi\">10</span> <span class=\"o\">*</span> <span class=\"mf\">0.5</span>\n<span class=\"go\">array([False, False, False, False, False, False,  True,  True,  True,  True], dtype=bool)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">search_descending</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"go\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">search_descending</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"go\">0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">search_descending</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"go\">10</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"sh-to-sf-matrix\">\n<h3>sh_to_sf_matrix<a class=\"headerlink\" href=\"#sh-to-sf-matrix\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.sh_to_sf_matrix\">\n<code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">sh_to_sf_matrix</code><span class=\"sig-paren\">(</span><em>sphere</em>, <em>sh_order</em>, <em>basis_type=None</em>, <em>return_inv=True</em>, <em>smooth=0</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.sh_to_sf_matrix\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Matrix that transforms Spherical harmonics (SH) to spherical\nfunction (SF).</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>The points on which to sample the spherical function.</p>\n</div></blockquote>\n<p><strong>sh_order</strong> : int, optional</p>\n<blockquote>\n<div><p>Maximum SH order in the SH fit.  For <cite>sh_order</cite>, there will be\n<code class=\"docutils literal\"><span class=\"pre\">(sh_order</span> <span class=\"pre\">+</span> <span class=\"pre\">1)</span> <span class=\"pre\">*</span> <span class=\"pre\">(sh_order_2)</span> <span class=\"pre\">/</span> <span class=\"pre\">2</span></code> SH coefficients (default 4).</p>\n</div></blockquote>\n<p><strong>basis_type</strong> : {None, &#8216;mrtrix&#8217;, &#8216;fibernav&#8217;}</p>\n<blockquote>\n<div><p><code class=\"docutils literal\"><span class=\"pre\">None</span></code> for the default dipy basis,\n<code class=\"docutils literal\"><span class=\"pre\">mrtrix</span></code> for the MRtrix basis, and\n<code class=\"docutils literal\"><span class=\"pre\">fibernav</span></code> for the FiberNavigator basis\n(default <code class=\"docutils literal\"><span class=\"pre\">None</span></code>).</p>\n</div></blockquote>\n<p><strong>return_inv</strong> : bool</p>\n<blockquote>\n<div><p>If True then the inverse of the matrix is also returned</p>\n</div></blockquote>\n<p><strong>smooth</strong> : float, optional</p>\n<blockquote>\n<div><p>Lambda-regularization in the SH fit (default 0.0).</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>B</strong> : ndarray</p>\n<blockquote>\n<div><p>Matrix that transforms spherical harmonics to spherical function\n<code class=\"docutils literal\"><span class=\"pre\">sf</span> <span class=\"pre\">=</span> <span class=\"pre\">np.dot(sh,</span> <span class=\"pre\">B)</span></code>.</p>\n</div></blockquote>\n<p><strong>invB</strong> : ndarray</p>\n<blockquote class=\"last\">\n<div><p>Inverse of B.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"warn\">\n<h3>warn<a class=\"headerlink\" href=\"#warn\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.warn\">\n<code class=\"descclassname\">dipy.direction.</code><code class=\"descname\">warn</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.warn\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Issue a warning, or maybe ignore it or raise an exception.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id1\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.peaks.HemiSphere\" title=\"dipy.direction.peaks.HemiSphere\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">HemiSphere</span></code></a><a class=\"headerlink\" href=\"#id1\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.peaks.HemiSphere\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">HemiSphere</code><span class=\"sig-paren\">(</span><em>x=None</em>, <em>y=None</em>, <em>z=None</em>, <em>theta=None</em>, <em>phi=None</em>, <em>xyz=None</em>, <em>faces=None</em>, <em>edges=None</em>, <em>tol=1e-05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.HemiSphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"../dipy.core/#dipy.core.sphere.Sphere\" title=\"dipy.core.sphere.Sphere\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.core.sphere.Sphere</span></code></a></p>\n<p>Points on the unit sphere.</p>\n<p>A HemiSphere is similar to a Sphere but it takes antipodal symmetry into\naccount. Antipodal symmetry means that point v on a HemiSphere is the same\nas the point -v. Duplicate points are discarded when constructing a\nHemiSphere (including antipodal duplicates). <cite>edges</cite> and <cite>faces</cite> are\nremapped to the remaining points as closely as possible.</p>\n<p>The HemiSphere can be constructed using one of three conventions:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"n\">HemiSphere</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">z</span><span class=\"p\">)</span>\n<span class=\"n\">HemiSphere</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"n\">HemiSphere</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">theta</span><span class=\"p\">,</span> <span class=\"n\">phi</span><span class=\"o\">=</span><span class=\"n\">phi</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>x, y, z</strong> : 1-D array_like</p>\n<blockquote>\n<div><p>Vertices as x-y-z coordinates.</p>\n</div></blockquote>\n<p><strong>theta, phi</strong> : 1-D array_like</p>\n<blockquote>\n<div><p>Vertices as spherical coordinates.  Theta and phi are the inclination\nand azimuth angles respectively.</p>\n</div></blockquote>\n<p><strong>xyz</strong> : (N, 3) ndarray</p>\n<blockquote>\n<div><p>Vertices as x-y-z coordinates.</p>\n</div></blockquote>\n<p><strong>faces</strong> : (N, 3) ndarray</p>\n<blockquote>\n<div><p>Indices into vertices that form triangular faces.  If unspecified,\nthe faces are computed using a Delaunay triangulation.</p>\n</div></blockquote>\n<p><strong>edges</strong> : (N, 2) ndarray</p>\n<blockquote>\n<div><p>Edges between vertices.  If unspecified, the edges are\nderived from the faces.</p>\n</div></blockquote>\n<p><strong>tol</strong> : float</p>\n<blockquote class=\"last\">\n<div><p>Angle in degrees. Vertices that are less than tol degrees apart are\ntreated as duplicates.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.direction.peaks.Sphere\" title=\"dipy.direction.peaks.Sphere\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">Sphere</span></code></a></p>\n</div>\n<p class=\"rubric\">Attributes</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">x</span></code></td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">y</span></code></td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">z</span></code></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">edges</span></code>()</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.HemiSphere.faces\" title=\"dipy.direction.peaks.HemiSphere.faces\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">faces</span></code></a>()</td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.HemiSphere.find_closest\" title=\"dipy.direction.peaks.HemiSphere.find_closest\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">find_closest</span></code></a>(xyz)</td>\n<td>Find the index of the vertex in the Sphere closest to the input vector,</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.HemiSphere.from_sphere\" title=\"dipy.direction.peaks.HemiSphere.from_sphere\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">from_sphere</span></code></a>(klass,&nbsp;sphere[,&nbsp;tol])</td>\n<td>Create instance from a Sphere</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.HemiSphere.mirror\" title=\"dipy.direction.peaks.HemiSphere.mirror\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">mirror</span></code></a>()</td>\n<td>Create a full Sphere from a HemiSphere</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.HemiSphere.subdivide\" title=\"dipy.direction.peaks.HemiSphere.subdivide\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">subdivide</span></code></a>([n])</td>\n<td>Create a more subdivided HemiSphere</td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">vertices</span></code>()</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.HemiSphere.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>x=None</em>, <em>y=None</em>, <em>z=None</em>, <em>theta=None</em>, <em>phi=None</em>, <em>xyz=None</em>, <em>faces=None</em>, <em>edges=None</em>, <em>tol=1e-05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.HemiSphere.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a HemiSphere from points</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.HemiSphere.faces\">\n<code class=\"descname\">faces</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.HemiSphere.faces\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.HemiSphere.find_closest\">\n<code class=\"descname\">find_closest</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.HemiSphere.find_closest\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Find the index of the vertex in the Sphere closest to the input vector,\ntaking into account antipodal symmetry</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array-like, 3 elements</p>\n<blockquote class=\"last\">\n<div><p>A unit vector</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"classmethod\">\n<dt id=\"dipy.direction.peaks.HemiSphere.from_sphere\">\n<em class=\"property\">classmethod </em><code class=\"descname\">from_sphere</code><span class=\"sig-paren\">(</span><em>klass</em>, <em>sphere</em>, <em>tol=1e-05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.HemiSphere.from_sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create instance from a Sphere</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.HemiSphere.mirror\">\n<code class=\"descname\">mirror</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.HemiSphere.mirror\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a full Sphere from a HemiSphere</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.HemiSphere.subdivide\">\n<code class=\"descname\">subdivide</code><span class=\"sig-paren\">(</span><em>n=1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.HemiSphere.subdivide\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a more subdivided HemiSphere</p>\n<p>See Sphere.subdivide for full documentation.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id2\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.peaks.InTemporaryDirectory\" title=\"dipy.direction.peaks.InTemporaryDirectory\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">InTemporaryDirectory</span></code></a><a class=\"headerlink\" href=\"#id2\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.peaks.InTemporaryDirectory\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">InTemporaryDirectory</code><span class=\"sig-paren\">(</span><em>suffix=''</em>, <em>prefix='tmp'</em>, <em>dir=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.InTemporaryDirectory\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal\"><span class=\"pre\">nibabel.tmpdirs.TemporaryDirectory</span></code></p>\n<p>Create, return, and change directory to a temporary directory</p>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">os</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">my_cwd</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getcwd</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">with</span> <span class=\"n\">InTemporaryDirectory</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">tmpdir</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"n\">_</span> <span class=\"o\">=</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">&#39;test.txt&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;wt&#39;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s1\">&#39;some text&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">... </span>    <span class=\"k\">assert</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">isfile</span><span class=\"p\">(</span><span class=\"s1\">&#39;test.txt&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">... </span>    <span class=\"k\">assert</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">isfile</span><span class=\"p\">(</span><span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">tmpdir</span><span class=\"p\">,</span> <span class=\"s1\">&#39;test.txt&#39;</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">exists</span><span class=\"p\">(</span><span class=\"n\">tmpdir</span><span class=\"p\">)</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getcwd</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"n\">my_cwd</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">cleanup</span></code>()</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.InTemporaryDirectory.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>suffix=''</em>, <em>prefix='tmp'</em>, <em>dir=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.InTemporaryDirectory.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id3\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.peaks.PeaksAndMetrics\" title=\"dipy.direction.peaks.PeaksAndMetrics\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">PeaksAndMetrics</span></code></a><a class=\"headerlink\" href=\"#id3\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.peaks.PeaksAndMetrics\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">PeaksAndMetrics</code><a class=\"headerlink\" href=\"#dipy.direction.peaks.PeaksAndMetrics\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.reconst.peak_direction_getter.PeaksAndMetricsDirectionGetter</span></code></p>\n<p class=\"rubric\">Attributes</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">ang_thr</span></code></td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">qa_thr</span></code></td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">total_weight</span></code></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">get_direction</span></code></td>\n<td>Interpolate closest peaks to direction from voxels neighboring point</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">initial_direction</span></code></td>\n<td>The best starting directions for fiber tracking from point</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.PeaksAndMetrics.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.PeaksAndMetrics.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id4\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.peaks.PeaksAndMetricsDirectionGetter\" title=\"dipy.direction.peaks.PeaksAndMetricsDirectionGetter\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">PeaksAndMetricsDirectionGetter</span></code></a><a class=\"headerlink\" href=\"#id4\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.peaks.PeaksAndMetricsDirectionGetter\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">PeaksAndMetricsDirectionGetter</code><a class=\"headerlink\" href=\"#dipy.direction.peaks.PeaksAndMetricsDirectionGetter\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.tracking.local.direction_getter.DirectionGetter</span></code></p>\n<p>Deterministic Direction Getter based on peak directions.</p>\n<p>This class contains the cython portion of the code for PeaksAndMetrics and\nis not meant to be used on its own.</p>\n<p class=\"rubric\">Attributes</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.PeaksAndMetricsDirectionGetter.ang_thr\" title=\"dipy.direction.peaks.PeaksAndMetricsDirectionGetter.ang_thr\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">ang_thr</span></code></a></td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.PeaksAndMetricsDirectionGetter.qa_thr\" title=\"dipy.direction.peaks.PeaksAndMetricsDirectionGetter.qa_thr\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">qa_thr</span></code></a></td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.PeaksAndMetricsDirectionGetter.total_weight\" title=\"dipy.direction.peaks.PeaksAndMetricsDirectionGetter.total_weight\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">total_weight</span></code></a></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.PeaksAndMetricsDirectionGetter.get_direction\" title=\"dipy.direction.peaks.PeaksAndMetricsDirectionGetter.get_direction\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">get_direction</span></code></a></td>\n<td>Interpolate closest peaks to direction from voxels neighboring point</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.PeaksAndMetricsDirectionGetter.initial_direction\" title=\"dipy.direction.peaks.PeaksAndMetricsDirectionGetter.initial_direction\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">initial_direction</span></code></a></td>\n<td>The best starting directions for fiber tracking from point</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.PeaksAndMetricsDirectionGetter.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.PeaksAndMetricsDirectionGetter.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.direction.peaks.PeaksAndMetricsDirectionGetter.ang_thr\">\n<code class=\"descname\">ang_thr</code><a class=\"headerlink\" href=\"#dipy.direction.peaks.PeaksAndMetricsDirectionGetter.ang_thr\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.PeaksAndMetricsDirectionGetter.get_direction\">\n<code class=\"descname\">get_direction</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.PeaksAndMetricsDirectionGetter.get_direction\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Interpolate closest peaks to direction from voxels neighboring point</p>\n<p>Update direction and return 0 if successful. If no tracking direction\ncould be found, return 1.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.PeaksAndMetricsDirectionGetter.initial_direction\">\n<code class=\"descname\">initial_direction</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.PeaksAndMetricsDirectionGetter.initial_direction\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The best starting directions for fiber tracking from point</p>\n<p>All the valid peaks in the voxel closest to point are returned as\ninitial directions.</p>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.direction.peaks.PeaksAndMetricsDirectionGetter.qa_thr\">\n<code class=\"descname\">qa_thr</code><a class=\"headerlink\" href=\"#dipy.direction.peaks.PeaksAndMetricsDirectionGetter.qa_thr\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.direction.peaks.PeaksAndMetricsDirectionGetter.total_weight\">\n<code class=\"descname\">total_weight</code><a class=\"headerlink\" href=\"#dipy.direction.peaks.PeaksAndMetricsDirectionGetter.total_weight\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id5\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.peaks.Sphere\" title=\"dipy.direction.peaks.Sphere\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">Sphere</span></code></a><a class=\"headerlink\" href=\"#id5\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.peaks.Sphere\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">Sphere</code><span class=\"sig-paren\">(</span><em>x=None</em>, <em>y=None</em>, <em>z=None</em>, <em>theta=None</em>, <em>phi=None</em>, <em>xyz=None</em>, <em>faces=None</em>, <em>edges=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.Sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/2/library/functions.html#object\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">object</span></code></a></p>\n<p>Points on the unit sphere.</p>\n<p>The sphere can be constructed using one of three conventions:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"n\">Sphere</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">z</span><span class=\"p\">)</span>\n<span class=\"n\">Sphere</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"n\">Sphere</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">theta</span><span class=\"p\">,</span> <span class=\"n\">phi</span><span class=\"o\">=</span><span class=\"n\">phi</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>x, y, z</strong> : 1-D array_like</p>\n<blockquote>\n<div><p>Vertices as x-y-z coordinates.</p>\n</div></blockquote>\n<p><strong>theta, phi</strong> : 1-D array_like</p>\n<blockquote>\n<div><p>Vertices as spherical coordinates.  Theta and phi are the inclination\nand azimuth angles respectively.</p>\n</div></blockquote>\n<p><strong>xyz</strong> : (N, 3) ndarray</p>\n<blockquote>\n<div><p>Vertices as x-y-z coordinates.</p>\n</div></blockquote>\n<p><strong>faces</strong> : (N, 3) ndarray</p>\n<blockquote>\n<div><p>Indices into vertices that form triangular faces.  If unspecified,\nthe faces are computed using a Delaunay triangulation.</p>\n</div></blockquote>\n<p><strong>edges</strong> : (N, 2) ndarray</p>\n<blockquote class=\"last\">\n<div><p>Edges between vertices.  If unspecified, the edges are\nderived from the faces.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Attributes</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.Sphere.x\" title=\"dipy.direction.peaks.Sphere.x\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">x</span></code></a></td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.Sphere.y\" title=\"dipy.direction.peaks.Sphere.y\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">y</span></code></a></td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.Sphere.z\" title=\"dipy.direction.peaks.Sphere.z\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">z</span></code></a></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.Sphere.edges\" title=\"dipy.direction.peaks.Sphere.edges\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">edges</span></code></a>()</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.Sphere.faces\" title=\"dipy.direction.peaks.Sphere.faces\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">faces</span></code></a>()</td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.Sphere.find_closest\" title=\"dipy.direction.peaks.Sphere.find_closest\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">find_closest</span></code></a>(xyz)</td>\n<td>Find the index of the vertex in the Sphere closest to the input vector</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.Sphere.subdivide\" title=\"dipy.direction.peaks.Sphere.subdivide\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">subdivide</span></code></a>([n])</td>\n<td>Subdivides each face of the sphere into four new faces.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.peaks.Sphere.vertices\" title=\"dipy.direction.peaks.Sphere.vertices\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">vertices</span></code></a>()</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.Sphere.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>x=None</em>, <em>y=None</em>, <em>z=None</em>, <em>theta=None</em>, <em>phi=None</em>, <em>xyz=None</em>, <em>faces=None</em>, <em>edges=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.Sphere.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.Sphere.edges\">\n<code class=\"descname\">edges</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.Sphere.edges\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.Sphere.faces\">\n<code class=\"descname\">faces</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.Sphere.faces\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.Sphere.find_closest\">\n<code class=\"descname\">find_closest</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.Sphere.find_closest\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Find the index of the vertex in the Sphere closest to the input vector</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array-like, 3 elements</p>\n<blockquote class=\"last\">\n<div><p>A unit vector</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.Sphere.subdivide\">\n<code class=\"descname\">subdivide</code><span class=\"sig-paren\">(</span><em>n=1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.Sphere.subdivide\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Subdivides each face of the sphere into four new faces.</p>\n<p>New vertices are created at a, b, and c. Then each face [x, y, z] is\ndivided into faces [x, a, c], [y, a, b], [z, b, c], and [a, b, c].</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre>   y\n   /               /               a/____\b\n/\\    /            /  \\  /             /____\\/____          x      c     z\n</pre></div>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>n</strong> : int, optional</p>\n<blockquote>\n<div><p>The number of subdivisions to preform.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>new_sphere</strong> : Sphere</p>\n<blockquote class=\"last\">\n<div><p>The subdivided sphere.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.Sphere.vertices\">\n<code class=\"descname\">vertices</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.Sphere.vertices\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.direction.peaks.Sphere.x\">\n<code class=\"descname\">x</code><a class=\"headerlink\" href=\"#dipy.direction.peaks.Sphere.x\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.direction.peaks.Sphere.y\">\n<code class=\"descname\">y</code><a class=\"headerlink\" href=\"#dipy.direction.peaks.Sphere.y\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.direction.peaks.Sphere.z\">\n<code class=\"descname\">z</code><a class=\"headerlink\" href=\"#dipy.direction.peaks.Sphere.z\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id6\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.peaks.repeat\" title=\"dipy.direction.peaks.repeat\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">repeat</span></code></a><a class=\"headerlink\" href=\"#id6\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.peaks.repeat\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">repeat</code><span class=\"sig-paren\">(</span><em>object</em><span class=\"optional\">[</span>, <em>times</em><span class=\"optional\">]</span><span class=\"sig-paren\">)</span> &rarr; create an iterator which returns the object<a class=\"headerlink\" href=\"#dipy.direction.peaks.repeat\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/2/library/functions.html#object\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">object</span></code></a></p>\n<p>for the specified number of times.  If not specified, returns the object\nendlessly.</p>\n<dl class=\"method\">\n<dt id=\"dipy.direction.peaks.repeat.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.repeat.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id7\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.peaks.xrange\" title=\"dipy.direction.peaks.xrange\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">xrange</span></code></a><a class=\"headerlink\" href=\"#id7\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"attribute\">\n<dt id=\"dipy.direction.peaks.xrange\">\n<code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">xrange</code><a class=\"headerlink\" href=\"#dipy.direction.peaks.xrange\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>alias of <code class=\"xref py py-class docutils literal\"><span class=\"pre\">range</span></code></p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id8\">\n<h3>Pool<a class=\"headerlink\" href=\"#id8\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.peaks.Pool\">\n<code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">Pool</code><span class=\"sig-paren\">(</span><em>self</em>, <em>processes=None</em>, <em>initializer=None</em>, <em>initargs=()</em>, <em>maxtasksperchild=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.Pool\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns a process pool object</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id9\">\n<h3>cpu_count<a class=\"headerlink\" href=\"#id9\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.peaks.cpu_count\">\n<code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">cpu_count</code><span class=\"sig-paren\">(</span><em>self</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.cpu_count\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns the number of CPUs in the system</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id10\">\n<h3>gfa<a class=\"headerlink\" href=\"#id10\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.peaks.gfa\">\n<code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">gfa</code><span class=\"sig-paren\">(</span><em>samples</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.gfa\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The general fractional anisotropy of a function evaluated\non the unit sphere</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id11\">\n<h3>local_maxima<a class=\"headerlink\" href=\"#id11\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.peaks.local_maxima\">\n<code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">local_maxima</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.local_maxima\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Local maxima of a function evaluated on a discrete set of points.</p>\n<p>If a function is evaluated on some set of points where each pair of\nneighboring points is an edge in edges, find the local maxima.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>odf</strong> : array, 1d, dtype=double</p>\n<blockquote>\n<div><p>The function evaluated on a set of discrete points.</p>\n</div></blockquote>\n<p><strong>edges</strong> : array (N, 2)</p>\n<blockquote>\n<div><p>The set of neighbor relations between the points. Every edge, ie\n<cite>edges[i, :]</cite>, is a pair of neighboring points.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>peak_values</strong> : ndarray</p>\n<blockquote>\n<div><p>Value of odf at a maximum point. Peak values is sorted in descending\norder.</p>\n</div></blockquote>\n<p><strong>peak_indices</strong> : ndarray</p>\n<blockquote class=\"last\">\n<div><p>Indices of maximum points. Sorted in the same order as <cite>peak_values</cite> so\n<cite>odf[peak_indices[i]] == peak_values[i]</cite>.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"../dipy.core/#module-dipy.core.sphere\" title=\"dipy.core.sphere\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">dipy.core.sphere</span></code></a></p>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id12\">\n<h3>ndindex<a class=\"headerlink\" href=\"#id12\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.peaks.ndindex\">\n<code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">ndindex</code><span class=\"sig-paren\">(</span><em>shape</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.ndindex\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>An N-dimensional iterator object to index arrays.</p>\n<p>Given the shape of an array, an <cite>ndindex</cite> instance iterates over\nthe N-dimensional index of the array. At each iteration a tuple\nof indices is returned; the last dimension is iterated over first.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>shape</strong> : tuple of ints</p>\n<blockquote class=\"last\">\n<div><p>The dimensions of the array.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core.ndindex</span> <span class=\"k\">import</span> <span class=\"n\">ndindex</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">shape</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">index</span> <span class=\"ow\">in</span> <span class=\"n\">ndindex</span><span class=\"p\">(</span><span class=\"n\">shape</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">index</span><span class=\"p\">)</span>\n<span class=\"go\">(0, 0, 0)</span>\n<span class=\"go\">(0, 1, 0)</span>\n<span class=\"go\">(1, 0, 0)</span>\n<span class=\"go\">(1, 1, 0)</span>\n<span class=\"go\">(2, 0, 0)</span>\n<span class=\"go\">(2, 1, 0)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id13\">\n<h3>peak_directions<a class=\"headerlink\" href=\"#id13\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.peaks.peak_directions\">\n<code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">peak_directions</code><span class=\"sig-paren\">(</span><em>odf</em>, <em>sphere</em>, <em>relative_peak_threshold=0.5</em>, <em>min_separation_angle=25</em>, <em>minmax_norm=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.peak_directions\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Get the directions of odf peaks</p>\n<p>Peaks are defined as points on the odf that are greater than at least one\nneighbor and greater than or equal to all neighbors. Peaks are sorted in\ndescending order by their values then filtered based on their relative size\nand spacing on the sphere. An odf may have 0 peaks, for example if the odf\nis perfectly isotropic.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>odf</strong> : 1d ndarray</p>\n<blockquote>\n<div><p>The odf function evaluated on the vertices of <cite>sphere</cite></p>\n</div></blockquote>\n<p><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>The Sphere providing discrete directions for evaluation.</p>\n</div></blockquote>\n<p><strong>relative_peak_threshold</strong> : float in [0., 1.]</p>\n<blockquote>\n<div><p>Only peaks greater than <code class=\"docutils literal\"><span class=\"pre\">min</span> <span class=\"pre\">+</span> <span class=\"pre\">relative_peak_threshold</span> <span class=\"pre\">*</span> <span class=\"pre\">scale</span></code> are\nkept, where <code class=\"docutils literal\"><span class=\"pre\">min</span> <span class=\"pre\">=</span> <span class=\"pre\">max(0,</span> <span class=\"pre\">odf.min())</span></code> and\n<code class=\"docutils literal\"><span class=\"pre\">scale</span> <span class=\"pre\">=</span> <span class=\"pre\">odf.max()</span> <span class=\"pre\">-</span> <span class=\"pre\">min</span></code>.</p>\n</div></blockquote>\n<p><strong>min_separation_angle</strong> : float in [0, 90]</p>\n<blockquote>\n<div><p>The minimum distance between directions. If two peaks are too close\nonly the larger of the two is returned.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>directions</strong> : (N, 3) ndarray</p>\n<blockquote>\n<div><p>N vertices for sphere, one for each peak</p>\n</div></blockquote>\n<p><strong>values</strong> : (N,) ndarray</p>\n<blockquote>\n<div><p>peak values</p>\n</div></blockquote>\n<p><strong>indices</strong> : (N,) ndarray</p>\n<blockquote class=\"last\">\n<div><p>peak indices of the directions on the sphere</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>If the odf has any negative values, they will be clipped to zeros.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id14\">\n<h3>peak_directions_nl<a class=\"headerlink\" href=\"#id14\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.peaks.peak_directions_nl\">\n<code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">peak_directions_nl</code><span class=\"sig-paren\">(</span><em>sphere_eval</em>, <em>relative_peak_threshold=0.25</em>, <em>min_separation_angle=25</em>, <em>sphere=&lt;dipy.core.sphere.HemiSphere object&gt;</em>, <em>xtol=1e-07</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.peak_directions_nl\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Non Linear Direction Finder</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>sphere_eval</strong> : callable</p>\n<blockquote>\n<div><p>A function which can be evaluated on a sphere.</p>\n</div></blockquote>\n<p><strong>relative_peak_threshold</strong> : float</p>\n<blockquote>\n<div><p>Only return peaks greater than <code class=\"docutils literal\"><span class=\"pre\">relative_peak_threshold</span> <span class=\"pre\">*</span> <span class=\"pre\">m</span></code> where m\nis the largest peak.</p>\n</div></blockquote>\n<p><strong>min_separation_angle</strong> : float in [0, 90]</p>\n<blockquote>\n<div><p>The minimum distance between directions. If two peaks are too close\nonly the larger of the two is returned.</p>\n</div></blockquote>\n<p><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>A discrete Sphere. The points on the sphere will be used for initial\nestimate of maximums.</p>\n</div></blockquote>\n<p><strong>xtol</strong> : float</p>\n<blockquote>\n<div><p>Relative tolerance for optimization.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>directions</strong> : array (N, 3)</p>\n<blockquote>\n<div><p>Points on the sphere corresponding to N local maxima on the sphere.</p>\n</div></blockquote>\n<p><strong>values</strong> : array (N,)</p>\n<blockquote class=\"last\">\n<div><p>Value of sphere_eval at each point on directions.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id15\">\n<h3>peaks_from_model<a class=\"headerlink\" href=\"#id15\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.peaks.peaks_from_model\">\n<code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">peaks_from_model</code><span class=\"sig-paren\">(</span><em>model</em>, <em>data</em>, <em>sphere</em>, <em>relative_peak_threshold</em>, <em>min_separation_angle</em>, <em>mask=None</em>, <em>return_odf=False</em>, <em>return_sh=True</em>, <em>gfa_thr=0</em>, <em>normalize_peaks=False</em>, <em>sh_order=8</em>, <em>sh_basis_type=None</em>, <em>npeaks=5</em>, <em>B=None</em>, <em>invB=None</em>, <em>parallel=False</em>, <em>nbr_processes=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.peaks_from_model\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Fits the model to data and computes peaks and metrics</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>model</strong> : a model instance</p>\n<blockquote>\n<div><p><cite>model</cite> will be used to fit the data.</p>\n</div></blockquote>\n<p><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>The Sphere providing discrete directions for evaluation.</p>\n</div></blockquote>\n<p><strong>relative_peak_threshold</strong> : float</p>\n<blockquote>\n<div><p>Only return peaks greater than <code class=\"docutils literal\"><span class=\"pre\">relative_peak_threshold</span> <span class=\"pre\">*</span> <span class=\"pre\">m</span></code> where m\nis the largest peak.</p>\n</div></blockquote>\n<p><strong>min_separation_angle</strong> : float in [0, 90] The minimum distance between</p>\n<blockquote>\n<div><p>directions. If two peaks are too close only the larger of the two is\nreturned.</p>\n</div></blockquote>\n<p><strong>mask</strong> : array, optional</p>\n<blockquote>\n<div><p>If <cite>mask</cite> is provided, voxels that are False in <cite>mask</cite> are skipped and\nno peaks are returned.</p>\n</div></blockquote>\n<p><strong>return_odf</strong> : bool</p>\n<blockquote>\n<div><p>If True, the odfs are returned.</p>\n</div></blockquote>\n<p><strong>return_sh</strong> : bool</p>\n<blockquote>\n<div><p>If True, the odf as spherical harmonics coefficients is returned</p>\n</div></blockquote>\n<p><strong>gfa_thr</strong> : float</p>\n<blockquote>\n<div><p>Voxels with gfa less than <cite>gfa_thr</cite> are skipped, no peaks are returned.</p>\n</div></blockquote>\n<p><strong>normalize_peaks</strong> : bool</p>\n<blockquote>\n<div><p>If true, all peak values are calculated relative to <cite>max(odf)</cite>.</p>\n</div></blockquote>\n<p><strong>sh_order</strong> : int, optional</p>\n<blockquote>\n<div><p>Maximum SH order in the SH fit.  For <cite>sh_order</cite>, there will be\n<code class=\"docutils literal\"><span class=\"pre\">(sh_order</span> <span class=\"pre\">+</span> <span class=\"pre\">1)</span> <span class=\"pre\">*</span> <span class=\"pre\">(sh_order</span> <span class=\"pre\">+</span> <span class=\"pre\">2)</span> <span class=\"pre\">/</span> <span class=\"pre\">2</span></code> SH coefficients (default 8).</p>\n</div></blockquote>\n<p><strong>sh_basis_type</strong> : {None, &#8216;mrtrix&#8217;, &#8216;fibernav&#8217;}</p>\n<blockquote>\n<div><p><code class=\"docutils literal\"><span class=\"pre\">None</span></code> for the default dipy basis which is the fibernav basis,\n<code class=\"docutils literal\"><span class=\"pre\">mrtrix</span></code> for the MRtrix basis, and\n<code class=\"docutils literal\"><span class=\"pre\">fibernav</span></code> for the FiberNavigator basis</p>\n</div></blockquote>\n<p><strong>sh_smooth</strong> : float, optional</p>\n<blockquote>\n<div><p>Lambda-regularization in the SH fit (default 0.0).</p>\n</div></blockquote>\n<p><strong>npeaks</strong> : int</p>\n<blockquote>\n<div><p>Maximum number of peaks found (default 5 peaks).</p>\n</div></blockquote>\n<p><strong>B</strong> : ndarray, optional</p>\n<blockquote>\n<div><p>Matrix that transforms spherical harmonics to spherical function\n<code class=\"docutils literal\"><span class=\"pre\">sf</span> <span class=\"pre\">=</span> <span class=\"pre\">np.dot(sh,</span> <span class=\"pre\">B)</span></code>.</p>\n</div></blockquote>\n<p><strong>invB</strong> : ndarray, optional</p>\n<blockquote>\n<div><p>Inverse of B.</p>\n</div></blockquote>\n<p><strong>parallel: bool</strong></p>\n<blockquote>\n<div><p>If True, use multiprocessing to compute peaks and metric\n(default False). Temporary files are saved in the default temporary\ndirectory of the system. It can be changed using <code class=\"docutils literal\"><span class=\"pre\">import</span> <span class=\"pre\">tempfile</span></code>\nand <code class=\"docutils literal\"><span class=\"pre\">tempfile.tempdir</span> <span class=\"pre\">=</span> <span class=\"pre\">'/path/to/tempdir'</span></code>.</p>\n</div></blockquote>\n<p><strong>nbr_processes: int</strong></p>\n<blockquote>\n<div><p>If <cite>parallel</cite> is True, the number of subprocesses to use\n(default multiprocessing.cpu_count()).</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>pam</strong> : PeaksAndMetrics</p>\n<blockquote class=\"last\">\n<div><p>An object with <code class=\"docutils literal\"><span class=\"pre\">gfa</span></code>, <code class=\"docutils literal\"><span class=\"pre\">peak_directions</span></code>, <code class=\"docutils literal\"><span class=\"pre\">peak_values</span></code>,\n<code class=\"docutils literal\"><span class=\"pre\">peak_indices</span></code>, <code class=\"docutils literal\"><span class=\"pre\">odf</span></code>, <code class=\"docutils literal\"><span class=\"pre\">shm_coeffs</span></code> as attributes</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id16\">\n<h3>remove_similar_vertices<a class=\"headerlink\" href=\"#id16\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.peaks.remove_similar_vertices\">\n<code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">remove_similar_vertices</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.remove_similar_vertices\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Remove vertices that are less than <cite>theta</cite> degrees from any other</p>\n<p>Returns vertices that are at least theta degrees from any other vertex.\nVertex v and -v are considered the same so if v and -v are both in\n<cite>vertices</cite> only one is kept. Also if v and w are both in vertices, w must\nbe separated by theta degrees from both v and -v to be unique.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>vertices</strong> : (N, 3) ndarray</p>\n<blockquote>\n<div><p>N unit vectors.</p>\n</div></blockquote>\n<p><strong>theta</strong> : float</p>\n<blockquote>\n<div><p>The minimum separation between vertices in degrees.</p>\n</div></blockquote>\n<p><strong>return_mapping</strong> : {False, True}, optional</p>\n<blockquote>\n<div><p>If True, return <cite>mapping</cite> as well as <cite>vertices</cite> and maybe <cite>indices</cite>\n(see below).</p>\n</div></blockquote>\n<p><strong>return_indices</strong> : {False, True}, optional</p>\n<blockquote>\n<div><p>If True, return <cite>indices</cite> as well as <cite>vertices</cite> and maybe <cite>mapping</cite>\n(see below).</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>unique_vertices</strong> : (M, 3) ndarray</p>\n<blockquote>\n<div><p>Vertices sufficiently separated from one another.</p>\n</div></blockquote>\n<p><strong>mapping</strong> : (N,) ndarray</p>\n<blockquote>\n<div><p>For each element <code class=\"docutils literal\"><span class=\"pre\">vertices[i]</span></code> (<span class=\"math\">\\(i \\in 0..N-1\\)</span>), the index <span class=\"math\">\\(j\\)</span> to a\nvertex in <cite>unique_vertices</cite> that is less than <cite>theta</cite> degrees from\n<code class=\"docutils literal\"><span class=\"pre\">vertices[i]</span></code>.  Only returned if <cite>return_mapping</cite> is True.</p>\n</div></blockquote>\n<p><strong>indices</strong> : (N,) ndarray</p>\n<blockquote class=\"last\">\n<div><p><cite>indices</cite> gives the reverse of <cite>mapping</cite>.  For each element\n<code class=\"docutils literal\"><span class=\"pre\">unique_vertices[j]</span></code> (<span class=\"math\">\\(j \\in 0..M-1\\)</span>), the index <span class=\"math\">\\(i\\)</span> to a vertex in\n<cite>vertices</cite> that is less than <cite>theta</cite> degrees from\n<code class=\"docutils literal\"><span class=\"pre\">unique_vertices[j]</span></code>.  If there is more than one element of\n<cite>vertices</cite> that is less than theta degrees from <cite>unique_vertices[j]</cite>,\nreturn the first (lowest index) matching value.  Only return if\n<cite>return_indices</cite> is True.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id17\">\n<h3>reshape_peaks_for_visualization<a class=\"headerlink\" href=\"#id17\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.peaks.reshape_peaks_for_visualization\">\n<code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">reshape_peaks_for_visualization</code><span class=\"sig-paren\">(</span><em>peaks</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.reshape_peaks_for_visualization\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Reshape peaks for visualization.</p>\n<p>Reshape and convert to float32 a set of peaks for visualisation with mrtrix\nor the fibernavigator.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id18\">\n<h3>search_descending<a class=\"headerlink\" href=\"#id18\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.peaks.search_descending\">\n<code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">search_descending</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.search_descending\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p><cite>i</cite> in descending array <cite>a</cite> so <cite>a[i] &lt; a[0] * relative_threshold</cite></p>\n<p>Call <code class=\"docutils literal\"><span class=\"pre\">T</span> <span class=\"pre\">=</span> <span class=\"pre\">a[0]</span> <span class=\"pre\">*</span> <span class=\"pre\">relative_threshold</span></code>. Return value <cite>i</cite> will be the\nsmallest index in the descending array <cite>a</cite> such that <code class=\"docutils literal\"><span class=\"pre\">a[i]</span> <span class=\"pre\">&lt;</span> <span class=\"pre\">T</span></code>.\nEquivalently, <cite>i</cite> will be the largest index such that <code class=\"docutils literal\"><span class=\"pre\">all(a[:i]</span> <span class=\"pre\">&gt;=</span> <span class=\"pre\">T)</span></code>.\nIf all values in <cite>a</cite> are &gt;= T, return the length of array <cite>a</cite>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>a</strong> : ndarray, ndim=1, c-contiguous</p>\n<blockquote>\n<div><p>Array to be searched.  We assume <cite>a</cite> is in descending order.</p>\n</div></blockquote>\n<p><strong>relative_threshold</strong> : float</p>\n<blockquote>\n<div><p>Applied threshold will be <code class=\"docutils literal\"><span class=\"pre\">T</span></code> with <code class=\"docutils literal\"><span class=\"pre\">T</span> <span class=\"pre\">=</span> <span class=\"pre\">a[0]</span> <span class=\"pre\">*</span> <span class=\"pre\">relative_threshold</span></code>.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>i</strong> : np.intp</p>\n<blockquote class=\"last\">\n<div><p>If <code class=\"docutils literal\"><span class=\"pre\">T</span> <span class=\"pre\">=</span> <span class=\"pre\">a[0]</span> <span class=\"pre\">*</span> <span class=\"pre\">relative_threshold</span></code> then <cite>i</cite> will be the largest index\nsuch that <code class=\"docutils literal\"><span class=\"pre\">all(a[:i]</span> <span class=\"pre\">&gt;=</span> <span class=\"pre\">T)</span></code>.  If all values in <cite>a</cite> are &gt;= T then\n<cite>i</cite> will be <cite>len(a)</cite>.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">arange</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"nb\">float</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span>\n<span class=\"go\">array([ 10.,   9.,   8.,   7.,   6.,   5.,   4.,   3.,   2.,   1.])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">search_descending</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"mf\">0.5</span><span class=\"p\">)</span>\n<span class=\"go\">6</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">&lt;</span> <span class=\"mi\">10</span> <span class=\"o\">*</span> <span class=\"mf\">0.5</span>\n<span class=\"go\">array([False, False, False, False, False, False,  True,  True,  True,  True], dtype=bool)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">search_descending</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"go\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">search_descending</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"go\">0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">search_descending</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"go\">10</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id19\">\n<h3>sh_to_sf_matrix<a class=\"headerlink\" href=\"#id19\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.peaks.sh_to_sf_matrix\">\n<code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">sh_to_sf_matrix</code><span class=\"sig-paren\">(</span><em>sphere</em>, <em>sh_order</em>, <em>basis_type=None</em>, <em>return_inv=True</em>, <em>smooth=0</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.sh_to_sf_matrix\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Matrix that transforms Spherical harmonics (SH) to spherical\nfunction (SF).</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>The points on which to sample the spherical function.</p>\n</div></blockquote>\n<p><strong>sh_order</strong> : int, optional</p>\n<blockquote>\n<div><p>Maximum SH order in the SH fit.  For <cite>sh_order</cite>, there will be\n<code class=\"docutils literal\"><span class=\"pre\">(sh_order</span> <span class=\"pre\">+</span> <span class=\"pre\">1)</span> <span class=\"pre\">*</span> <span class=\"pre\">(sh_order_2)</span> <span class=\"pre\">/</span> <span class=\"pre\">2</span></code> SH coefficients (default 4).</p>\n</div></blockquote>\n<p><strong>basis_type</strong> : {None, &#8216;mrtrix&#8217;, &#8216;fibernav&#8217;}</p>\n<blockquote>\n<div><p><code class=\"docutils literal\"><span class=\"pre\">None</span></code> for the default dipy basis,\n<code class=\"docutils literal\"><span class=\"pre\">mrtrix</span></code> for the MRtrix basis, and\n<code class=\"docutils literal\"><span class=\"pre\">fibernav</span></code> for the FiberNavigator basis\n(default <code class=\"docutils literal\"><span class=\"pre\">None</span></code>).</p>\n</div></blockquote>\n<p><strong>return_inv</strong> : bool</p>\n<blockquote>\n<div><p>If True then the inverse of the matrix is also returned</p>\n</div></blockquote>\n<p><strong>smooth</strong> : float, optional</p>\n<blockquote>\n<div><p>Lambda-regularization in the SH fit (default 0.0).</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>B</strong> : ndarray</p>\n<blockquote>\n<div><p>Matrix that transforms spherical harmonics to spherical function\n<code class=\"docutils literal\"><span class=\"pre\">sf</span> <span class=\"pre\">=</span> <span class=\"pre\">np.dot(sh,</span> <span class=\"pre\">B)</span></code>.</p>\n</div></blockquote>\n<p><strong>invB</strong> : ndarray</p>\n<blockquote class=\"last\">\n<div><p>Inverse of B.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id20\">\n<h3>warn<a class=\"headerlink\" href=\"#id20\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.peaks.warn\">\n<code class=\"descclassname\">dipy.direction.peaks.</code><code class=\"descname\">warn</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.peaks.warn\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Issue a warning, or maybe ignore it or raise an exception.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id21\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.DeterministicMaximumDirectionGetter\" title=\"dipy.direction.probabilistic_direction_getter.DeterministicMaximumDirectionGetter\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">DeterministicMaximumDirectionGetter</span></code></a><a class=\"headerlink\" href=\"#id21\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.DeterministicMaximumDirectionGetter\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.probabilistic_direction_getter.</code><code class=\"descname\">DeterministicMaximumDirectionGetter</code><span class=\"sig-paren\">(</span><em>pmf_gen</em>, <em>max_angle</em>, <em>sphere=None</em>, <em>pmf_threshold=0.1</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.DeterministicMaximumDirectionGetter\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter\" title=\"dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter</span></code></a></p>\n<p>Return direction of a sphere with the highest probability mass\nfunction (pmf).</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">from_pmf</span></code>(klass,&nbsp;pmf,&nbsp;max_angle,&nbsp;sphere[,&nbsp;...])</td>\n<td>Constructor for making a DirectionGetter from an array of Pmfs</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">from_shcoeff</span></code>(klass,&nbsp;shcoeff,&nbsp;max_angle,&nbsp;sphere)</td>\n<td>Probabilistic direction getter from a distribution of directions on the sphere.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.DeterministicMaximumDirectionGetter.get_direction\" title=\"dipy.direction.probabilistic_direction_getter.DeterministicMaximumDirectionGetter.get_direction\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">get_direction</span></code></a>(point,&nbsp;direction)</td>\n<td>Find direction with the highest pmf to updates <code class=\"docutils literal\"><span class=\"pre\">direction</span></code> array with a new direction.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">initial_direction</span></code>(point)</td>\n<td>Returns best directions at seed location to start tracking.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.DeterministicMaximumDirectionGetter.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>pmf_gen</em>, <em>max_angle</em>, <em>sphere=None</em>, <em>pmf_threshold=0.1</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.DeterministicMaximumDirectionGetter.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Direction getter from a pmf generator.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>pmf_gen</strong> : PmfGen</p>\n<blockquote>\n<div><p>Used to get probability mass function for selecting tracking\ndirections.</p>\n</div></blockquote>\n<p><strong>max_angle</strong> : float, [0, 90]</p>\n<blockquote>\n<div><p>The maximum allowed angle between incoming direction and new\ndirection.</p>\n</div></blockquote>\n<p><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>The set of directions to be used for tracking.</p>\n</div></blockquote>\n<p><strong>pmf_threshold</strong> : float [0., 1.]</p>\n<blockquote>\n<div><p>Used to remove direction from the probability mass function for\nselecting the tracking direction.</p>\n</div></blockquote>\n<p><strong>relative_peak_threshold</strong> : float in [0., 1.]</p>\n<blockquote>\n<div><p>Used for extracting initial tracking directions. Passed to\npeak_directions.</p>\n</div></blockquote>\n<p><strong>min_separation_angle</strong> : float in [0, 90]</p>\n<blockquote class=\"last\">\n<div><p>Used for extracting initial tracking directions. Passed to\npeak_directions.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.direction.peaks.peak_directions\" title=\"dipy.direction.peaks.peak_directions\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">dipy.direction.peaks.peak_directions</span></code></a></p>\n</div>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.DeterministicMaximumDirectionGetter.get_direction\">\n<code class=\"descname\">get_direction</code><span class=\"sig-paren\">(</span><em>point</em>, <em>direction</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.DeterministicMaximumDirectionGetter.get_direction\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Find direction with the highest pmf to updates <code class=\"docutils literal\"><span class=\"pre\">direction</span></code> array\nwith a new direction.\nParameters\n&#8212;&#8212;&#8212;-\npoint : memory-view (or ndarray), shape (3,)</p>\n<blockquote>\n<div>The point in an image at which to lookup tracking directions.</div></blockquote>\n<dl class=\"docutils\">\n<dt>direction</dt>\n <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">memory-view (or ndarray), shape (3,)</span><dd>Previous tracking direction.</dd>\n</dl>\n<dl class=\"docutils\">\n<dt>status</dt>\n <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span><dd>Returns 0 <cite>direction</cite> was updated with a new tracking direction, or\n1 otherwise.</dd>\n</dl>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"directiongetter\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.DirectionGetter\" title=\"dipy.direction.probabilistic_direction_getter.DirectionGetter\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">DirectionGetter</span></code></a><a class=\"headerlink\" href=\"#directiongetter\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.DirectionGetter\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.probabilistic_direction_getter.</code><code class=\"descname\">DirectionGetter</code><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.DirectionGetter\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/2/library/functions.html#object\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">object</span></code></a></p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.DirectionGetter.get_direction\" title=\"dipy.direction.probabilistic_direction_getter.DirectionGetter.get_direction\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">get_direction</span></code></a></td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.DirectionGetter.initial_direction\" title=\"dipy.direction.probabilistic_direction_getter.DirectionGetter.initial_direction\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">initial_direction</span></code></a></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.DirectionGetter.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.DirectionGetter.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.DirectionGetter.get_direction\">\n<code class=\"descname\">get_direction</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.DirectionGetter.get_direction\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.DirectionGetter.initial_direction\">\n<code class=\"descname\">initial_direction</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.DirectionGetter.initial_direction\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"peakdirectiongetter\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.PeakDirectionGetter\" title=\"dipy.direction.probabilistic_direction_getter.PeakDirectionGetter\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">PeakDirectionGetter</span></code></a><a class=\"headerlink\" href=\"#peakdirectiongetter\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.PeakDirectionGetter\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.probabilistic_direction_getter.</code><code class=\"descname\">PeakDirectionGetter</code><span class=\"sig-paren\">(</span><em>sphere=None</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.PeakDirectionGetter\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.tracking.local.direction_getter.DirectionGetter</span></code></p>\n<p>An abstract class for DirectionGetters that use the peak_directions\nmachinery.</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">get_direction</span></code></td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">initial_direction</span></code></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.PeakDirectionGetter.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>sphere=None</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.PeakDirectionGetter.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.PeakDirectionGetter.sphere\">\n<code class=\"descname\">sphere</code><em class=\"property\"> = &lt;dipy.core.sphere.HemiSphere object&gt;</em><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.PeakDirectionGetter.sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"pmfgen\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.PmfGen\" title=\"dipy.direction.probabilistic_direction_getter.PmfGen\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">PmfGen</span></code></a><a class=\"headerlink\" href=\"#pmfgen\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.PmfGen\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.probabilistic_direction_getter.</code><code class=\"descname\">PmfGen</code><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.PmfGen\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/2/library/functions.html#object\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">object</span></code></a></p>\n<dl class=\"method\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.PmfGen.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.PmfGen.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id22\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter\" title=\"dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">ProbabilisticDirectionGetter</span></code></a><a class=\"headerlink\" href=\"#id22\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.probabilistic_direction_getter.</code><code class=\"descname\">ProbabilisticDirectionGetter</code><span class=\"sig-paren\">(</span><em>pmf_gen</em>, <em>max_angle</em>, <em>sphere=None</em>, <em>pmf_threshold=0.1</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.PeakDirectionGetter\" title=\"dipy.direction.probabilistic_direction_getter.PeakDirectionGetter\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.direction.probabilistic_direction_getter.PeakDirectionGetter</span></code></a></p>\n<p>Randomly samples direction of a sphere based on probability mass\nfunction (pmf).</p>\n<p>The main constructors for this class are current from_pmf and from_shcoeff.\nThe pmf gives the probability that each direction on the sphere should be\nchosen as the next direction. To get the true pmf from the &#8220;raw pmf&#8221;\ndirections more than <code class=\"docutils literal\"><span class=\"pre\">max_angle</span></code> degrees from the incoming direction are\nset to 0 and the result is normalized.</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.from_pmf\" title=\"dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.from_pmf\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">from_pmf</span></code></a>(klass,&nbsp;pmf,&nbsp;max_angle,&nbsp;sphere[,&nbsp;...])</td>\n<td>Constructor for making a DirectionGetter from an array of Pmfs</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.from_shcoeff\" title=\"dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.from_shcoeff\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">from_shcoeff</span></code></a>(klass,&nbsp;shcoeff,&nbsp;max_angle,&nbsp;sphere)</td>\n<td>Probabilistic direction getter from a distribution of directions on the sphere.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.get_direction\" title=\"dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.get_direction\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">get_direction</span></code></a>(point,&nbsp;direction)</td>\n<td>Samples a pmf to updates <code class=\"docutils literal\"><span class=\"pre\">direction</span></code> array with a new direction.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.initial_direction\" title=\"dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.initial_direction\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">initial_direction</span></code></a>(point)</td>\n<td>Returns best directions at seed location to start tracking.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>pmf_gen</em>, <em>max_angle</em>, <em>sphere=None</em>, <em>pmf_threshold=0.1</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Direction getter from a pmf generator.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>pmf_gen</strong> : PmfGen</p>\n<blockquote>\n<div><p>Used to get probability mass function for selecting tracking\ndirections.</p>\n</div></blockquote>\n<p><strong>max_angle</strong> : float, [0, 90]</p>\n<blockquote>\n<div><p>The maximum allowed angle between incoming direction and new\ndirection.</p>\n</div></blockquote>\n<p><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>The set of directions to be used for tracking.</p>\n</div></blockquote>\n<p><strong>pmf_threshold</strong> : float [0., 1.]</p>\n<blockquote>\n<div><p>Used to remove direction from the probability mass function for\nselecting the tracking direction.</p>\n</div></blockquote>\n<p><strong>relative_peak_threshold</strong> : float in [0., 1.]</p>\n<blockquote>\n<div><p>Used for extracting initial tracking directions. Passed to\npeak_directions.</p>\n</div></blockquote>\n<p><strong>min_separation_angle</strong> : float in [0, 90]</p>\n<blockquote class=\"last\">\n<div><p>Used for extracting initial tracking directions. Passed to\npeak_directions.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.direction.peaks.peak_directions\" title=\"dipy.direction.peaks.peak_directions\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">dipy.direction.peaks.peak_directions</span></code></a></p>\n</div>\n</dd></dl>\n\n<dl class=\"classmethod\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.from_pmf\">\n<em class=\"property\">classmethod </em><code class=\"descname\">from_pmf</code><span class=\"sig-paren\">(</span><em>klass</em>, <em>pmf</em>, <em>max_angle</em>, <em>sphere</em>, <em>pmf_threshold=0.1</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.from_pmf\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Constructor for making a DirectionGetter from an array of Pmfs</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>pmf</strong> : array, 4d</p>\n<blockquote>\n<div><p>The pmf to be used for tracking at each voxel.</p>\n</div></blockquote>\n<p><strong>max_angle</strong> : float, [0, 90]</p>\n<blockquote>\n<div><p>The maximum allowed angle between incoming direction and new\ndirection.</p>\n</div></blockquote>\n<p><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>The set of directions to be used for tracking.</p>\n</div></blockquote>\n<p><strong>pmf_threshold</strong> : float [0., 1.]</p>\n<blockquote>\n<div><p>Used to remove direction from the probability mass function for\nselecting the tracking direction.</p>\n</div></blockquote>\n<p><strong>relative_peak_threshold</strong> : float in [0., 1.]</p>\n<blockquote>\n<div><p>Used for extracting initial tracking directions. Passed to\npeak_directions.</p>\n</div></blockquote>\n<p><strong>min_separation_angle</strong> : float in [0, 90]</p>\n<blockquote class=\"last\">\n<div><p>Used for extracting initial tracking directions. Passed to\npeak_directions.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.direction.peaks.peak_directions\" title=\"dipy.direction.peaks.peak_directions\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">dipy.direction.peaks.peak_directions</span></code></a></p>\n</div>\n</dd></dl>\n\n<dl class=\"classmethod\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.from_shcoeff\">\n<em class=\"property\">classmethod </em><code class=\"descname\">from_shcoeff</code><span class=\"sig-paren\">(</span><em>klass</em>, <em>shcoeff</em>, <em>max_angle</em>, <em>sphere</em>, <em>pmf_threshold=0.1</em>, <em>basis_type=None</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.from_shcoeff\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Probabilistic direction getter from a distribution of directions\non the sphere.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>shcoeff</strong> : array</p>\n<blockquote>\n<div><p>The distribution of tracking directions at each voxel represented\nas a function on the sphere using the real spherical harmonic\nbasis. For example the FOD of the Constrained Spherical\nDeconvolution model can be used this way. This distribution will\nbe discretized using <code class=\"docutils literal\"><span class=\"pre\">sphere</span></code> and tracking directions will be\nchosen from the vertices of <code class=\"docutils literal\"><span class=\"pre\">sphere</span></code> based on the distribution.</p>\n</div></blockquote>\n<p><strong>max_angle</strong> : float, [0, 90]</p>\n<blockquote>\n<div><p>The maximum allowed angle between incoming direction and new\ndirection.</p>\n</div></blockquote>\n<p><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>The set of directions to be used for tracking.</p>\n</div></blockquote>\n<p><strong>pmf_threshold</strong> : float [0., 1.]</p>\n<blockquote>\n<div><p>Used to remove direction from the probability mass function for\nselecting the tracking direction.</p>\n</div></blockquote>\n<p><strong>basis_type</strong> : name of basis</p>\n<blockquote>\n<div><p>The basis that <code class=\"docutils literal\"><span class=\"pre\">shcoeff</span></code> are associated with.\n<code class=\"docutils literal\"><span class=\"pre\">dipy.reconst.shm.real_sym_sh_basis</span></code> is used by default.</p>\n</div></blockquote>\n<p><strong>relative_peak_threshold</strong> : float in [0., 1.]</p>\n<blockquote>\n<div><p>Used for extracting initial tracking directions. Passed to\npeak_directions.</p>\n</div></blockquote>\n<p><strong>min_separation_angle</strong> : float in [0, 90]</p>\n<blockquote class=\"last\">\n<div><p>Used for extracting initial tracking directions. Passed to\npeak_directions.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.direction.peaks.peak_directions\" title=\"dipy.direction.peaks.peak_directions\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">dipy.direction.peaks.peak_directions</span></code></a></p>\n</div>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.get_direction\">\n<code class=\"descname\">get_direction</code><span class=\"sig-paren\">(</span><em>point</em>, <em>direction</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.get_direction\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Samples a pmf to updates <code class=\"docutils literal\"><span class=\"pre\">direction</span></code> array with a new direction.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>point</strong> : memory-view (or ndarray), shape (3,)</p>\n<blockquote>\n<div><p>The point in an image at which to lookup tracking directions.</p>\n</div></blockquote>\n<p><strong>direction</strong> : memory-view (or ndarray), shape (3,)</p>\n<blockquote>\n<div><p>Previous tracking direction.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>status</strong> : int</p>\n<blockquote class=\"last\">\n<div><p>Returns 0 <cite>direction</cite> was updated with a new tracking direction, or\n1 otherwise.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.initial_direction\">\n<code class=\"descname\">initial_direction</code><span class=\"sig-paren\">(</span><em>point</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter.initial_direction\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns best directions at seed location to start tracking.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>point</strong> : ndarray, shape (3,)</p>\n<blockquote>\n<div><p>The point in an image at which to lookup tracking directions.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>directions</strong> : ndarray, shape (N, 3)</p>\n<blockquote class=\"last\">\n<div><p>Possible tracking directions from point. <code class=\"docutils literal\"><span class=\"pre\">N</span></code> may be 0, all\ndirections should be unique.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"shcoeffpmfgen\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.SHCoeffPmfGen\" title=\"dipy.direction.probabilistic_direction_getter.SHCoeffPmfGen\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">SHCoeffPmfGen</span></code></a><a class=\"headerlink\" href=\"#shcoeffpmfgen\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.SHCoeffPmfGen\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.probabilistic_direction_getter.</code><code class=\"descname\">SHCoeffPmfGen</code><span class=\"sig-paren\">(</span><em>shcoeff</em>, <em>sphere</em>, <em>basis_type</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.SHCoeffPmfGen\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.PmfGen\" title=\"dipy.direction.probabilistic_direction_getter.PmfGen\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.direction.probabilistic_direction_getter.PmfGen</span></code></a></p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.SHCoeffPmfGen.get_pmf\" title=\"dipy.direction.probabilistic_direction_getter.SHCoeffPmfGen.get_pmf\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">get_pmf</span></code></a>(point)</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.SHCoeffPmfGen.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>shcoeff</em>, <em>sphere</em>, <em>basis_type</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.SHCoeffPmfGen.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.SHCoeffPmfGen.get_pmf\">\n<code class=\"descname\">get_pmf</code><span class=\"sig-paren\">(</span><em>point</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.SHCoeffPmfGen.get_pmf\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"simplepmfgen\">\n<h3><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.SimplePmfGen\" title=\"dipy.direction.probabilistic_direction_getter.SimplePmfGen\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">SimplePmfGen</span></code></a><a class=\"headerlink\" href=\"#simplepmfgen\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.SimplePmfGen\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.direction.probabilistic_direction_getter.</code><code class=\"descname\">SimplePmfGen</code><span class=\"sig-paren\">(</span><em>pmf_array</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.SimplePmfGen\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.PmfGen\" title=\"dipy.direction.probabilistic_direction_getter.PmfGen\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.direction.probabilistic_direction_getter.PmfGen</span></code></a></p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.direction.probabilistic_direction_getter.SimplePmfGen.get_pmf\" title=\"dipy.direction.probabilistic_direction_getter.SimplePmfGen.get_pmf\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">get_pmf</span></code></a>(point)</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.SimplePmfGen.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>pmf_array</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.SimplePmfGen.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.SimplePmfGen.get_pmf\">\n<code class=\"descname\">get_pmf</code><span class=\"sig-paren\">(</span><em>point</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.SimplePmfGen.get_pmf\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"order-from-ncoef\">\n<h3>order_from_ncoef<a class=\"headerlink\" href=\"#order-from-ncoef\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.order_from_ncoef\">\n<code class=\"descclassname\">dipy.direction.probabilistic_direction_getter.</code><code class=\"descname\">order_from_ncoef</code><span class=\"sig-paren\">(</span><em>ncoef</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.order_from_ncoef\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Given a number n of coefficients, calculate back the sh_order</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id23\">\n<h3>peak_directions<a class=\"headerlink\" href=\"#id23\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.peak_directions\">\n<code class=\"descclassname\">dipy.direction.probabilistic_direction_getter.</code><code class=\"descname\">peak_directions</code><span class=\"sig-paren\">(</span><em>odf</em>, <em>sphere</em>, <em>relative_peak_threshold=0.5</em>, <em>min_separation_angle=25</em>, <em>minmax_norm=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.peak_directions\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Get the directions of odf peaks</p>\n<p>Peaks are defined as points on the odf that are greater than at least one\nneighbor and greater than or equal to all neighbors. Peaks are sorted in\ndescending order by their values then filtered based on their relative size\nand spacing on the sphere. An odf may have 0 peaks, for example if the odf\nis perfectly isotropic.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>odf</strong> : 1d ndarray</p>\n<blockquote>\n<div><p>The odf function evaluated on the vertices of <cite>sphere</cite></p>\n</div></blockquote>\n<p><strong>sphere</strong> : Sphere</p>\n<blockquote>\n<div><p>The Sphere providing discrete directions for evaluation.</p>\n</div></blockquote>\n<p><strong>relative_peak_threshold</strong> : float in [0., 1.]</p>\n<blockquote>\n<div><p>Only peaks greater than <code class=\"docutils literal\"><span class=\"pre\">min</span> <span class=\"pre\">+</span> <span class=\"pre\">relative_peak_threshold</span> <span class=\"pre\">*</span> <span class=\"pre\">scale</span></code> are\nkept, where <code class=\"docutils literal\"><span class=\"pre\">min</span> <span class=\"pre\">=</span> <span class=\"pre\">max(0,</span> <span class=\"pre\">odf.min())</span></code> and\n<code class=\"docutils literal\"><span class=\"pre\">scale</span> <span class=\"pre\">=</span> <span class=\"pre\">odf.max()</span> <span class=\"pre\">-</span> <span class=\"pre\">min</span></code>.</p>\n</div></blockquote>\n<p><strong>min_separation_angle</strong> : float in [0, 90]</p>\n<blockquote>\n<div><p>The minimum distance between directions. If two peaks are too close\nonly the larger of the two is returned.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>directions</strong> : (N, 3) ndarray</p>\n<blockquote>\n<div><p>N vertices for sphere, one for each peak</p>\n</div></blockquote>\n<p><strong>values</strong> : (N,) ndarray</p>\n<blockquote>\n<div><p>peak values</p>\n</div></blockquote>\n<p><strong>indices</strong> : (N,) ndarray</p>\n<blockquote class=\"last\">\n<div><p>peak indices of the directions on the sphere</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>If the odf has any negative values, they will be clipped to zeros.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"trilinear-interpolate4d\">\n<h3>trilinear_interpolate4d<a class=\"headerlink\" href=\"#trilinear-interpolate4d\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.direction.probabilistic_direction_getter.trilinear_interpolate4d\">\n<code class=\"descclassname\">dipy.direction.probabilistic_direction_getter.</code><code class=\"descname\">trilinear_interpolate4d</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.direction.probabilistic_direction_getter.trilinear_interpolate4d\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Tri-linear interpolation along the last dimension of a 4d array</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>point</strong> : 1d array (3,)</p>\n<blockquote>\n<div><p>3 doubles representing a 3d point in space. If point has integer values\n<code class=\"docutils literal\"><span class=\"pre\">[i,</span> <span class=\"pre\">j,</span> <span class=\"pre\">k]</span></code>, the result will be the same as <code class=\"docutils literal\"><span class=\"pre\">data[i,</span> <span class=\"pre\">j,</span> <span class=\"pre\">k]</span></code>.</p>\n</div></blockquote>\n<p><strong>data</strong> : 4d array</p>\n<blockquote>\n<div><p>Data to be interpolated.</p>\n</div></blockquote>\n<p><strong>out</strong> : 1d array, optional</p>\n<blockquote>\n<div><p>The output array for the result of the interpolation.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>out</strong> : 1d array</p>\n<blockquote class=\"last\">\n<div><p>The result of interpolation.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n</div>\n</div>\n", "parents": [{"link": "../../documentation/", "title": "Documentation"}, {"link": "../", "title": "API Reference"}], "metatags": "", "title": "<code class=\"docutils literal\"><span class=\"pre\">direction</span></code>", "sidebars": null, "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"docutils literal\"><span class=\"pre\">direction</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#module-dipy.direction.peaks\">Module: <code class=\"docutils literal\"><span class=\"pre\">direction.peaks</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.direction.probabilistic_direction_getter\">Module: <code class=\"docutils literal\"><span class=\"pre\">direction.probabilistic_direction_getter</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#deterministicmaximumdirectiongetter\"><code class=\"docutils literal\"><span class=\"pre\">DeterministicMaximumDirectionGetter</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#hemisphere\"><code class=\"docutils literal\"><span class=\"pre\">HemiSphere</span></code></a><ul>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#intemporarydirectory\"><code class=\"docutils literal\"><span class=\"pre\">InTemporaryDirectory</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#peaksandmetrics\"><code class=\"docutils literal\"><span class=\"pre\">PeaksAndMetrics</span></code></a><ul>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#peaksandmetricsdirectiongetter\"><code class=\"docutils literal\"><span class=\"pre\">PeaksAndMetricsDirectionGetter</span></code></a><ul>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#probabilisticdirectiongetter\"><code class=\"docutils literal\"><span class=\"pre\">ProbabilisticDirectionGetter</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#sphere\"><code class=\"docutils literal\"><span class=\"pre\">Sphere</span></code></a><ul>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#repeat\"><code class=\"docutils literal\"><span class=\"pre\">repeat</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#xrange\"><code class=\"docutils literal\"><span class=\"pre\">xrange</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#pool\">Pool</a></li>\n<li><a class=\"reference internal\" href=\"#cpu-count\">cpu_count</a></li>\n<li><a class=\"reference internal\" href=\"#gfa\">gfa</a></li>\n<li><a class=\"reference internal\" href=\"#local-maxima\">local_maxima</a></li>\n<li><a class=\"reference internal\" href=\"#ndindex\">ndindex</a></li>\n<li><a class=\"reference internal\" href=\"#peak-directions\">peak_directions</a></li>\n<li><a class=\"reference internal\" href=\"#peak-directions-nl\">peak_directions_nl</a></li>\n<li><a class=\"reference internal\" href=\"#peaks-from-model\">peaks_from_model</a></li>\n<li><a class=\"reference internal\" href=\"#remove-similar-vertices\">remove_similar_vertices</a></li>\n<li><a class=\"reference internal\" href=\"#reshape-peaks-for-visualization\">reshape_peaks_for_visualization</a></li>\n<li><a class=\"reference internal\" href=\"#search-descending\">search_descending</a></li>\n<li><a class=\"reference internal\" href=\"#sh-to-sf-matrix\">sh_to_sf_matrix</a></li>\n<li><a class=\"reference internal\" href=\"#warn\">warn</a></li>\n<li><a class=\"reference internal\" href=\"#id1\"><code class=\"docutils literal\"><span class=\"pre\">HemiSphere</span></code></a><ul>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#id2\"><code class=\"docutils literal\"><span class=\"pre\">InTemporaryDirectory</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id3\"><code class=\"docutils literal\"><span class=\"pre\">PeaksAndMetrics</span></code></a><ul>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#id4\"><code class=\"docutils literal\"><span class=\"pre\">PeaksAndMetricsDirectionGetter</span></code></a><ul>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#id5\"><code class=\"docutils literal\"><span class=\"pre\">Sphere</span></code></a><ul>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#id6\"><code class=\"docutils literal\"><span class=\"pre\">repeat</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id7\"><code class=\"docutils literal\"><span class=\"pre\">xrange</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id8\">Pool</a></li>\n<li><a class=\"reference internal\" href=\"#id9\">cpu_count</a></li>\n<li><a class=\"reference internal\" href=\"#id10\">gfa</a></li>\n<li><a class=\"reference internal\" href=\"#id11\">local_maxima</a></li>\n<li><a class=\"reference internal\" href=\"#id12\">ndindex</a></li>\n<li><a class=\"reference internal\" href=\"#id13\">peak_directions</a></li>\n<li><a class=\"reference internal\" href=\"#id14\">peak_directions_nl</a></li>\n<li><a class=\"reference internal\" href=\"#id15\">peaks_from_model</a></li>\n<li><a class=\"reference internal\" href=\"#id16\">remove_similar_vertices</a></li>\n<li><a class=\"reference internal\" href=\"#id17\">reshape_peaks_for_visualization</a></li>\n<li><a class=\"reference internal\" href=\"#id18\">search_descending</a></li>\n<li><a class=\"reference internal\" href=\"#id19\">sh_to_sf_matrix</a></li>\n<li><a class=\"reference internal\" href=\"#id20\">warn</a></li>\n<li><a class=\"reference internal\" href=\"#id21\"><code class=\"docutils literal\"><span class=\"pre\">DeterministicMaximumDirectionGetter</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#directiongetter\"><code class=\"docutils literal\"><span class=\"pre\">DirectionGetter</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#peakdirectiongetter\"><code class=\"docutils literal\"><span class=\"pre\">PeakDirectionGetter</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#pmfgen\"><code class=\"docutils literal\"><span class=\"pre\">PmfGen</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id22\"><code class=\"docutils literal\"><span class=\"pre\">ProbabilisticDirectionGetter</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#shcoeffpmfgen\"><code class=\"docutils literal\"><span class=\"pre\">SHCoeffPmfGen</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#simplepmfgen\"><code class=\"docutils literal\"><span class=\"pre\">SimplePmfGen</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#order-from-ncoef\">order_from_ncoef</a></li>\n<li><a class=\"reference internal\" href=\"#id23\">peak_directions</a></li>\n<li><a class=\"reference internal\" href=\"#trilinear-interpolate4d\">trilinear_interpolate4d</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "current_page_name": "reference/dipy.direction", "next": null, "meta": {}, "rellinks": [["genindex", "General Index", "I", "index"], ["reference/dipy.denoise", "<code class=\"docutils literal\"><span class=\"pre\">denoise</span></code>", "P", "previous"]], "display_toc": true, "sourcename": "reference/dipy.direction.txt", "customsidebar": null}