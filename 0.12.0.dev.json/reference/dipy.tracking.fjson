{"page_source_suffix": ".rst", "prev": {"link": "../dipy.sims/", "title": "<code class=\"docutils literal\"><span class=\"pre\">sims</span></code>"}, "alabaster_version": "0.7.7", "body": "<div class=\"section\" id=\"module-dipy.tracking\">\n<span id=\"tracking\"></span><h1><code class=\"xref py py-mod docutils literal\"><span class=\"pre\">tracking</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>Tracking objects</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.bench\" title=\"dipy.tracking.bench\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">bench</span></code></a></td>\n<td>Run benchmarks for module using nose.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.test\" title=\"dipy.tracking.test\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">test</span></code></a></td>\n<td>Run tests for module using nose.</td>\n</tr>\n</tbody>\n</table>\n<div class=\"section\" id=\"module-dipy.tracking._utils\">\n<span id=\"module-tracking-utils\"></span><h2>Module: <code class=\"xref py py-mod docutils literal\"><span class=\"pre\">tracking._utils</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking._utils\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking._utils.warn\" title=\"dipy.tracking._utils.warn\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">warn</span></code></a></td>\n<td>Issue a warning, or maybe ignore it or raise an exception.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.benchmarks\">\n<span id=\"module-tracking-benchmarks\"></span><h2>Module: <code class=\"xref py py-mod docutils literal\"><span class=\"pre\">tracking.benchmarks</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.benchmarks\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.benchmarks.bench_streamline\">\n<span id=\"module-tracking-benchmarks-bench-streamline\"></span><h2>Module: <code class=\"xref py py-mod docutils literal\"><span class=\"pre\">tracking.benchmarks.bench_streamline</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.benchmarks.bench_streamline\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Benchmarks for functions related to streamline</p>\n<p>Run all benchmarks with:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"kn\">import</span> <span class=\"nn\">dipy.tracking</span> <span class=\"k\">as</span> <span class=\"nn\">dipytracking</span>\n<span class=\"n\">dipytracking</span><span class=\"o\">.</span><span class=\"n\">bench</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>If you have doctests enabled by default in nose (with a noserc file or\nenvironment variable), and you have a numpy version &lt;= 1.6.1, this will also\nrun the doctests, let&#8217;s hope they pass.</p>\n<p>Run this benchmark with:</p>\n<blockquote>\n<div>nosetests -s &#8211;match &#8216;(?:^|[b_.//-])[Bb]ench&#8217; /path/to/bench_streamline.py</div></blockquote>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.bench_compress_streamlines\" title=\"dipy.tracking.benchmarks.bench_streamline.bench_compress_streamlines\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">bench_compress_streamlines</span></code></a>()</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.bench_length\" title=\"dipy.tracking.benchmarks.bench_streamline.bench_length\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">bench_length</span></code></a>()</td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.bench_set_number_of_points\" title=\"dipy.tracking.benchmarks.bench_streamline.bench_set_number_of_points\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">bench_set_number_of_points</span></code></a>()</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.compress_streamlines\" title=\"dipy.tracking.benchmarks.bench_streamline.compress_streamlines\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">compress_streamlines</span></code></a></td>\n<td>Compress streamlines by linearization as in <a class=\"reference internal\" href=\"#id44\" id=\"id1\">[Presseau15]</a>.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.compress_streamlines_python\" title=\"dipy.tracking.benchmarks.bench_streamline.compress_streamlines_python\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">compress_streamlines_python</span></code></a>(streamline[,&nbsp;...])</td>\n<td>Python version of the FiberCompression found on <a class=\"reference external\" href=\"https://github.com/scilus/FiberCompression\">https://github.com/scilus/FiberCompression</a>.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.get_data\" title=\"dipy.tracking.benchmarks.bench_streamline.get_data\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">get_data</span></code></a>([name])</td>\n<td>provides filenames of some test datasets or other useful parametrisations</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.length\" title=\"dipy.tracking.benchmarks.bench_streamline.length\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">length</span></code></a></td>\n<td>Euclidean length of streamlines</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.length_python\" title=\"dipy.tracking.benchmarks.bench_streamline.length_python\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">length_python</span></code></a>(xyz[,&nbsp;along])</td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.measure\" title=\"dipy.tracking.benchmarks.bench_streamline.measure\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">measure</span></code></a>(code_str[,&nbsp;times,&nbsp;label])</td>\n<td>Return elapsed time for executing code in the namespace of the caller.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.set_number_of_points\" title=\"dipy.tracking.benchmarks.bench_streamline.set_number_of_points\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">set_number_of_points</span></code></a></td>\n<td>Change the number of points of streamlines</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.set_number_of_points_python\" title=\"dipy.tracking.benchmarks.bench_streamline.set_number_of_points_python\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">set_number_of_points_python</span></code></a>(xyz[,&nbsp;n_pols])</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.eudx\">\n<span id=\"module-tracking-eudx\"></span><h2>Module: <code class=\"xref py py-mod docutils literal\"><span class=\"pre\">tracking.eudx</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.eudx\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.eudx.EuDX\" title=\"dipy.tracking.eudx.EuDX\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">EuDX</span></code></a>(a,&nbsp;ind,&nbsp;seeds,&nbsp;odf_vertices[,&nbsp;a_low,&nbsp;...])</td>\n<td>Euler Delta Crossings</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.eudx.eudx_both_directions\" title=\"dipy.tracking.eudx.eudx_both_directions\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">eudx_both_directions</span></code></a></td>\n<td><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"></td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.eudx.get_sphere\" title=\"dipy.tracking.eudx.get_sphere\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">get_sphere</span></code></a>([name])</td>\n<td>provide triangulated spheres</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.learning\">\n<span id=\"module-tracking-learning\"></span><h2>Module: <code class=\"xref py py-mod docutils literal\"><span class=\"pre\">tracking.learning</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.learning\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Learning algorithms for tractography</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.learning.detect_corresponding_tracks\" title=\"dipy.tracking.learning.detect_corresponding_tracks\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">detect_corresponding_tracks</span></code></a>(indices,&nbsp;...)</td>\n<td>Detect corresponding tracks from list tracks1 to list tracks2</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.learning.detect_corresponding_tracks_plus\" title=\"dipy.tracking.learning.detect_corresponding_tracks_plus\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">detect_corresponding_tracks_plus</span></code></a>(indices,&nbsp;...)</td>\n<td>Detect corresponding tracks from 1 to 2 where tracks1 &amp; tracks2 are</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.life\">\n<span id=\"module-tracking-life\"></span><h2>Module: <code class=\"xref py py-mod docutils literal\"><span class=\"pre\">tracking.life</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.life\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>This is an implementation of the Linear Fascicle Evaluation (LiFE) algorithm\ndescribed in:</p>\n<p>Pestilli, F., Yeatman, J, Rokem, A. Kay, K. and Wandell B.A. (2014). Validation\nand statistical inference in living connectomes. Nature Methods 11:\n1058-1063. doi:10.1038/nmeth.3098</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.FiberFit\" title=\"dipy.tracking.life.FiberFit\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">FiberFit</span></code></a>(fiber_model,&nbsp;life_matrix,&nbsp;...)</td>\n<td>A fit of the LiFE model to diffusion data</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.FiberModel\" title=\"dipy.tracking.life.FiberModel\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">FiberModel</span></code></a>(gtab)</td>\n<td>A class for representing and solving predictive models based on tractography solutions.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.LifeSignalMaker\" title=\"dipy.tracking.life.LifeSignalMaker\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">LifeSignalMaker</span></code></a>(gtab[,&nbsp;evals,&nbsp;sphere])</td>\n<td>A class for generating signals from streamlines in an efficient and speedy manner.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.ReconstFit\" title=\"dipy.tracking.life.ReconstFit\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">ReconstFit</span></code></a>(model,&nbsp;data)</td>\n<td>Abstract class which holds the fit result of ReconstModel</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.ReconstModel\" title=\"dipy.tracking.life.ReconstModel\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">ReconstModel</span></code></a>(gtab)</td>\n<td>Abstract class for signal reconstruction models</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.range\" title=\"dipy.tracking.life.range\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">range</span></code></a>((stop)&nbsp;-&gt;&nbsp;range&nbsp;object)</td>\n<td>range(start, stop[, step]) -&gt; range object</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.grad_tensor\" title=\"dipy.tracking.life.grad_tensor\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">grad_tensor</span></code></a>(grad,&nbsp;evals)</td>\n<td>Calculate the 3 by 3 tensor for a given spatial gradient, given a canonical</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.gradient\" title=\"dipy.tracking.life.gradient\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">gradient</span></code></a>(f)</td>\n<td>Return the gradient of an N-dimensional array.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.streamline_gradients\" title=\"dipy.tracking.life.streamline_gradients\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">streamline_gradients</span></code></a>(streamline)</td>\n<td>Calculate the gradients of the streamline along the spatial dimension</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.streamline_signal\" title=\"dipy.tracking.life.streamline_signal\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">streamline_signal</span></code></a>(streamline,&nbsp;gtab[,&nbsp;evals])</td>\n<td>The signal from a single streamline estimate along each of its nodes.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.streamline_tensors\" title=\"dipy.tracking.life.streamline_tensors\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">streamline_tensors</span></code></a>(streamline[,&nbsp;evals])</td>\n<td>The tensors generated by this fiber.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.transform_streamlines\" title=\"dipy.tracking.life.transform_streamlines\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">transform_streamlines</span></code></a>(streamlines,&nbsp;mat)</td>\n<td>Apply affine transformation to streamlines</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.unique_rows\" title=\"dipy.tracking.life.unique_rows\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">unique_rows</span></code></a>(in_array[,&nbsp;dtype])</td>\n<td>This (quickly) finds the unique rows in an array</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.voxel2streamline\" title=\"dipy.tracking.life.voxel2streamline\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">voxel2streamline</span></code></a>(streamline[,&nbsp;transformed,&nbsp;...])</td>\n<td>Maps voxels to streamlines and streamlines to voxels, for setting up</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.local\">\n<span id=\"module-tracking-local\"></span><h2>Module: <code class=\"xref py py-mod docutils literal\"><span class=\"pre\">tracking.local</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.local\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.ActTissueClassifier\" title=\"dipy.tracking.local.ActTissueClassifier\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">ActTissueClassifier</span></code></a></td>\n<td>Anatomically-Constrained Tractography (ACT) stopping criteria from [R209].</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.BinaryTissueClassifier\" title=\"dipy.tracking.local.BinaryTissueClassifier\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">BinaryTissueClassifier</span></code></a></td>\n<td>cdef:</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.DirectionGetter\" title=\"dipy.tracking.local.DirectionGetter\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">DirectionGetter</span></code></a></td>\n<td><p class=\"rubric\">Methods</p>\n</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.LocalTracking\" title=\"dipy.tracking.local.LocalTracking\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">LocalTracking</span></code></a>(direction_getter,&nbsp;...[,&nbsp;...])</td>\n<td>A streamline generator for local tracking methods</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.ThresholdTissueClassifier\" title=\"dipy.tracking.local.ThresholdTissueClassifier\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">ThresholdTissueClassifier</span></code></a></td>\n<td># Declarations from tissue_classifier.pxd bellow</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.TissueClassifier\" title=\"dipy.tracking.local.TissueClassifier\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">TissueClassifier</span></code></a></td>\n<td><p class=\"rubric\">Methods</p>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.local.localtracking\">\n<span id=\"module-tracking-local-localtracking\"></span><h2>Module: <code class=\"xref py py-mod docutils literal\"><span class=\"pre\">tracking.local.localtracking</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.local.localtracking\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.Bunch\" title=\"dipy.tracking.local.localtracking.Bunch\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">Bunch</span></code></a>(**kwds)</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.LocalTracking\" title=\"dipy.tracking.local.localtracking.LocalTracking\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">LocalTracking</span></code></a>(direction_getter,&nbsp;...[,&nbsp;...])</td>\n<td>A streamline generator for local tracking methods</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.local_tracker\" title=\"dipy.tracking.local.localtracking.local_tracker\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">local_tracker</span></code></a></td>\n<td>Tracks one direction from a seed.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.metrics\">\n<span id=\"module-tracking-metrics\"></span><h2>Module: <code class=\"xref py py-mod docutils literal\"><span class=\"pre\">tracking.metrics</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.metrics\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Metrics for tracks, where tracks are arrays of points</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.xrange\" title=\"dipy.tracking.metrics.xrange\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">xrange</span></code></a></td>\n<td>alias of <code class=\"xref py py-class docutils literal\"><span class=\"pre\">range</span></code></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.arbitrarypoint\" title=\"dipy.tracking.metrics.arbitrarypoint\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">arbitrarypoint</span></code></a>(xyz,&nbsp;distance)</td>\n<td>Select an arbitrary point along distance on the track (curve)</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.bytes\" title=\"dipy.tracking.metrics.bytes\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">bytes</span></code></a>(xyz)</td>\n<td>Size of track in bytes.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.center_of_mass\" title=\"dipy.tracking.metrics.center_of_mass\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">center_of_mass</span></code></a>(xyz)</td>\n<td>Center of mass of streamline</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.downsample\" title=\"dipy.tracking.metrics.downsample\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">downsample</span></code></a>(xyz[,&nbsp;n_pols])</td>\n<td>downsample for a specific number of points along the curve/track</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.endpoint\" title=\"dipy.tracking.metrics.endpoint\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">endpoint</span></code></a>(xyz)</td>\n<td><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"></td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.frenet_serret\" title=\"dipy.tracking.metrics.frenet_serret\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">frenet_serret</span></code></a>(xyz)</td>\n<td>Frenet-Serret Space Curve Invariants</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.generate_combinations\" title=\"dipy.tracking.metrics.generate_combinations\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">generate_combinations</span></code></a>(items,&nbsp;n)</td>\n<td>Combine sets of size n from items</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.inside_sphere\" title=\"dipy.tracking.metrics.inside_sphere\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">inside_sphere</span></code></a>(xyz,&nbsp;center,&nbsp;radius)</td>\n<td>If any point of the track is inside a sphere of a specified center and radius return True otherwise False.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.inside_sphere_points\" title=\"dipy.tracking.metrics.inside_sphere_points\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">inside_sphere_points</span></code></a>(xyz,&nbsp;center,&nbsp;radius)</td>\n<td>If a track intersects with a sphere of a specified center and radius return the points that are inside the sphere otherwise False.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.intersect_sphere\" title=\"dipy.tracking.metrics.intersect_sphere\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">intersect_sphere</span></code></a>(xyz,&nbsp;center,&nbsp;radius)</td>\n<td>If any segment of the track is intersecting with a sphere of</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.length\" title=\"dipy.tracking.metrics.length\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">length</span></code></a>(xyz[,&nbsp;along])</td>\n<td>Euclidean length of track line</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.longest_track_bundle\" title=\"dipy.tracking.metrics.longest_track_bundle\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">longest_track_bundle</span></code></a>(bundle[,&nbsp;sort])</td>\n<td>Return longest track or length sorted track indices in <cite>bundle</cite></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.magn\" title=\"dipy.tracking.metrics.magn\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">magn</span></code></a>(xyz[,&nbsp;n])</td>\n<td>magnitude of vector</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.mean_curvature\" title=\"dipy.tracking.metrics.mean_curvature\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">mean_curvature</span></code></a>(xyz)</td>\n<td>Calculates the mean curvature of a curve</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.mean_orientation\" title=\"dipy.tracking.metrics.mean_orientation\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">mean_orientation</span></code></a>(xyz)</td>\n<td>Calculates the mean orientation of a curve</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.midpoint\" title=\"dipy.tracking.metrics.midpoint\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">midpoint</span></code></a>(xyz)</td>\n<td>Midpoint of track</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.midpoint2point\" title=\"dipy.tracking.metrics.midpoint2point\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">midpoint2point</span></code></a>(xyz,&nbsp;p)</td>\n<td>Calculate distance from midpoint of a curve to arbitrary point p</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.principal_components\" title=\"dipy.tracking.metrics.principal_components\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">principal_components</span></code></a>(xyz)</td>\n<td>We use PCA to calculate the 3 principal directions for a track</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.splev\" title=\"dipy.tracking.metrics.splev\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">splev</span></code></a>(x,&nbsp;tck[,&nbsp;der,&nbsp;ext])</td>\n<td>Evaluate a B-spline or its derivatives.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.spline\" title=\"dipy.tracking.metrics.spline\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">spline</span></code></a>(xyz[,&nbsp;s,&nbsp;k,&nbsp;nest])</td>\n<td>Generate B-splines as documented in</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.splprep\" title=\"dipy.tracking.metrics.splprep\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">splprep</span></code></a>(x[,&nbsp;w,&nbsp;u,&nbsp;ub,&nbsp;ue,&nbsp;k,&nbsp;task,&nbsp;s,&nbsp;t,&nbsp;...])</td>\n<td>Find the B-spline representation of an N-dimensional curve.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.startpoint\" title=\"dipy.tracking.metrics.startpoint\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">startpoint</span></code></a>(xyz)</td>\n<td>First point of the track</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.winding\" title=\"dipy.tracking.metrics.winding\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">winding</span></code></a>(xyz)</td>\n<td>Total turning angle projected.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.streamline\">\n<span id=\"module-tracking-streamline\"></span><h2>Module: <code class=\"xref py py-mod docutils literal\"><span class=\"pre\">tracking.streamline</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.streamline\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.apply_affine\" title=\"dipy.tracking.streamline.apply_affine\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">apply_affine</span></code></a>(aff,&nbsp;pts)</td>\n<td>Apply affine matrix <cite>aff</cite> to points <cite>pts</cite></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.cdist\" title=\"dipy.tracking.streamline.cdist\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">cdist</span></code></a>(XA,&nbsp;XB[,&nbsp;metric,&nbsp;p,&nbsp;V,&nbsp;VI,&nbsp;w])</td>\n<td>Computes distance between each pair of the two collections of inputs.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.center_streamlines\" title=\"dipy.tracking.streamline.center_streamlines\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">center_streamlines</span></code></a>(streamlines)</td>\n<td>Move streamlines to the origin</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.compress_streamlines\" title=\"dipy.tracking.streamline.compress_streamlines\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">compress_streamlines</span></code></a></td>\n<td>Compress streamlines by linearization as in <a class=\"reference internal\" href=\"#id44\" id=\"id3\">[Presseau15]</a>.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.deepcopy\" title=\"dipy.tracking.streamline.deepcopy\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">deepcopy</span></code></a>(x[,&nbsp;memo,&nbsp;_nil])</td>\n<td>Deep copy operation on arbitrary Python objects.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.dist_to_corner\" title=\"dipy.tracking.streamline.dist_to_corner\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">dist_to_corner</span></code></a>(affine)</td>\n<td>Calculate the maximal distance from the center to a corner of a voxel,</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.length\" title=\"dipy.tracking.streamline.length\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">length</span></code></a></td>\n<td>Euclidean length of streamlines</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.orient_by_rois\" title=\"dipy.tracking.streamline.orient_by_rois\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">orient_by_rois</span></code></a>(streamlines,&nbsp;roi1,&nbsp;roi2[,&nbsp;...])</td>\n<td>Orient a set of streamlines according to a pair of ROIs</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.relist_streamlines\" title=\"dipy.tracking.streamline.relist_streamlines\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">relist_streamlines</span></code></a>(points,&nbsp;offsets)</td>\n<td>Given a representation of a set of streamlines as a large array and an offsets array return the streamlines as a list of shorter arrays.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.select_by_rois\" title=\"dipy.tracking.streamline.select_by_rois\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">select_by_rois</span></code></a>(streamlines,&nbsp;rois,&nbsp;include[,&nbsp;...])</td>\n<td>Select streamlines based on logical relations with several regions of interest (ROIs).</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.select_random_set_of_streamlines\" title=\"dipy.tracking.streamline.select_random_set_of_streamlines\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">select_random_set_of_streamlines</span></code></a>(...)</td>\n<td>Select a random set of streamlines</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.set_number_of_points\" title=\"dipy.tracking.streamline.set_number_of_points\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">set_number_of_points</span></code></a></td>\n<td>Change the number of points of streamlines</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.streamline_near_roi\" title=\"dipy.tracking.streamline.streamline_near_roi\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">streamline_near_roi</span></code></a>(streamline,&nbsp;roi_coords,&nbsp;tol)</td>\n<td>Is a streamline near an ROI.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.transform_streamlines\" title=\"dipy.tracking.streamline.transform_streamlines\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">transform_streamlines</span></code></a>(streamlines,&nbsp;mat)</td>\n<td>Apply affine transformation to streamlines</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.unlist_streamlines\" title=\"dipy.tracking.streamline.unlist_streamlines\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">unlist_streamlines</span></code></a>(streamlines)</td>\n<td>Return the streamlines not as a list but as an array and an offset</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.values_from_volume\" title=\"dipy.tracking.streamline.values_from_volume\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">values_from_volume</span></code></a>(data,&nbsp;streamlines[,&nbsp;affine])</td>\n<td>Extract values of a scalar/vector along each streamline from a volume.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.warn\" title=\"dipy.tracking.streamline.warn\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">warn</span></code></a></td>\n<td>Issue a warning, or maybe ignore it or raise an exception.</td>\n</tr>\n</tbody>\n</table>\n<div class=\"section\" id=\"bench\">\n<h3>bench<a class=\"headerlink\" href=\"#bench\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.bench\">\n<code class=\"descclassname\">dipy.tracking.</code><code class=\"descname\">bench</code><span class=\"sig-paren\">(</span><em>self</em>, <em>label='fast'</em>, <em>verbose=1</em>, <em>extra_argv=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.bench\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Run benchmarks for module using nose.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>label</strong> : {&#8216;fast&#8217;, &#8216;full&#8217;, &#8216;&#8217;, attribute identifier}, optional</p>\n<blockquote>\n<div><p>Identifies the benchmarks to run. This can be a string to pass to\nthe nosetests executable with the &#8216;-A&#8217; option, or one of several\nspecial values.  Special values are:\n* &#8216;fast&#8217; - the default - which corresponds to the <code class=\"docutils literal\"><span class=\"pre\">nosetests</span> <span class=\"pre\">-A</span></code></p>\n<blockquote>\n<div><p>option of &#8216;not slow&#8217;.</p>\n</div></blockquote>\n<ul class=\"simple\">\n<li>&#8216;full&#8217; - fast (as above) and slow benchmarks as in the\n&#8216;no -A&#8217; option to nosetests - this is the same as &#8216;&#8217;.</li>\n<li>None or &#8216;&#8217; - run all tests.</li>\n</ul>\n<p>attribute_identifier - string passed directly to nosetests as &#8216;-A&#8217;.</p>\n</div></blockquote>\n<p><strong>verbose</strong> : int, optional</p>\n<blockquote>\n<div><p>Verbosity value for benchmark outputs, in the range 1-10. Default is 1.</p>\n</div></blockquote>\n<p><strong>extra_argv</strong> : list, optional</p>\n<blockquote>\n<div><p>List with any extra arguments to pass to nosetests.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>success</strong> : bool</p>\n<blockquote class=\"last\">\n<div><p>Returns True if running the benchmarks works, False if an error\noccurred.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>Benchmarks are like tests, but have names starting with &#8220;bench&#8221; instead\nof &#8220;test&#8221;, and can be found under the &#8220;benchmarks&#8221; sub-directory of the\nmodule.</p>\n<p>Each NumPy module exposes <cite>bench</cite> in its namespace to run all benchmarks\nfor it.</p>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">success</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">bench</span><span class=\"p\">()</span> \n<span class=\"go\">Running benchmarks for numpy.lib</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">using 562341 items:</span>\n<span class=\"go\">unique:</span>\n<span class=\"go\">0.11</span>\n<span class=\"go\">unique1d:</span>\n<span class=\"go\">0.11</span>\n<span class=\"go\">ratio: 1.0</span>\n<span class=\"go\">nUnique: 56230 == 56230</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">OK</span>\n</pre></div>\n</div>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">success</span> \n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"test\">\n<h3>test<a class=\"headerlink\" href=\"#test\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.test\">\n<code class=\"descclassname\">dipy.tracking.</code><code class=\"descname\">test</code><span class=\"sig-paren\">(</span><em>self</em>, <em>label='fast'</em>, <em>verbose=1</em>, <em>extra_argv=None</em>, <em>doctests=False</em>, <em>coverage=False</em>, <em>raise_warnings=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.test\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Run tests for module using nose.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>label</strong> : {&#8216;fast&#8217;, &#8216;full&#8217;, &#8216;&#8217;, attribute identifier}, optional</p>\n<blockquote>\n<div><p>Identifies the tests to run. This can be a string to pass to\nthe nosetests executable with the &#8216;-A&#8217; option, or one of several\nspecial values.  Special values are:\n* &#8216;fast&#8217; - the default - which corresponds to the <code class=\"docutils literal\"><span class=\"pre\">nosetests</span> <span class=\"pre\">-A</span></code></p>\n<blockquote>\n<div><p>option of &#8216;not slow&#8217;.</p>\n</div></blockquote>\n<ul class=\"simple\">\n<li>&#8216;full&#8217; - fast (as above) and slow tests as in the\n&#8216;no -A&#8217; option to nosetests - this is the same as &#8216;&#8217;.</li>\n<li>None or &#8216;&#8217; - run all tests.</li>\n</ul>\n<p>attribute_identifier - string passed directly to nosetests as &#8216;-A&#8217;.</p>\n</div></blockquote>\n<p><strong>verbose</strong> : int, optional</p>\n<blockquote>\n<div><p>Verbosity value for test outputs, in the range 1-10. Default is 1.</p>\n</div></blockquote>\n<p><strong>extra_argv</strong> : list, optional</p>\n<blockquote>\n<div><p>List with any extra arguments to pass to nosetests.</p>\n</div></blockquote>\n<p><strong>doctests</strong> : bool, optional</p>\n<blockquote>\n<div><p>If True, run doctests in module. Default is False.</p>\n</div></blockquote>\n<p><strong>coverage</strong> : bool, optional</p>\n<blockquote>\n<div><p>If True, report coverage of NumPy code. Default is False.\n(This requires the <a href=\"#id4\"><span class=\"problematic\" id=\"id5\">`</span></a>coverage module:</p>\n<blockquote>\n<div><p>&lt;<a class=\"reference external\" href=\"http://nedbatchelder.com/code/modules/coverage.html\">http://nedbatchelder.com/code/modules/coverage.html</a>&gt;`_).</p>\n</div></blockquote>\n</div></blockquote>\n<p><strong>raise_warnings</strong> : str or sequence of warnings, optional</p>\n<blockquote>\n<div><p>This specifies which warnings to configure as &#8216;raise&#8217; instead\nof &#8216;warn&#8217; during the test execution.  Valid strings are:</p>\n<blockquote>\n<div><ul class=\"simple\">\n<li>&#8220;develop&#8221; : equals <code class=\"docutils literal\"><span class=\"pre\">(DeprecationWarning,</span> <span class=\"pre\">RuntimeWarning)</span></code></li>\n<li>&#8220;release&#8221; : equals <code class=\"docutils literal\"><span class=\"pre\">()</span></code>, don&#8217;t raise on any warnings.</li>\n</ul>\n</div></blockquote>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>result</strong> : object</p>\n<blockquote class=\"last\">\n<div><p>Returns the result of running the tests as a\n<code class=\"docutils literal\"><span class=\"pre\">nose.result.TextTestResult</span></code> object.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>Each NumPy module exposes <cite>test</cite> in its namespace to run all tests for it.\nFor example, to run all tests for numpy.lib:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">test</span><span class=\"p\">()</span> \n</pre></div>\n</div>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">test</span><span class=\"p\">()</span> \n<span class=\"go\">Running unit tests for numpy.lib</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">Ran 976 tests in 3.933s</span>\n</pre></div>\n</div>\n<p>OK</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">result</span><span class=\"o\">.</span><span class=\"n\">errors</span> \n<span class=\"go\">[]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">result</span><span class=\"o\">.</span><span class=\"n\">knownfail</span> \n<span class=\"go\">[]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"warn\">\n<h3>warn<a class=\"headerlink\" href=\"#warn\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking._utils.warn\">\n<code class=\"descclassname\">dipy.tracking._utils.</code><code class=\"descname\">warn</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking._utils.warn\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Issue a warning, or maybe ignore it or raise an exception.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"bench-compress-streamlines\">\n<h3>bench_compress_streamlines<a class=\"headerlink\" href=\"#bench-compress-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.bench_compress_streamlines\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">bench_compress_streamlines</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.bench_compress_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"bench-length\">\n<h3>bench_length<a class=\"headerlink\" href=\"#bench-length\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.bench_length\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">bench_length</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.bench_length\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"bench-set-number-of-points\">\n<h3>bench_set_number_of_points<a class=\"headerlink\" href=\"#bench-set-number-of-points\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.bench_set_number_of_points\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">bench_set_number_of_points</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.bench_set_number_of_points\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"compress-streamlines\">\n<h3>compress_streamlines<a class=\"headerlink\" href=\"#compress-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.compress_streamlines\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">compress_streamlines</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.compress_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Compress streamlines by linearization as in <a class=\"reference internal\" href=\"#id44\" id=\"id6\">[Presseau15]</a>.</p>\n<p>The compression consists in merging consecutive segments that are\nnearly collinear. The merging is achieved by removing the point the two\nsegments have in common.</p>\n<p>The linearization process <a class=\"reference internal\" href=\"#id44\" id=\"id7\">[Presseau15]</a> ensures that every point being\nremoved are within a certain margin (in mm) of the resulting streamline.\nRecommendations for setting this margin can be found in <a class=\"reference internal\" href=\"#id44\" id=\"id8\">[Presseau15]</a>\n(in which they called it tolerance error).</p>\n<p>The compression also ensures that two consecutive points won&#8217;t be too far\nfrom each other (precisely less or equal than <a href=\"#id9\"><span class=\"problematic\" id=\"id10\">`</span></a>max_segment_length`mm).\nThis is a tradeoff to speed up the linearization process <a class=\"reference internal\" href=\"#id45\" id=\"id11\">[Rheault15]</a>. A low\nvalue will result in a faster linearization but low compression, whereas\na high value will result in a slower linearization but high compression.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamlines</strong> : one or a list of array-like of shape (N,3)</p>\n<blockquote>\n<div><p>Array representing x,y,z of N points in a streamline.</p>\n</div></blockquote>\n<p><strong>tol_error</strong> : float (optional)</p>\n<blockquote>\n<div><p>Tolerance error in mm (default: 0.01). A rule of thumb is to set it\nto 0.01mm for deterministic streamlines and 0.1mm for probabilitic\nstreamlines.</p>\n</div></blockquote>\n<p><strong>max_segment_length</strong> : float (optional)</p>\n<blockquote>\n<div><p>Maximum length in mm of any given segment produced by the compression.\nThe default is 10mm. (In <a class=\"reference internal\" href=\"#id44\" id=\"id12\">[Presseau15]</a>, they used a value of <cite>np.inf</cite>).</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>compressed_streamlines</strong> : one or a list of array-like</p>\n<blockquote class=\"last\">\n<div><p>Results of the linearization process.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>Be aware that compressed streamlines have variable step sizes. One needs to\nbe careful when computing streamlines-based metrics <a class=\"reference internal\" href=\"#id46\" id=\"id13\">[Houde15]</a>.</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"presseau15\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Presseau15]</td><td>Presseau C. et al., A new compression format for fiber\ntracking datasets, NeuroImage, no 109, 73-83, 2015.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"rheault15\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Rheault15]</td><td>Rheault F. et al., Real Time Interaction with Millions of\nStreamlines, ISMRM, 2015.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"houde15\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Houde15]</td><td>Houde J.-C. et al. How to Avoid Biased Streamlines-Based\nMetrics for Streamlines with Variable Step Sizes, ISMRM, 2015.</td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.streamline</span> <span class=\"k\">import</span> <span class=\"n\">compress_streamlines</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># One streamline: a wiggling line</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rng</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">RandomState</span><span class=\"p\">(</span><span class=\"mi\">42</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"o\">*</span><span class=\"mi\">3</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">reshape</span><span class=\"p\">((</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">+=</span> <span class=\"mf\">0.2</span> <span class=\"o\">*</span> <span class=\"n\">rng</span><span class=\"o\">.</span><span class=\"n\">rand</span><span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c_streamline</span> <span class=\"o\">=</span> <span class=\"n\">compress_streamlines</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">tol_error</span><span class=\"o\">=</span><span class=\"mf\">0.2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">)</span>\n<span class=\"go\">100</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">c_streamline</span><span class=\"p\">)</span>\n<span class=\"go\">10</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Multiple streamlines</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">streamline</span><span class=\"p\">[::</span><span class=\"mi\">2</span><span class=\"p\">]]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c_streamlines</span> <span class=\"o\">=</span> <span class=\"n\">compress_streamlines</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"n\">tol_error</span><span class=\"o\">=</span><span class=\"mf\">0.2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[100, 50]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">c_streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[10, 7]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"compress-streamlines-python\">\n<h3>compress_streamlines_python<a class=\"headerlink\" href=\"#compress-streamlines-python\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.compress_streamlines_python\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">compress_streamlines_python</code><span class=\"sig-paren\">(</span><em>streamline</em>, <em>tol_error=0.01</em>, <em>max_segment_length=10</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.compress_streamlines_python\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Python version of the FiberCompression found on\n<a class=\"reference external\" href=\"https://github.com/scilus/FiberCompression\">https://github.com/scilus/FiberCompression</a>.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"get-data\">\n<h3>get_data<a class=\"headerlink\" href=\"#get-data\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.get_data\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">get_data</code><span class=\"sig-paren\">(</span><em>name='small_64D'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.get_data\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>provides filenames of some test datasets or other useful parametrisations</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>name</strong> : str</p>\n<blockquote>\n<div><p>the filename/s of which dataset to return, one of:\n&#8216;small_64D&#8217; small region of interest nifti,bvecs,bvals 64 directions\n&#8216;small_101D&#8217; small region of interest nifti,bvecs,bvals 101 directions\n&#8216;aniso_vox&#8217; volume with anisotropic voxel size as Nifti\n&#8216;fornix&#8217; 300 tracks in Trackvis format (from Pittsburgh</p>\n<blockquote>\n<div><p>Brain Competition)</p>\n</div></blockquote>\n<dl class=\"docutils\">\n<dt>&#8216;gqi_vectors&#8217; the scanner wave vectors needed for a GQI acquisitions</dt>\n<dd><p class=\"first last\">of 101 directions tested on Siemens 3T Trio</p>\n</dd>\n</dl>\n<p>&#8216;small_25&#8217; small ROI (10x8x2) DTI data (b value 2000, 25 directions)\n&#8216;test_piesno&#8217; slice of N=8, K=14 diffusion data\n&#8216;reg_c&#8217; small 2D image used for validating registration\n&#8216;reg_o&#8217; small 2D image used for validation registration\n&#8216;cb_2&#8217; two vectorized cingulum bundles</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>fnames</strong> : tuple</p>\n<blockquote class=\"last\">\n<div><p>filenames for dataset</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.data</span> <span class=\"k\">import</span> <span class=\"n\">get_data</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">fimg</span><span class=\"p\">,</span><span class=\"n\">fbvals</span><span class=\"p\">,</span><span class=\"n\">fbvecs</span><span class=\"o\">=</span><span class=\"n\">get_data</span><span class=\"p\">(</span><span class=\"s1\">&#39;small_101D&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvals</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">loadtxt</span><span class=\"p\">(</span><span class=\"n\">fbvals</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvecs</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">loadtxt</span><span class=\"p\">(</span><span class=\"n\">fbvecs</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">nibabel</span> <span class=\"k\">as</span> <span class=\"nn\">nib</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">img</span><span class=\"o\">=</span><span class=\"n\">nib</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"n\">fimg</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span><span class=\"o\">=</span><span class=\"n\">img</span><span class=\"o\">.</span><span class=\"n\">get_data</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">102</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvals</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">102</span><span class=\"p\">,)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvecs</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">102</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"length\">\n<h3>length<a class=\"headerlink\" href=\"#length\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.length\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">length</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.length\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Euclidean length of streamlines</p>\n<p>This will give length in mm if streamlines are expressed in world coordinates.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamlines</strong> : one or a list of array-like shape (N,3)</p>\n<blockquote>\n<div><p>array representing x,y,z of N points in a streamline</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>lengths</strong> : scalar or array shape (N,)</p>\n<blockquote class=\"last\">\n<div><p>scalar representing the length of one streamline, or\narray representing the lengths of multiple streamlines.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.streamline</span> <span class=\"k\">import</span> <span class=\"n\">length</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">expected_length</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"o\">+</span><span class=\"mi\">2</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">3</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">3</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">4</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"n\">expected_length</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">([</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">streamline</span><span class=\"p\">[::</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">expected_lengths</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">expected_length</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"o\">*</span><span class=\"n\">expected_length</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">allclose</span><span class=\"p\">(</span><span class=\"n\">expected_lengths</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]),</span> <span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">])])</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">([])</span>\n<span class=\"go\">0.0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]]))</span>\n<span class=\"go\">0.0</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"length-python\">\n<h3>length_python<a class=\"headerlink\" href=\"#length-python\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.length_python\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">length_python</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>along=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.length_python\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"measure\">\n<h3>measure<a class=\"headerlink\" href=\"#measure\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.measure\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">measure</code><span class=\"sig-paren\">(</span><em>code_str</em>, <em>times=1</em>, <em>label=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.measure\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return elapsed time for executing code in the namespace of the caller.</p>\n<p>The supplied code string is compiled with the Python builtin <code class=\"docutils literal\"><span class=\"pre\">compile</span></code>.\nThe precision of the timing is 10 milli-seconds. If the code will execute\nfast on this timescale, it can be executed many times to get reasonable\ntiming accuracy.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>code_str</strong> : str</p>\n<blockquote>\n<div><p>The code to be timed.</p>\n</div></blockquote>\n<p><strong>times</strong> : int, optional</p>\n<blockquote>\n<div><p>The number of times the code is executed. Default is 1. The code is\nonly compiled once.</p>\n</div></blockquote>\n<p><strong>label</strong> : str, optional</p>\n<blockquote>\n<div><p>A label to identify <cite>code_str</cite> with. This is passed into <code class=\"docutils literal\"><span class=\"pre\">compile</span></code>\nas the second argument (for run-time error messages).</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>elapsed</strong> : float</p>\n<blockquote class=\"last\">\n<div><p>Total elapsed time in seconds for executing <cite>code_str</cite> <cite>times</cite> times.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">etime</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">testing</span><span class=\"o\">.</span><span class=\"n\">measure</span><span class=\"p\">(</span><span class=\"s1\">&#39;for i in range(1000): np.sqrt(i**2)&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">times</span><span class=\"o\">=</span><span class=\"n\">times</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;Time for a single execution : &quot;</span><span class=\"p\">,</span> <span class=\"n\">etime</span> <span class=\"o\">/</span> <span class=\"n\">times</span><span class=\"p\">,</span> <span class=\"s2\">&quot;s&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">Time for a single execution :  0.005 s</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"set-number-of-points\">\n<h3>set_number_of_points<a class=\"headerlink\" href=\"#set-number-of-points\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.set_number_of_points\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">set_number_of_points</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.set_number_of_points\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><dl class=\"docutils\">\n<dt>Change the number of points of streamlines</dt>\n<dd>(either by downsampling or upsampling)</dd>\n</dl>\n<p>Change the number of points of streamlines in order to obtain\n<cite>nb_points</cite>-1 segments of equal length. Points of streamlines will be\nmodified along the curve.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamlines</strong> : one or a list of array-like shape (N,3)</p>\n<blockquote>\n<div><p>array representing x,y,z of N points in a streamline</p>\n</div></blockquote>\n<p><strong>nb_points</strong> : int</p>\n<blockquote>\n<div><p>integer representing number of points wanted along the curve.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>modified_streamlines</strong> : one or a list of array-like shape (<cite>nb_points</cite>,3)</p>\n<blockquote class=\"last\">\n<div><p>array representing x,y,z of <cite>nb_points</cite> points that were interpolated.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.streamline</span> <span class=\"k\">import</span> <span class=\"n\">set_number_of_points</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># One streamline: a semi-circle</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span> <span class=\"o\">=</span> <span class=\"mi\">0</span> <span class=\"o\">*</span> <span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">modified_streamline</span> <span class=\"o\">=</span> <span class=\"n\">set_number_of_points</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">modified_streamline</span><span class=\"p\">)</span>\n<span class=\"go\">3</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Multiple streamlines</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">streamline</span><span class=\"p\">[::</span><span class=\"mi\">2</span><span class=\"p\">]]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">modified_streamlines</span> <span class=\"o\">=</span> <span class=\"n\">set_number_of_points</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[100, 50]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">modified_streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[10, 10]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"set-number-of-points-python\">\n<h3>set_number_of_points_python<a class=\"headerlink\" href=\"#set-number-of-points-python\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.set_number_of_points_python\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">set_number_of_points_python</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>n_pols=3</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.set_number_of_points_python\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"eudx\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.eudx.EuDX\" title=\"dipy.tracking.eudx.EuDX\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">EuDX</span></code></a><a class=\"headerlink\" href=\"#eudx\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.eudx.EuDX\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.eudx.</code><code class=\"descname\">EuDX</code><span class=\"sig-paren\">(</span><em>a</em>, <em>ind</em>, <em>seeds</em>, <em>odf_vertices</em>, <em>a_low=0.0239</em>, <em>step_sz=0.5</em>, <em>ang_thr=60.0</em>, <em>length_thr=0.0</em>, <em>total_weight=0.5</em>, <em>max_points=1000</em>, <em>affine=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.eudx.EuDX\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/2/library/functions.html#object\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">object</span></code></a></p>\n<p>Euler Delta Crossings</p>\n<p>Generates tracks with termination criteria defined by a delta function <a class=\"reference internal\" href=\"#r216\" id=\"id17\">[R216]</a>\nand it has similarities with FACT algorithm <a class=\"reference internal\" href=\"#r217\" id=\"id18\">[R217]</a> and Basser&#8217;s method\nbut uses trilinear interpolation.</p>\n<p>Can be used with any reconstruction method as DTI, DSI, QBI, GQI which can\ncalculate an orientation distribution function and find the local peaks of\nthat function. For example a single tensor model can give you only\none peak a dual tensor model 2 peaks and quantitative anisotropy\nmethod as used in GQI can give you 3,4,5 or even more peaks.</p>\n<p>The parameters of the delta function are checking thresholds for the\ndirection propagation magnitude and the angle of propagation.</p>\n<p>A specific number of seeds is defined randomly and then the tracks\nare generated for that seed if the delta function returns true.</p>\n<p>Trilinear interpolation is being used for defining the weights of\nthe propagation.</p>\n<p class=\"rubric\">Notes</p>\n<p>The coordinate system of the tractography is that of native space of image\ncoordinates not native space world coordinates therefore voxel size is\nalways considered as having size (1,1,1).  Therefore, the origin is at the\ncenter of the center of the first voxel of the volume and all i,j,k\ncoordinates start from the center of the voxel they represent.</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r216\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[R216]</td><td><em>(<a class=\"fn-backref\" href=\"#id17\">1</a>, <a class=\"fn-backref\" href=\"#id19\">2</a>)</em> Garyfallidis, Towards an accurate brain tractography, PhD thesis,\nUniversity of Cambridge, 2012.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r217\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[R217]</td><td><em>(<a class=\"fn-backref\" href=\"#id18\">1</a>, <a class=\"fn-backref\" href=\"#id20\">2</a>)</em> Mori et al. Three-dimensional tracking of axonal projections\nin the brain by magnetic resonance imaging. Ann. Neurol. 1999.</td></tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.eudx.EuDX.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>a</em>, <em>ind</em>, <em>seeds</em>, <em>odf_vertices</em>, <em>a_low=0.0239</em>, <em>step_sz=0.5</em>, <em>ang_thr=60.0</em>, <em>length_thr=0.0</em>, <em>total_weight=0.5</em>, <em>max_points=1000</em>, <em>affine=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.eudx.EuDX.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Euler integration with multiple stopping criteria and supporting\nmultiple multiple fibres in crossings <a class=\"reference internal\" href=\"#r218\" id=\"id21\">[R218]</a>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>a</strong> : array,</p>\n<blockquote>\n<div><p>Shape (I, J, K, Np), magnitude of the peak of a scalar anisotropic\nfunction e.g. QA (quantitative anisotropy) where Np is the number\nof peaks or a different function of shape (I, J, K) e.g FA or GFA.</p>\n</div></blockquote>\n<p><strong>ind</strong> : array, shape(x, y, z, Np)</p>\n<blockquote>\n<div><p>indices of orientations of the scalar anisotropic peaks found on\nthe resampling sphere</p>\n</div></blockquote>\n<p><strong>seeds</strong> : int or ndarray</p>\n<blockquote>\n<div><p>If an int is specified then that number of random seeds is\ngenerated in the volume. If an (N, 3) array of points is given,\neach of the N points is used as a seed. Seed points should be given\nin the point space of the track (see <code class=\"docutils literal\"><span class=\"pre\">affine</span></code>). The latter is\nuseful when you need to track from specific regions e.g. the\nwhite/gray matter interface or a specific ROI e.g. in the corpus\ncallosum.</p>\n</div></blockquote>\n<p><strong>odf_vertices</strong> : ndarray, shape (N, 3)</p>\n<blockquote>\n<div><p>sphere points which define a discrete representation of\norientations for the peaks, the same for all voxels. Usually the\nsame sphere is used as an input for a reconstruction algorithm\ne.g. DSI.</p>\n</div></blockquote>\n<p><strong>a_low</strong> : float, optional</p>\n<blockquote>\n<div><p>low threshold for QA(typical 0.023)  or FA(typical 0.2) or any\nother anisotropic function</p>\n</div></blockquote>\n<p><strong>step_sz</strong> : float, optional</p>\n<blockquote>\n<div><p>euler propagation step size</p>\n</div></blockquote>\n<p><strong>ang_thr</strong> : float, optional</p>\n<blockquote>\n<div><p>if turning angle is bigger than this threshold then tracking stops.</p>\n</div></blockquote>\n<p><strong>total_weight</strong> : float, optional</p>\n<blockquote>\n<div><p>total weighting threshold</p>\n</div></blockquote>\n<p><strong>max_points</strong> : int, optional</p>\n<blockquote>\n<div><p>maximum number of points in a track. Used to stop tracks from\nlooping forever.</p>\n</div></blockquote>\n<p><strong>affine</strong> : array (4, 4) optional</p>\n<blockquote>\n<div><p>An affine mapping from the voxel indices of the input data to the\npoint space of the streamlines. That is if <code class=\"docutils literal\"><span class=\"pre\">[x,</span> <span class=\"pre\">y,</span> <span class=\"pre\">z,</span> <span class=\"pre\">1]</span> <span class=\"pre\">==</span>\n<span class=\"pre\">point_space</span> <span class=\"pre\">*</span> <span class=\"pre\">[i,</span> <span class=\"pre\">j,</span> <span class=\"pre\">k,</span> <span class=\"pre\">1]</span></code>, then the streamline with point\n<code class=\"docutils literal\"><span class=\"pre\">[x,</span> <span class=\"pre\">y,</span> <span class=\"pre\">z]</span></code> passes though the center of voxel <code class=\"docutils literal\"><span class=\"pre\">[i,</span> <span class=\"pre\">j,</span> <span class=\"pre\">k]</span></code>. If\nno point_space is given, the point space will be in voxel\ncoordinates.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>generator</strong> : obj</p>\n<blockquote class=\"last\">\n<div><p>By iterating this generator you can obtain all the streamlines.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>This works as an iterator class because otherwise it could fill your\nentire memory if you generate many tracks.  Something very common as\nyou can easily generate millions of tracks if you have many seeds.</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r218\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[R218]</td><td><em>(<a class=\"fn-backref\" href=\"#id21\">1</a>, <a class=\"fn-backref\" href=\"#id22\">2</a>)</em> E. Garyfallidis (2012), &#8220;Towards an accurate brain\ntractography&#8221;, PhD thesis, University of Cambridge, UK.</td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">nibabel</span> <span class=\"k\">as</span> <span class=\"nn\">nib</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.reconst.dti</span> <span class=\"k\">import</span> <span class=\"n\">TensorModel</span><span class=\"p\">,</span> <span class=\"n\">quantize_evecs</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.data</span> <span class=\"k\">import</span> <span class=\"n\">get_data</span><span class=\"p\">,</span> <span class=\"n\">get_sphere</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core.gradients</span> <span class=\"k\">import</span> <span class=\"n\">gradient_table</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">fimg</span><span class=\"p\">,</span><span class=\"n\">fbvals</span><span class=\"p\">,</span><span class=\"n\">fbvecs</span> <span class=\"o\">=</span> <span class=\"n\">get_data</span><span class=\"p\">(</span><span class=\"s1\">&#39;small_101D&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">img</span> <span class=\"o\">=</span> <span class=\"n\">nib</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"n\">fimg</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">affine</span> <span class=\"o\">=</span> <span class=\"n\">img</span><span class=\"o\">.</span><span class=\"n\">get_affine</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">img</span><span class=\"o\">.</span><span class=\"n\">get_data</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gtab</span> <span class=\"o\">=</span> <span class=\"n\">gradient_table</span><span class=\"p\">(</span><span class=\"n\">fbvals</span><span class=\"p\">,</span> <span class=\"n\">fbvecs</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">TensorModel</span><span class=\"p\">(</span><span class=\"n\">gtab</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ten</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">fit</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sphere</span> <span class=\"o\">=</span> <span class=\"n\">get_sphere</span><span class=\"p\">(</span><span class=\"s1\">&#39;symmetric724&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ind</span> <span class=\"o\">=</span> <span class=\"n\">quantize_evecs</span><span class=\"p\">(</span><span class=\"n\">ten</span><span class=\"o\">.</span><span class=\"n\">evecs</span><span class=\"p\">,</span> <span class=\"n\">sphere</span><span class=\"o\">.</span><span class=\"n\">vertices</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">eu</span> <span class=\"o\">=</span> <span class=\"n\">EuDX</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">=</span><span class=\"n\">ten</span><span class=\"o\">.</span><span class=\"n\">fa</span><span class=\"p\">,</span> <span class=\"n\">ind</span><span class=\"o\">=</span><span class=\"n\">ind</span><span class=\"p\">,</span> <span class=\"n\">seeds</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"n\">odf_vertices</span><span class=\"o\">=</span><span class=\"n\">sphere</span><span class=\"o\">.</span><span class=\"n\">vertices</span><span class=\"p\">,</span> <span class=\"n\">a_low</span><span class=\"o\">=.</span><span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">tracks</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">e</span> <span class=\"k\">for</span> <span class=\"n\">e</span> <span class=\"ow\">in</span> <span class=\"n\">eu</span><span class=\"p\">]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"eudx-both-directions\">\n<h3>eudx_both_directions<a class=\"headerlink\" href=\"#eudx-both-directions\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.eudx.eudx_both_directions\">\n<code class=\"descclassname\">dipy.tracking.eudx.</code><code class=\"descname\">eudx_both_directions</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.eudx.eudx_both_directions\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>seed</strong> : array, float64 shape (3,)</p>\n<blockquote>\n<div><p>Point where the tracking starts.</p>\n</div></blockquote>\n<p><strong>ref</strong> : cnp.npy_intp int</p>\n<blockquote>\n<div><p>Index of peak to follow first.</p>\n</div></blockquote>\n<p><strong>qa</strong> : array, float64 shape (X, Y, Z, Np)</p>\n<blockquote>\n<div><p>Anisotropy matrix, where <code class=\"docutils literal\"><span class=\"pre\">Np</span></code> is the number of maximum allowed peaks.</p>\n</div></blockquote>\n<p><strong>ind</strong> : array, float64 shape(x, y, z, Np)</p>\n<blockquote>\n<div><p>Index of the track orientation.</p>\n</div></blockquote>\n<p><strong>odf_vertices</strong> : double array shape (N, 3)</p>\n<blockquote>\n<div><p>Sampling directions on the sphere.</p>\n</div></blockquote>\n<p><strong>qa_thr</strong> : float</p>\n<blockquote>\n<div><p>Threshold for QA, we want everything higher than this threshold.</p>\n</div></blockquote>\n<p><strong>ang_thr</strong> : float</p>\n<blockquote>\n<div><p>Angle threshold, we only select fiber orientation within this range.</p>\n</div></blockquote>\n<p><strong>step_sz</strong> : double</p>\n<p><strong>total_weight</strong> : double</p>\n<p><strong>max_points</strong> : cnp.npy_intp</p>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first last\"><strong>track</strong> : array, shape (N,3)</p>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"get-sphere\">\n<h3>get_sphere<a class=\"headerlink\" href=\"#get-sphere\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.eudx.get_sphere\">\n<code class=\"descclassname\">dipy.tracking.eudx.</code><code class=\"descname\">get_sphere</code><span class=\"sig-paren\">(</span><em>name='symmetric362'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.eudx.get_sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>provide triangulated spheres</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>name</strong> : str</p>\n<blockquote>\n<div><p>which sphere - one of:\n* &#8216;symmetric362&#8217;\n* &#8216;symmetric642&#8217;\n* &#8216;symmetric724&#8217;\n* &#8216;repulsion724&#8217;\n* &#8216;repulsion100&#8217;</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first last\"><strong>sphere</strong> : a dipy.core.sphere.Sphere class instance</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.data</span> <span class=\"k\">import</span> <span class=\"n\">get_sphere</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sphere</span> <span class=\"o\">=</span> <span class=\"n\">get_sphere</span><span class=\"p\">(</span><span class=\"s1\">&#39;symmetric362&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">verts</span><span class=\"p\">,</span> <span class=\"n\">faces</span> <span class=\"o\">=</span> <span class=\"n\">sphere</span><span class=\"o\">.</span><span class=\"n\">vertices</span><span class=\"p\">,</span> <span class=\"n\">sphere</span><span class=\"o\">.</span><span class=\"n\">faces</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">verts</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">362</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">faces</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">720</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">verts</span><span class=\"p\">,</span> <span class=\"n\">faces</span> <span class=\"o\">=</span> <span class=\"n\">get_sphere</span><span class=\"p\">(</span><span class=\"s1\">&#39;not a sphere name&#39;</span><span class=\"p\">)</span> \n<span class=\"gt\">Traceback (most recent call last):</span>\n    <span class=\"o\">...</span>\n<span class=\"gr\">DataError</span>: <span class=\"n\">No sphere called &quot;not a sphere name&quot;</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"detect-corresponding-tracks\">\n<h3>detect_corresponding_tracks<a class=\"headerlink\" href=\"#detect-corresponding-tracks\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.learning.detect_corresponding_tracks\">\n<code class=\"descclassname\">dipy.tracking.learning.</code><code class=\"descname\">detect_corresponding_tracks</code><span class=\"sig-paren\">(</span><em>indices</em>, <em>tracks1</em>, <em>tracks2</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.learning.detect_corresponding_tracks\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Detect corresponding tracks from list tracks1 to list tracks2\nwhere tracks1 &amp; tracks2 are lists of tracks</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>indices</strong> : sequence</p>\n<blockquote>\n<div><p>of indices of tracks1 that are to be detected in tracks2</p>\n</div></blockquote>\n<p><strong>tracks1</strong> : sequence</p>\n<blockquote>\n<div><p>of tracks as arrays, shape (N1,3) .. (Nm,3)</p>\n</div></blockquote>\n<p><strong>tracks2</strong> : sequence</p>\n<blockquote>\n<div><p>of tracks as arrays, shape (M1,3) .. (Mm,3)</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>track2track</strong> : array (N,2) where N is len(indices) of int</p>\n<blockquote class=\"last\">\n<div><p>it shows the correspondance in the following way:\nthe first column is the current index in tracks1\nthe second column is the corresponding index in tracks2</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>To find the corresponding tracks we use mam_distances with &#8216;avg&#8217; option.\nThen we calculate the argmin of all the calculated distances and return it\nfor every index. (See 3rd column of arr in the example given below.)</p>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">dipy.tracking.learning</span> <span class=\"k\">as</span> <span class=\"nn\">tl</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">A</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">B</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">C</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bundle1</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">A</span><span class=\"p\">,</span> <span class=\"n\">B</span><span class=\"p\">,</span> <span class=\"n\">C</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bundle2</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">B</span><span class=\"p\">,</span> <span class=\"n\">A</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">indices</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">arr</span> <span class=\"o\">=</span> <span class=\"n\">tl</span><span class=\"o\">.</span><span class=\"n\">detect_corresponding_tracks</span><span class=\"p\">(</span><span class=\"n\">indices</span><span class=\"p\">,</span> <span class=\"n\">bundle1</span><span class=\"p\">,</span> <span class=\"n\">bundle2</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"detect-corresponding-tracks-plus\">\n<h3>detect_corresponding_tracks_plus<a class=\"headerlink\" href=\"#detect-corresponding-tracks-plus\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.learning.detect_corresponding_tracks_plus\">\n<code class=\"descclassname\">dipy.tracking.learning.</code><code class=\"descname\">detect_corresponding_tracks_plus</code><span class=\"sig-paren\">(</span><em>indices</em>, <em>tracks1</em>, <em>indices2</em>, <em>tracks2</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.learning.detect_corresponding_tracks_plus\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Detect corresponding tracks from 1 to 2 where tracks1 &amp; tracks2 are\nsequences of tracks</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>indices</strong> : sequence</p>\n<blockquote>\n<div><p>of indices of tracks1 that are to be detected in tracks2</p>\n</div></blockquote>\n<p><strong>tracks1</strong> : sequence</p>\n<blockquote>\n<div><p>of tracks as arrays, shape (N1,3) .. (Nm,3)</p>\n</div></blockquote>\n<p><strong>indices2</strong> : sequence</p>\n<blockquote>\n<div><p>of indices of tracks2 in the initial brain</p>\n</div></blockquote>\n<p><strong>tracks2</strong> : sequence</p>\n<blockquote>\n<div><p>of tracks as arrays, shape (M1,3) .. (Mm,3)</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>track2track</strong> : array (N,2) where N is len(indices)</p>\n<blockquote class=\"last\">\n<div><p>of int showing the correspondance in th following way\nthe first colum is the current index of tracks1\nthe second column is the corresponding index in tracks2</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">distances.mam_distances</span></code></p>\n</div>\n<p class=\"rubric\">Notes</p>\n<p>To find the corresponding tracks we use mam_distances with &#8216;avg&#8217; option.\nThen we calculate the argmin of all the calculated distances and return it\nfor every index. (See 3rd column of arr in the example given below.)</p>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">dipy.tracking.learning</span> <span class=\"k\">as</span> <span class=\"nn\">tl</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">A</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">B</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">C</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bundle1</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">A</span><span class=\"p\">,</span> <span class=\"n\">B</span><span class=\"p\">,</span> <span class=\"n\">C</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bundle2</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">B</span><span class=\"p\">,</span> <span class=\"n\">A</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">indices</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">indices2</span> <span class=\"o\">=</span> <span class=\"n\">indices</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">arr</span> <span class=\"o\">=</span> <span class=\"n\">tl</span><span class=\"o\">.</span><span class=\"n\">detect_corresponding_tracks_plus</span><span class=\"p\">(</span><span class=\"n\">indices</span><span class=\"p\">,</span> <span class=\"n\">bundle1</span><span class=\"p\">,</span> <span class=\"n\">indices2</span><span class=\"p\">,</span> <span class=\"n\">bundle2</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"fiberfit\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.life.FiberFit\" title=\"dipy.tracking.life.FiberFit\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">FiberFit</span></code></a><a class=\"headerlink\" href=\"#fiberfit\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.life.FiberFit\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">FiberFit</code><span class=\"sig-paren\">(</span><em>fiber_model</em>, <em>life_matrix</em>, <em>vox_coords</em>, <em>to_fit</em>, <em>beta</em>, <em>weighted_signal</em>, <em>b0_signal</em>, <em>relative_signal</em>, <em>mean_sig</em>, <em>vox_data</em>, <em>streamline</em>, <em>affine</em>, <em>evals</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.FiberFit\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"../dipy.reconst/#dipy.reconst.base.ReconstFit\" title=\"dipy.reconst.base.ReconstFit\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.reconst.base.ReconstFit</span></code></a></p>\n<p>A fit of the LiFE model to diffusion data</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.FiberFit.predict\" title=\"dipy.tracking.life.FiberFit.predict\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">predict</span></code></a>([gtab,&nbsp;S0])</td>\n<td>Predict the signal</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.FiberFit.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>fiber_model</em>, <em>life_matrix</em>, <em>vox_coords</em>, <em>to_fit</em>, <em>beta</em>, <em>weighted_signal</em>, <em>b0_signal</em>, <em>relative_signal</em>, <em>mean_sig</em>, <em>vox_data</em>, <em>streamline</em>, <em>affine</em>, <em>evals</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.FiberFit.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>fiber_model</strong> : A FiberModel class instance</p>\n<p class=\"last\"><strong>params</strong> : the parameters derived from a fit of the model to the data.</p>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.FiberFit.predict\">\n<code class=\"descname\">predict</code><span class=\"sig-paren\">(</span><em>gtab=None</em>, <em>S0=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.FiberFit.predict\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Predict the signal</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>gtab</strong> : GradientTable</p>\n<blockquote>\n<div><p>Default: use self.gtab</p>\n</div></blockquote>\n<p><strong>S0</strong> : float or array</p>\n<blockquote>\n<div><p>The non-diffusion-weighted signal in the voxels for which a\nprediction is made. Default: use self.b0_signal</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>prediction</strong> : ndarray of shape (voxels, bvecs)</p>\n<blockquote class=\"last\">\n<div><p>An array with a prediction of the signal in each voxel/direction</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"fibermodel\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.life.FiberModel\" title=\"dipy.tracking.life.FiberModel\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">FiberModel</span></code></a><a class=\"headerlink\" href=\"#fibermodel\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.life.FiberModel\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">FiberModel</code><span class=\"sig-paren\">(</span><em>gtab</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.FiberModel\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"../dipy.reconst/#dipy.reconst.base.ReconstModel\" title=\"dipy.reconst.base.ReconstModel\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.reconst.base.ReconstModel</span></code></a></p>\n<p>A class for representing and solving predictive models based on\ntractography solutions.</p>\n<p class=\"rubric\">Notes</p>\n<p>This is an implementation of the LiFE model described in <a href=\"#id54\"><span class=\"problematic\" id=\"id55\"><span id=\"id23\"></span>[1]_</span></a></p>\n<dl class=\"docutils\">\n<dt>[1] Pestilli, F., Yeatman, J, Rokem, A. Kay, K. and Wandell</dt>\n<dd>B.A. (2014). Validation and statistical inference in living\nconnectomes. Nature Methods.</dd>\n</dl>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.FiberModel.fit\" title=\"dipy.tracking.life.FiberModel.fit\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">fit</span></code></a>(data,&nbsp;streamline[,&nbsp;affine,&nbsp;evals,&nbsp;sphere])</td>\n<td>Fit the LiFE FiberModel for data and a set of streamlines associated</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.FiberModel.setup\" title=\"dipy.tracking.life.FiberModel.setup\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">setup</span></code></a>(streamline,&nbsp;affine[,&nbsp;evals,&nbsp;sphere])</td>\n<td>Set up the necessary components for the LiFE model: the matrix of</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.FiberModel.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>gtab</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.FiberModel.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><strong>gtab</strong> : a GradientTable class instance</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.FiberModel.fit\">\n<code class=\"descname\">fit</code><span class=\"sig-paren\">(</span><em>data, streamline, affine=None, evals=[0.001, 0, 0], sphere=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.FiberModel.fit\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Fit the LiFE FiberModel for data and a set of streamlines associated\nwith this data</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>data</strong> : 4D array</p>\n<blockquote>\n<div><p>Diffusion-weighted data</p>\n</div></blockquote>\n<p><strong>streamline</strong> : list</p>\n<blockquote>\n<div><p>A bunch of streamlines</p>\n</div></blockquote>\n<p><strong>affine: 4 by 4 array (optional)</strong></p>\n<blockquote>\n<div><p>The affine to go from the streamline coordinates to the data\ncoordinates. Defaults to use <cite>np.eye(4)</cite></p>\n</div></blockquote>\n<p><strong>evals</strong> : list (optional)</p>\n<blockquote>\n<div><p>The eigenvalues of the tensor response function used in constructing\nthe model signal. Default: [0.001, 0, 0]</p>\n</div></blockquote>\n<p><strong>sphere: `dipy.core.Sphere` instance, or False</strong></p>\n<blockquote>\n<div><p>Whether to approximate (and cache) the signal on a discrete\nsphere. This may confer a significant speed-up in setting up the\nproblem, but is not as accurate. If <cite>False</cite>, we use the exact\ngradients along the streamlines to calculate the matrix, instead of\nan approximation.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first last\">FiberFit class instance</p>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.FiberModel.setup\">\n<code class=\"descname\">setup</code><span class=\"sig-paren\">(</span><em>streamline, affine, evals=[0.001, 0, 0], sphere=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.FiberModel.setup\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Set up the necessary components for the LiFE model: the matrix of\nfiber-contributions to the DWI signal, and the coordinates of voxels\nfor which the equations will be solved</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamline</strong> : list</p>\n<blockquote>\n<div><p>Streamlines, each is an array of shape (n, 3)</p>\n</div></blockquote>\n<p><strong>affine</strong> : 4 by 4 array</p>\n<blockquote>\n<div><p>Mapping from the streamline coordinates to the data</p>\n</div></blockquote>\n<p><strong>evals</strong> : list (3 items, optional)</p>\n<blockquote>\n<div><p>The eigenvalues of the canonical tensor used as a response\nfunction. Default:[0.001, 0, 0].</p>\n</div></blockquote>\n<p><strong>sphere: `dipy.core.Sphere` instance.</strong></p>\n<blockquote class=\"last\">\n<div><p>Whether to approximate (and cache) the signal on a discrete\nsphere. This may confer a significant speed-up in setting up the\nproblem, but is not as accurate. If <cite>False</cite>, we use the exact\ngradients along the streamlines to calculate the matrix, instead of\nan approximation. Defaults to use the 724-vertex symmetric sphere\nfrom <a class=\"reference internal\" href=\"../dipy.data/#module-dipy.data\" title=\"dipy.data\"><code class=\"xref py py-mod docutils literal\"><span class=\"pre\">dipy.data</span></code></a></p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"lifesignalmaker\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.life.LifeSignalMaker\" title=\"dipy.tracking.life.LifeSignalMaker\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">LifeSignalMaker</span></code></a><a class=\"headerlink\" href=\"#lifesignalmaker\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.life.LifeSignalMaker\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">LifeSignalMaker</code><span class=\"sig-paren\">(</span><em>gtab, evals=[0.001, 0, 0], sphere=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.LifeSignalMaker\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/2/library/functions.html#object\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">object</span></code></a></p>\n<p>A class for generating signals from streamlines in an efficient and speedy\nmanner.</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.LifeSignalMaker.calc_signal\" title=\"dipy.tracking.life.LifeSignalMaker.calc_signal\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">calc_signal</span></code></a>(xyz)</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.LifeSignalMaker.streamline_signal\" title=\"dipy.tracking.life.LifeSignalMaker.streamline_signal\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">streamline_signal</span></code></a>(streamline)</td>\n<td>Approximate the signal for a given streamline</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.LifeSignalMaker.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>gtab, evals=[0.001, 0, 0], sphere=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.LifeSignalMaker.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize a signal maker</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>gtab</strong> : GradientTable class instance</p>\n<blockquote>\n<div><p>The gradient table on which the signal is calculated.</p>\n</div></blockquote>\n<p><strong>evals</strong> : list of 3 items</p>\n<blockquote>\n<div><p>The eigenvalues of the canonical tensor to use in calculating the\nsignal.</p>\n</div></blockquote>\n<p><strong>n_points</strong> : <cite>dipy.core.Sphere</cite> class instance</p>\n<blockquote class=\"last\">\n<div><p>The discrete sphere to use as an approximation for the continuous\nsphere on which the signal is represented. If integer - we will use\nan instance of one of the symmetric spheres cached in\n<cite>dps.get_sphere</cite>. If a &#8216;dipy.core.Sphere&#8217; class instance is\nprovided, we will use this object. Default: the <a class=\"reference internal\" href=\"../dipy.data/#module-dipy.data\" title=\"dipy.data\"><code class=\"xref py py-mod docutils literal\"><span class=\"pre\">dipy.data</span></code></a>\nsymmetric sphere with 724 vertices</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.LifeSignalMaker.calc_signal\">\n<code class=\"descname\">calc_signal</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.LifeSignalMaker.calc_signal\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.LifeSignalMaker.streamline_signal\">\n<code class=\"descname\">streamline_signal</code><span class=\"sig-paren\">(</span><em>streamline</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.LifeSignalMaker.streamline_signal\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Approximate the signal for a given streamline</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"reconstfit\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.life.ReconstFit\" title=\"dipy.tracking.life.ReconstFit\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">ReconstFit</span></code></a><a class=\"headerlink\" href=\"#reconstfit\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.life.ReconstFit\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">ReconstFit</code><span class=\"sig-paren\">(</span><em>model</em>, <em>data</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.ReconstFit\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/2/library/functions.html#object\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">object</span></code></a></p>\n<p>Abstract class which holds the fit result of ReconstModel</p>\n<p>For example that could be holding FA or GFA etc.</p>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.ReconstFit.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>model</em>, <em>data</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.ReconstFit.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"reconstmodel\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.life.ReconstModel\" title=\"dipy.tracking.life.ReconstModel\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">ReconstModel</span></code></a><a class=\"headerlink\" href=\"#reconstmodel\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.life.ReconstModel\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">ReconstModel</code><span class=\"sig-paren\">(</span><em>gtab</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.ReconstModel\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/2/library/functions.html#object\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">object</span></code></a></p>\n<p>Abstract class for signal reconstruction models</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.ReconstModel.fit\" title=\"dipy.tracking.life.ReconstModel.fit\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">fit</span></code></a>(data[,&nbsp;mask])</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.ReconstModel.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>gtab</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.ReconstModel.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialization of the abstract class for signal reconstruction models</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><strong>gtab</strong> : GradientTable class instance</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.ReconstModel.fit\">\n<code class=\"descname\">fit</code><span class=\"sig-paren\">(</span><em>data</em>, <em>mask=None</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.ReconstModel.fit\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"range\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.life.range\" title=\"dipy.tracking.life.range\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">range</span></code></a><a class=\"headerlink\" href=\"#range\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.life.range\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">range</code><span class=\"sig-paren\">(</span><em>stop</em><span class=\"sig-paren\">)</span> &rarr; range object<a class=\"headerlink\" href=\"#dipy.tracking.life.range\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/2/library/functions.html#object\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">object</span></code></a></p>\n<p>range(start, stop[, step]) -&gt; range object</p>\n<p>Return an object that produces a sequence of integers from start (inclusive)\nto stop (exclusive) by step.  range(i, j) produces i, i+1, i+2, ..., j-1.\nstart defaults to 0, and stop is omitted!  range(4) produces 0, 1, 2, 3.\nThese are exactly the valid indices for a list of 4 elements.\nWhen step is given, it specifies the increment (or decrement).</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.range.count\" title=\"dipy.tracking.life.range.count\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">count</span></code></a>(...)</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.range.index\" title=\"dipy.tracking.life.range.index\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">index</span></code></a>((value,&nbsp;[start,&nbsp;...)</td>\n<td>Raise ValueError if the value is not present.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.range.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.range.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.range.count\">\n<code class=\"descname\">count</code><span class=\"sig-paren\">(</span><em>value</em><span class=\"sig-paren\">)</span> &rarr; integer -- return number of occurrences of value<a class=\"headerlink\" href=\"#dipy.tracking.life.range.count\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.range.index\">\n<code class=\"descname\">index</code><span class=\"sig-paren\">(</span><em>value</em><span class=\"optional\">[</span>, <em>start</em><span class=\"optional\">[</span>, <em>stop</em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span> &rarr; integer -- return index of value.<a class=\"headerlink\" href=\"#dipy.tracking.life.range.index\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Raise ValueError if the value is not present.</p>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.tracking.life.range.start\">\n<code class=\"descname\">start</code><a class=\"headerlink\" href=\"#dipy.tracking.life.range.start\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.tracking.life.range.step\">\n<code class=\"descname\">step</code><a class=\"headerlink\" href=\"#dipy.tracking.life.range.step\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.tracking.life.range.stop\">\n<code class=\"descname\">stop</code><a class=\"headerlink\" href=\"#dipy.tracking.life.range.stop\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"grad-tensor\">\n<h3>grad_tensor<a class=\"headerlink\" href=\"#grad-tensor\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.life.grad_tensor\">\n<code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">grad_tensor</code><span class=\"sig-paren\">(</span><em>grad</em>, <em>evals</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.grad_tensor\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculate the 3 by 3 tensor for a given spatial gradient, given a canonical\ntensor shape (also as a 3 by 3), pointing at [1,0,0]</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>grad</strong> : 1d array of shape (3,)</p>\n<blockquote>\n<div><p>The spatial gradient (e.g between two nodes of a streamline).</p>\n</div></blockquote>\n<p><strong>evals: 1d array of shape (3,)</strong></p>\n<blockquote class=\"last\">\n<div><p>The eigenvalues of a canonical tensor to be used as a response\nfunction.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"gradient\">\n<h3>gradient<a class=\"headerlink\" href=\"#gradient\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.life.gradient\">\n<code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">gradient</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.gradient\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return the gradient of an N-dimensional array.</p>\n<p>The gradient is computed using central differences in the interior\nand first differences at the boundaries. The returned gradient hence has\nthe same shape as the input array.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>f</strong> : array_like</p>\n<blockquote>\n<div><p>An N-dimensional array containing samples of a scalar function.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>gradient</strong> : ndarray</p>\n<blockquote class=\"last\">\n<div><p>N arrays of the same shape as <cite>f</cite> giving the derivative of <cite>f</cite> with\nrespect to each dimension.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"mi\">16</span><span class=\"p\">],</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">float</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gradient</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 1. ,  1.5,  2.5,  3.5,  4.5,  5. ])</span>\n</pre></div>\n</div>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gradient</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">]],</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">float</span><span class=\"p\">))</span>\n<span class=\"go\">[array([[ 2.,  2., -1.],</span>\n<span class=\"go\">       [ 2.,  2., -1.]]), array([[ 1. ,  2.5,  4. ],</span>\n<span class=\"go\">       [ 1. ,  1. ,  1. ]])]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"streamline-gradients\">\n<h3>streamline_gradients<a class=\"headerlink\" href=\"#streamline-gradients\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.life.streamline_gradients\">\n<code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">streamline_gradients</code><span class=\"sig-paren\">(</span><em>streamline</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.streamline_gradients\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculate the gradients of the streamline along the spatial dimension</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamline</strong> : array-like of shape (n, 3)</p>\n<blockquote>\n<div><p>The 3d coordinates of a single streamline</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\">Array of shape (3, n): Spatial gradients along the length of the</p>\n<p class=\"last\">streamline.</p>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"streamline-signal\">\n<h3>streamline_signal<a class=\"headerlink\" href=\"#streamline-signal\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.life.streamline_signal\">\n<code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">streamline_signal</code><span class=\"sig-paren\">(</span><em>streamline, gtab, evals=[0.001, 0, 0]</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.streamline_signal\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The signal from a single streamline estimate along each of its nodes.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamline</strong> : a single streamline</p>\n<p><strong>gtab</strong> : GradientTable class instance</p>\n<p><strong>evals</strong> : list of length 3 (optional. Default: [0.001, 0, 0])</p>\n<blockquote class=\"last\">\n<div><p>The eigenvalues of the canonical tensor used as an estimate of the\nsignal generated by each node of the streamline.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"streamline-tensors\">\n<h3>streamline_tensors<a class=\"headerlink\" href=\"#streamline-tensors\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.life.streamline_tensors\">\n<code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">streamline_tensors</code><span class=\"sig-paren\">(</span><em>streamline, evals=[0.001, 0, 0]</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.streamline_tensors\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The tensors generated by this fiber.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamline</strong> : array-like of shape (n, 3)</p>\n<blockquote>\n<div><p>The 3d coordinates of a single streamline</p>\n</div></blockquote>\n<p><strong>evals</strong> : iterable with three entries</p>\n<blockquote>\n<div><p>The estimated eigenvalues of a single fiber tensor.\n(default: [0.001, 0, 0]).</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first last\">An n_nodes by 3 by 3 array with the tensor for each node in the fiber.</p>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"transform-streamlines\">\n<h3>transform_streamlines<a class=\"headerlink\" href=\"#transform-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.life.transform_streamlines\">\n<code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">transform_streamlines</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>mat</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.transform_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Apply affine transformation to streamlines</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamlines</strong> : list</p>\n<blockquote>\n<div><p>List of 2D ndarrays of shape[-1]==3</p>\n</div></blockquote>\n<p><strong>mat</strong> : array, (4, 4)</p>\n<blockquote>\n<div><p>transformation matrix</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>new_streamlines</strong> : list</p>\n<blockquote class=\"last\">\n<div><p>List of the transformed 2D ndarrays of shape[-1]==3</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"unique-rows\">\n<h3>unique_rows<a class=\"headerlink\" href=\"#unique-rows\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.life.unique_rows\">\n<code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">unique_rows</code><span class=\"sig-paren\">(</span><em>in_array</em>, <em>dtype='f4'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.unique_rows\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>This (quickly) finds the unique rows in an array</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>in_array: ndarray</strong></p>\n<blockquote>\n<div><p>The array for which the unique rows should be found</p>\n</div></blockquote>\n<p><strong>dtype: str, optional</strong></p>\n<blockquote>\n<div><p>This determines the intermediate representation used for the\nvalues. Should at least preserve the values of the input array.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\">u_return: ndarray</p>\n<blockquote class=\"last\">\n<div><p>Array with the unique rows of the original array.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"voxel2streamline\">\n<h3>voxel2streamline<a class=\"headerlink\" href=\"#voxel2streamline\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.life.voxel2streamline\">\n<code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">voxel2streamline</code><span class=\"sig-paren\">(</span><em>streamline</em>, <em>transformed=False</em>, <em>affine=None</em>, <em>unique_idx=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.voxel2streamline\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Maps voxels to streamlines and streamlines to voxels, for setting up\nthe LiFE equations matrix</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamline</strong> : list</p>\n<blockquote>\n<div><p>A collection of streamlines, each n by 3, with n being the number of\nnodes in the fiber.</p>\n</div></blockquote>\n<p><strong>affine</strong> : 4 by 4 array (optional)</p>\n<blockquote>\n<div><p>Defines the spatial transformation from streamline to data.\nDefault: np.eye(4)</p>\n</div></blockquote>\n<p><strong>transformed</strong> : bool (optional)</p>\n<blockquote>\n<div><p>Whether the streamlines have been already transformed (in which case\nthey don&#8217;t need to be transformed in here).</p>\n</div></blockquote>\n<p><strong>unique_idx</strong> : array (optional).</p>\n<blockquote>\n<div><p>The unique indices in the streamlines</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>v2f, v2fn</strong> : tuple of dicts</p>\n<p>The first dict in the tuple answers the question: Given a voxel (from</p>\n<p>the unique indices in this model), which fibers pass through it?</p>\n<p>The second answers the question: Given a streamline, for each voxel that</p>\n<p>this streamline passes through, which nodes of that streamline are in that</p>\n<p class=\"last\">voxel?</p>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"acttissueclassifier\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.ActTissueClassifier\" title=\"dipy.tracking.local.ActTissueClassifier\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">ActTissueClassifier</span></code></a><a class=\"headerlink\" href=\"#acttissueclassifier\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.ActTissueClassifier\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.</code><code class=\"descname\">ActTissueClassifier</code><a class=\"headerlink\" href=\"#dipy.tracking.local.ActTissueClassifier\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.tracking.local.tissue_classifier.TissueClassifier</span></code></p>\n<p>Anatomically-Constrained Tractography (ACT) stopping criteria from <a class=\"reference internal\" href=\"#r219\" id=\"id24\">[R219]</a>.\nThis implements the use of partial volume fraction (PVE) maps to\ndetermine when the tracking stops. The proposed (<a class=\"reference internal\" href=\"#r219\" id=\"id25\">[R219]</a>) method that\ncuts streamlines going through subcortical gray matter regions is\nnot implemented here. The backtracking technique for\nstreamlines reaching INVALIDPOINT is not implemented either.\ncdef:</p>\n<blockquote>\n<div>double interp_out_double[1]\ndouble[:]  interp_out_view = interp_out_view\ndouble[:, :, :] include_map, exclude_map</div></blockquote>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r219\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[R219]</td><td><em>(<a class=\"fn-backref\" href=\"#id24\">1</a>, <a class=\"fn-backref\" href=\"#id25\">2</a>, <a class=\"fn-backref\" href=\"#id26\">3</a>)</em> Smith, R. E., Tournier, J.-D., Calamante, F., &amp; Connelly, A.</td></tr>\n</tbody>\n</table>\n<p>&#8220;Anatomically-constrained tractography: Improved diffusion MRI\nstreamlines tractography through effective use of anatomical\ninformation.&#8221; NeuroImage, 63(3), 1924\u20131938, 2012.</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.ActTissueClassifier.check_point\" title=\"dipy.tracking.local.ActTissueClassifier.check_point\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">check_point</span></code></a></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.ActTissueClassifier.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.ActTissueClassifier.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.ActTissueClassifier.check_point\">\n<code class=\"descname\">check_point</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.ActTissueClassifier.check_point\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"binarytissueclassifier\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.BinaryTissueClassifier\" title=\"dipy.tracking.local.BinaryTissueClassifier\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">BinaryTissueClassifier</span></code></a><a class=\"headerlink\" href=\"#binarytissueclassifier\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.BinaryTissueClassifier\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.</code><code class=\"descname\">BinaryTissueClassifier</code><a class=\"headerlink\" href=\"#dipy.tracking.local.BinaryTissueClassifier\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.tracking.local.tissue_classifier.TissueClassifier</span></code></p>\n<dl class=\"docutils\">\n<dt>cdef:</dt>\n<dd>unsigned char[:, :, :] mask</dd>\n</dl>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.BinaryTissueClassifier.check_point\" title=\"dipy.tracking.local.BinaryTissueClassifier.check_point\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">check_point</span></code></a></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.BinaryTissueClassifier.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.BinaryTissueClassifier.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.BinaryTissueClassifier.check_point\">\n<code class=\"descname\">check_point</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.BinaryTissueClassifier.check_point\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"directiongetter\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.DirectionGetter\" title=\"dipy.tracking.local.DirectionGetter\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">DirectionGetter</span></code></a><a class=\"headerlink\" href=\"#directiongetter\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.DirectionGetter\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.</code><code class=\"descname\">DirectionGetter</code><a class=\"headerlink\" href=\"#dipy.tracking.local.DirectionGetter\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/2/library/functions.html#object\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">object</span></code></a></p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.DirectionGetter.get_direction\" title=\"dipy.tracking.local.DirectionGetter.get_direction\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">get_direction</span></code></a></td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.DirectionGetter.initial_direction\" title=\"dipy.tracking.local.DirectionGetter.initial_direction\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">initial_direction</span></code></a></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.DirectionGetter.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.DirectionGetter.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.DirectionGetter.get_direction\">\n<code class=\"descname\">get_direction</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.DirectionGetter.get_direction\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.DirectionGetter.initial_direction\">\n<code class=\"descname\">initial_direction</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.DirectionGetter.initial_direction\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"localtracking\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.LocalTracking\" title=\"dipy.tracking.local.LocalTracking\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">LocalTracking</span></code></a><a class=\"headerlink\" href=\"#localtracking\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.LocalTracking\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.</code><code class=\"descname\">LocalTracking</code><span class=\"sig-paren\">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>fixedstep=True</em>, <em>return_all=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.LocalTracking\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/2/library/functions.html#object\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">object</span></code></a></p>\n<p>A streamline generator for local tracking methods</p>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.LocalTracking.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>fixedstep=True</em>, <em>return_all=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.LocalTracking.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Creates streamlines by using local fiber-tracking.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>direction_getter</strong> : instance of DirectionGetter</p>\n<blockquote>\n<div><p>Used to get directions for fiber tracking.</p>\n</div></blockquote>\n<p><strong>tissue_classifier</strong> : instance of TissueClassifier</p>\n<blockquote>\n<div><p>Identifies endpoints and invalid points to inform tracking.</p>\n</div></blockquote>\n<p><strong>seeds</strong> : array (N, 3)</p>\n<blockquote>\n<div><p>Points to seed the tracking. Seed points should be given in point\nspace of the track (see <code class=\"docutils literal\"><span class=\"pre\">affine</span></code>).</p>\n</div></blockquote>\n<p><strong>affine</strong> : array (4, 4)</p>\n<blockquote>\n<div><p>Coordinate space for the streamline point with respect to voxel\nindices of input data. This affine can contain scaling, rotational,\nand translational components but should not contain any shearing.\nAn identity matrix can be used to generate streamlines in &#8220;voxel\ncoordinates&#8221; as long as isotropic voxels were used to acquire the\ndata.</p>\n</div></blockquote>\n<p><strong>step_size</strong> : float</p>\n<blockquote>\n<div><p>Step size used for tracking.</p>\n</div></blockquote>\n<p><strong>max_cross</strong> : int or None</p>\n<blockquote>\n<div><p>The maximum number of direction to track from each seed in crossing\nvoxels. By default all initial directions are tracked.</p>\n</div></blockquote>\n<p><strong>maxlen</strong> : int</p>\n<blockquote>\n<div><p>Maximum number of steps to track from seed. Used to prevent\ninfinite loops.</p>\n</div></blockquote>\n<p><strong>fixedstep</strong> : bool</p>\n<blockquote>\n<div><p>If true, a fixed stepsize is used, otherwise a variable step size\nis used.</p>\n</div></blockquote>\n<p><strong>return_all</strong> : bool</p>\n<blockquote class=\"last\">\n<div><p>If true, return all generated streamlines, otherwise only\nstreamlines reaching end points or exiting the image.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"thresholdtissueclassifier\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.ThresholdTissueClassifier\" title=\"dipy.tracking.local.ThresholdTissueClassifier\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">ThresholdTissueClassifier</span></code></a><a class=\"headerlink\" href=\"#thresholdtissueclassifier\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.ThresholdTissueClassifier\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.</code><code class=\"descname\">ThresholdTissueClassifier</code><a class=\"headerlink\" href=\"#dipy.tracking.local.ThresholdTissueClassifier\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal\"><span class=\"pre\">dipy.tracking.local.tissue_classifier.TissueClassifier</span></code></p>\n<p># Declarations from tissue_classifier.pxd bellow\ncdef:</p>\n<blockquote>\n<div>double threshold, interp_out_double[1]\ndouble[:]  interp_out_view = interp_out_view\ndouble[:, :, :] metric_map</div></blockquote>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.ThresholdTissueClassifier.check_point\" title=\"dipy.tracking.local.ThresholdTissueClassifier.check_point\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">check_point</span></code></a></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.ThresholdTissueClassifier.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.ThresholdTissueClassifier.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.ThresholdTissueClassifier.check_point\">\n<code class=\"descname\">check_point</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.ThresholdTissueClassifier.check_point\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"tissueclassifier\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.TissueClassifier\" title=\"dipy.tracking.local.TissueClassifier\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">TissueClassifier</span></code></a><a class=\"headerlink\" href=\"#tissueclassifier\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.TissueClassifier\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.</code><code class=\"descname\">TissueClassifier</code><a class=\"headerlink\" href=\"#dipy.tracking.local.TissueClassifier\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/2/library/functions.html#object\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">object</span></code></a></p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.TissueClassifier.check_point\" title=\"dipy.tracking.local.TissueClassifier.check_point\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">check_point</span></code></a></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.TissueClassifier.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.TissueClassifier.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.TissueClassifier.check_point\">\n<code class=\"descname\">check_point</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.TissueClassifier.check_point\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"bunch\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.Bunch\" title=\"dipy.tracking.local.localtracking.Bunch\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">Bunch</span></code></a><a class=\"headerlink\" href=\"#bunch\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.localtracking.Bunch\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.localtracking.</code><code class=\"descname\">Bunch</code><span class=\"sig-paren\">(</span><em>**kwds</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.Bunch\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/2/library/functions.html#object\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">object</span></code></a></p>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.localtracking.Bunch.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>**kwds</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.Bunch.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>A &#8216;bunch&#8217; of values (a replacement of Enum)</p>\n<p>This is a temporary replacement of Enum, which is not available\non all versions of Python 2</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id27\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.LocalTracking\" title=\"dipy.tracking.local.localtracking.LocalTracking\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">LocalTracking</span></code></a><a class=\"headerlink\" href=\"#id27\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.localtracking.LocalTracking\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.localtracking.</code><code class=\"descname\">LocalTracking</code><span class=\"sig-paren\">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>fixedstep=True</em>, <em>return_all=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.LocalTracking\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/2/library/functions.html#object\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">object</span></code></a></p>\n<p>A streamline generator for local tracking methods</p>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.localtracking.LocalTracking.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>fixedstep=True</em>, <em>return_all=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.LocalTracking.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Creates streamlines by using local fiber-tracking.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>direction_getter</strong> : instance of DirectionGetter</p>\n<blockquote>\n<div><p>Used to get directions for fiber tracking.</p>\n</div></blockquote>\n<p><strong>tissue_classifier</strong> : instance of TissueClassifier</p>\n<blockquote>\n<div><p>Identifies endpoints and invalid points to inform tracking.</p>\n</div></blockquote>\n<p><strong>seeds</strong> : array (N, 3)</p>\n<blockquote>\n<div><p>Points to seed the tracking. Seed points should be given in point\nspace of the track (see <code class=\"docutils literal\"><span class=\"pre\">affine</span></code>).</p>\n</div></blockquote>\n<p><strong>affine</strong> : array (4, 4)</p>\n<blockquote>\n<div><p>Coordinate space for the streamline point with respect to voxel\nindices of input data. This affine can contain scaling, rotational,\nand translational components but should not contain any shearing.\nAn identity matrix can be used to generate streamlines in &#8220;voxel\ncoordinates&#8221; as long as isotropic voxels were used to acquire the\ndata.</p>\n</div></blockquote>\n<p><strong>step_size</strong> : float</p>\n<blockquote>\n<div><p>Step size used for tracking.</p>\n</div></blockquote>\n<p><strong>max_cross</strong> : int or None</p>\n<blockquote>\n<div><p>The maximum number of direction to track from each seed in crossing\nvoxels. By default all initial directions are tracked.</p>\n</div></blockquote>\n<p><strong>maxlen</strong> : int</p>\n<blockquote>\n<div><p>Maximum number of steps to track from seed. Used to prevent\ninfinite loops.</p>\n</div></blockquote>\n<p><strong>fixedstep</strong> : bool</p>\n<blockquote>\n<div><p>If true, a fixed stepsize is used, otherwise a variable step size\nis used.</p>\n</div></blockquote>\n<p><strong>return_all</strong> : bool</p>\n<blockquote class=\"last\">\n<div><p>If true, return all generated streamlines, otherwise only\nstreamlines reaching end points or exiting the image.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"local-tracker\">\n<h3>local_tracker<a class=\"headerlink\" href=\"#local-tracker\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.local.localtracking.local_tracker\">\n<code class=\"descclassname\">dipy.tracking.local.localtracking.</code><code class=\"descname\">local_tracker</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.local_tracker\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Tracks one direction from a seed.</p>\n<p>This function is the main workhorse of the <code class=\"docutils literal\"><span class=\"pre\">LocalTracking</span></code> class defined\nin <code class=\"docutils literal\"><span class=\"pre\">dipy.tracking.local.localtracking</span></code>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>dg</strong> : DirectionGetter</p>\n<blockquote>\n<div><p>Used to choosing tracking directions.</p>\n</div></blockquote>\n<p><strong>tc</strong> : TissueClassifier</p>\n<blockquote>\n<div><p>Used to check tissue type along path.</p>\n</div></blockquote>\n<p><strong>seed</strong> : array, float, 1d, (3,)</p>\n<blockquote>\n<div><p>First point of the (partial) streamline.</p>\n</div></blockquote>\n<p><strong>first_step</strong> : array, float, 1d, (3,)</p>\n<blockquote>\n<div><p>Used as <code class=\"docutils literal\"><span class=\"pre\">prev_dir</span></code> for selecting the step direction from the seed\npoint.</p>\n</div></blockquote>\n<p><strong>voxel_size</strong> : array, float, 1d, (3,)</p>\n<blockquote>\n<div><p>Size of voxels in the data set.</p>\n</div></blockquote>\n<p><strong>streamline</strong> : array, float, 2d, (N, 3)</p>\n<blockquote>\n<div><p>Output of tracking will be put into this array. The length of this\narray, <code class=\"docutils literal\"><span class=\"pre\">N</span></code>, will set the maximum allowable length of the streamline.</p>\n</div></blockquote>\n<p><strong>stepsize</strong> : float</p>\n<blockquote>\n<div><p>Size of tracking steps in mm if <code class=\"docutils literal\"><span class=\"pre\">fixed_step</span></code>.</p>\n</div></blockquote>\n<p><strong>fixedstep</strong> : bool</p>\n<blockquote>\n<div><p>If true, a fixed stepsize is used, otherwise a variable step size is\nused.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>end</strong> : int</p>\n<blockquote class=\"last\">\n<div><p>This function updates the <code class=\"docutils literal\"><span class=\"pre\">streamline</span></code> array with points as it\ntracks. Points in <code class=\"docutils literal\"><span class=\"pre\">streamline[:abs(end)]</span></code> were updated by the\nfunction. The sign of <code class=\"docutils literal\"><span class=\"pre\">end</span></code> and whether the last point was included\ndepend on the reason that the streamline was terminated.</p>\n<dl class=\"docutils\">\n<dt>End reasons:</dt>\n<dd><ol class=\"first arabic\">\n<li><dl class=\"first docutils\">\n<dt>maximum length of the streamline was reached.</dt>\n<dd><p class=\"first last\"><code class=\"docutils literal\"><span class=\"pre\">end</span> <span class=\"pre\">==</span> <span class=\"pre\">N</span></code></p>\n</dd>\n</dl>\n</li>\n<li><dl class=\"first docutils\">\n<dt><code class=\"docutils literal\"><span class=\"pre\">direction_getter</span></code> could not return a direction.</dt>\n<dd><p class=\"first last\"><code class=\"docutils literal\"><span class=\"pre\">end</span> <span class=\"pre\">&gt;</span> <span class=\"pre\">0</span></code>\nLast point is the point at which no direction could be found.</p>\n</dd>\n</dl>\n</li>\n<li><dl class=\"first docutils\">\n<dt>Streamline encountered an ENDPOINT.</dt>\n<dd><p class=\"first last\"><code class=\"docutils literal\"><span class=\"pre\">end</span> <span class=\"pre\">&gt;</span> <span class=\"pre\">0</span></code>\nLast point is the ENDPOINT.</p>\n</dd>\n</dl>\n</li>\n</ol>\n<ol class=\"arabic\" start=\"3\">\n<li><dl class=\"first docutils\">\n<dt>Streamline encountered an OUTSIDEIMAGE.</dt>\n<dd><p class=\"first last\"><code class=\"docutils literal\"><span class=\"pre\">end</span> <span class=\"pre\">&gt;</span> <span class=\"pre\">0</span></code>\nLast point is the point before OUTSIDEIMAGE.</p>\n</dd>\n</dl>\n</li>\n</ol>\n<ol class=\"last arabic\" start=\"5\">\n<li><dl class=\"first docutils\">\n<dt>Streamline encountered an INVALIDPOINT.</dt>\n<dd><p class=\"first last\"><code class=\"docutils literal\"><span class=\"pre\">end</span> <span class=\"pre\">&lt;</span> <span class=\"pre\">0</span></code>\nLast point is INVALIDPOINT.</p>\n</dd>\n</dl>\n</li>\n</ol>\n</dd>\n</dl>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"xrange\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.metrics.xrange\" title=\"dipy.tracking.metrics.xrange\"><code class=\"xref py py-class docutils literal\"><span class=\"pre\">xrange</span></code></a><a class=\"headerlink\" href=\"#xrange\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"attribute\">\n<dt id=\"dipy.tracking.metrics.xrange\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">xrange</code><a class=\"headerlink\" href=\"#dipy.tracking.metrics.xrange\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>alias of <code class=\"xref py py-class docutils literal\"><span class=\"pre\">range</span></code></p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"arbitrarypoint\">\n<h3>arbitrarypoint<a class=\"headerlink\" href=\"#arbitrarypoint\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.arbitrarypoint\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">arbitrarypoint</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>distance</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.arbitrarypoint\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Select an arbitrary point along distance on the track (curve)</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array-like shape (N,3)</p>\n<blockquote>\n<div><p>array representing x,y,z of N points in a track</p>\n</div></blockquote>\n<p><strong>distance</strong> : float</p>\n<blockquote>\n<div><p>float representing distance travelled from the xyz[0] point of\nthe curve along the curve.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>ap</strong> : array shape (3,)</p>\n<blockquote class=\"last\">\n<div><p>Arbitrary point of line, such that, if the arbitrary point is not\na point in <cite>xyz</cite>, then we take the interpolation between the two\nnearest <cite>xyz</cite> points.  If <cite>xyz</cite> is empty, return a ValueError</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">arbitrarypoint</span><span class=\"p\">,</span> <span class=\"n\">length</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ap</span><span class=\"o\">=</span><span class=\"n\">arbitrarypoint</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"mi\">3</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"bytes\">\n<h3>bytes<a class=\"headerlink\" href=\"#bytes\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.bytes\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">bytes</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.bytes\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Size of track in bytes.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array-like shape (N,3)</p>\n<blockquote>\n<div><p>Array representing x,y,z of N points in a track.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>b</strong> : int</p>\n<blockquote class=\"last\">\n<div><p>Number of bytes.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"center-of-mass\">\n<h3>center_of_mass<a class=\"headerlink\" href=\"#center-of-mass\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.center_of_mass\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">center_of_mass</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.center_of_mass\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Center of mass of streamline</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array-like shape (N,3)</p>\n<blockquote>\n<div><p>array representing x,y,z of N points in a track</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>com</strong> : array shape (3,)</p>\n<blockquote class=\"last\">\n<div><p>center of mass of streamline</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">center_of_mass</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">center_of_mass</span><span class=\"p\">([])</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n   <span class=\"c\">...</span>\n<span class=\"gr\">ValueError</span>: <span class=\"n\">xyz array cannot be empty</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">center_of_mass</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"go\">array([ 1.,  1.,  1.])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">center_of_mass</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 1.,  1.,  1.])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"downsample\">\n<h3>downsample<a class=\"headerlink\" href=\"#downsample\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.downsample\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">downsample</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>n_pols=3</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.downsample\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>downsample for a specific number of points along the curve/track</p>\n<p>Uses the length of the curve. It works in a similar fashion to\nmidpoint and arbitrarypoint but it also reduces the number of segments\nof a track.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array-like shape (N,3)</p>\n<blockquote>\n<div><p>array representing x,y,z of N points in a track</p>\n</div></blockquote>\n<p><strong>n_pol</strong> : int</p>\n<blockquote>\n<div><p>integer representing number of points (poles) we need along the curve.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz2</strong> : array shape (M,3)</p>\n<blockquote class=\"last\">\n<div><p>array representing x,y,z of M points that where extrapolated. M\nshould be equal to n_pols</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># a semi-circle</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz2</span><span class=\"o\">=</span><span class=\"n\">downsample</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># a cosine</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">y</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz2</span><span class=\"o\">=</span><span class=\"n\">downsample</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">xyz2</span><span class=\"p\">)</span>\n<span class=\"go\">3</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz3</span><span class=\"o\">=</span><span class=\"n\">downsample</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">xyz3</span><span class=\"p\">)</span>\n<span class=\"go\">10</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"endpoint\">\n<h3>endpoint<a class=\"headerlink\" href=\"#endpoint\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.endpoint\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">endpoint</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.endpoint\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array, shape(N,3)</p>\n<blockquote>\n<div><p>Track.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>ep</strong> : array, shape(3,)</p>\n<blockquote class=\"last\">\n<div><p>First track point.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">endpoint</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ep</span><span class=\"o\">=</span><span class=\"n\">endpoint</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ep</span><span class=\"o\">.</span><span class=\"n\">any</span><span class=\"p\">()</span><span class=\"o\">==</span><span class=\"n\">xyz</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">any</span><span class=\"p\">()</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"frenet-serret\">\n<h3>frenet_serret<a class=\"headerlink\" href=\"#frenet-serret\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.frenet_serret\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">frenet_serret</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.frenet_serret\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Frenet-Serret Space Curve Invariants</p>\n<p>Calculates the 3 vector and 2 scalar invariants of a space curve\ndefined by vectors r = (x,y,z).  If z is omitted (i.e. the array xyz has\nshape (N,2)), then the curve is\nonly 2D (planar), but the equations are still valid.</p>\n<p>Similar to\n<a class=\"reference external\" href=\"http://www.mathworks.com/matlabcentral/fileexchange/11169\">http://www.mathworks.com/matlabcentral/fileexchange/11169</a></p>\n<p>In the following equations the prime (<span class=\"math\">\\('\\)</span>) indicates differentiation\nwith respect to the parameter <span class=\"math\">\\(s\\)</span> of a parametrised curve <span class=\"math\">\\(\\mathbf{r}(s)\\)</span>.</p>\n<ul class=\"simple\">\n<li><span class=\"math\">\\(\\mathbf{T}=\\mathbf{r'}/|\\mathbf{r'}|\\qquad\\)</span> (Tangent vector)}</li>\n<li><span class=\"math\">\\(\\mathbf{N}=\\mathbf{T'}/|\\mathbf{T'}|\\qquad\\)</span> (Normal vector)</li>\n<li><span class=\"math\">\\(\\mathbf{B}=\\mathbf{T}\\times\\mathbf{N}\\qquad\\)</span> (Binormal vector)</li>\n<li><span class=\"math\">\\(\\kappa=|\\mathbf{T'}|\\qquad\\)</span> (Curvature)</li>\n<li><span class=\"math\">\\(\\mathrm{\\tau}=-\\mathbf{B'}\\cdot\\mathbf{N}\\)</span> (Torsion)</li>\n</ul>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array-like shape (N,3)</p>\n<blockquote>\n<div><p>array representing x,y,z of N points in a track</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>T</strong> : array shape (N,3)</p>\n<blockquote>\n<div><p>array representing the tangent of the curve xyz</p>\n</div></blockquote>\n<p><strong>N</strong> : array shape (N,3)</p>\n<blockquote>\n<div><p>array representing the normal of the curve xyz</p>\n</div></blockquote>\n<p><strong>B</strong> : array shape (N,3)</p>\n<blockquote>\n<div><p>array representing the binormal of the curve xyz</p>\n</div></blockquote>\n<p><strong>k</strong> : array shape (N,1)</p>\n<blockquote>\n<div><p>array representing the curvature of the curve xyz</p>\n</div></blockquote>\n<p><strong>t</strong> : array shape (N,1)</p>\n<blockquote class=\"last\">\n<div><p>array representing the torsion of the curve xyz</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<p>Create a helix and calculate its tangent, normal, binormal, curvature\nand torsion</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking</span> <span class=\"k\">import</span> <span class=\"n\">metrics</span> <span class=\"k\">as</span> <span class=\"n\">tm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"n\">theta</span><span class=\"o\">/</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">T</span><span class=\"p\">,</span><span class=\"n\">N</span><span class=\"p\">,</span><span class=\"n\">B</span><span class=\"p\">,</span><span class=\"n\">k</span><span class=\"p\">,</span><span class=\"n\">t</span><span class=\"o\">=</span><span class=\"n\">tm</span><span class=\"o\">.</span><span class=\"n\">frenet_serret</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"generate-combinations\">\n<h3>generate_combinations<a class=\"headerlink\" href=\"#generate-combinations\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.generate_combinations\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">generate_combinations</code><span class=\"sig-paren\">(</span><em>items</em>, <em>n</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.generate_combinations\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Combine sets of size n from items</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>items</strong> : sequence</p>\n<p><strong>n</strong> : int</p>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first last\"><strong>ic</strong> : iterator</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">generate_combinations</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ic</span><span class=\"o\">=</span><span class=\"n\">generate_combinations</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">),</span><span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">ic</span><span class=\"p\">:</span> <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">)</span>\n<span class=\"go\">[0, 1]</span>\n<span class=\"go\">[0, 2]</span>\n<span class=\"go\">[1, 2]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"inside-sphere\">\n<h3>inside_sphere<a class=\"headerlink\" href=\"#inside-sphere\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.inside_sphere\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">inside_sphere</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>center</em>, <em>radius</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.inside_sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>If any point of the track is inside a sphere of a specified\ncenter and radius return True otherwise False.  Mathematicaly this\ncan be simply described by <span class=\"math\">\\(|x-c|\\le r\\)</span> where <span class=\"math\">\\(x\\)</span> a point <span class=\"math\">\\(c\\)</span> the\ncenter of the sphere and <span class=\"math\">\\(r\\)</span> the radius of the sphere.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array, shape (N,3)</p>\n<blockquote>\n<div><p>representing x,y,z of the N points of the track</p>\n</div></blockquote>\n<p><strong>center</strong> : array, shape (3,)</p>\n<blockquote>\n<div><p>center of the sphere</p>\n</div></blockquote>\n<p><strong>radius</strong> : float</p>\n<blockquote>\n<div><p>radius of the sphere</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>tf</strong> : {True,False}</p>\n<blockquote class=\"last\">\n<div><p>Whether point is inside sphere.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">inside_sphere</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">line</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">(([</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sph_cent</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sph_radius</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">inside_sphere</span><span class=\"p\">(</span><span class=\"n\">line</span><span class=\"p\">,</span><span class=\"n\">sph_cent</span><span class=\"p\">,</span><span class=\"n\">sph_radius</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"inside-sphere-points\">\n<h3>inside_sphere_points<a class=\"headerlink\" href=\"#inside-sphere-points\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.inside_sphere_points\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">inside_sphere_points</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>center</em>, <em>radius</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.inside_sphere_points\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>If a track intersects with a sphere of a specified center and\nradius return the points that are inside the sphere otherwise False.\nMathematicaly this can be simply described by <span class=\"math\">\\(|x-c| \\le r\\)</span> where <span class=\"math\">\\(x\\)</span>\na point <span class=\"math\">\\(c\\)</span> the center of the sphere and <span class=\"math\">\\(r\\)</span> the radius of the\nsphere.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array, shape (N,3)</p>\n<blockquote>\n<div><p>representing x,y,z of the N points of the track</p>\n</div></blockquote>\n<p><strong>center</strong> : array, shape (3,)</p>\n<blockquote>\n<div><p>center of the sphere</p>\n</div></blockquote>\n<p><strong>radius</strong> : float</p>\n<blockquote>\n<div><p>radius of the sphere</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>xyzn</strong> : array, shape(M,3)</p>\n<blockquote class=\"last\">\n<div><p>array representing x,y,z of the M points inside the sphere</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">inside_sphere_points</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">line</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">(([</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sph_cent</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sph_radius</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">inside_sphere_points</span><span class=\"p\">(</span><span class=\"n\">line</span><span class=\"p\">,</span><span class=\"n\">sph_cent</span><span class=\"p\">,</span><span class=\"n\">sph_radius</span><span class=\"p\">)</span>\n<span class=\"go\">array([[1, 1, 1]])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"intersect-sphere\">\n<h3>intersect_sphere<a class=\"headerlink\" href=\"#intersect-sphere\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.intersect_sphere\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">intersect_sphere</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>center</em>, <em>radius</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.intersect_sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>If any segment of the track is intersecting with a sphere of\nspecific center and radius return True otherwise False</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array, shape (N,3)</p>\n<blockquote>\n<div><p>representing x,y,z of the N points of the track</p>\n</div></blockquote>\n<p><strong>center</strong> : array, shape (3,)</p>\n<blockquote>\n<div><p>center of the sphere</p>\n</div></blockquote>\n<p><strong>radius</strong> : float</p>\n<blockquote>\n<div><p>radius of the sphere</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>tf</strong> : {True, False}</p>\n<blockquote>\n<div><p>True if track <cite>xyz</cite> intersects sphere</p>\n</div></blockquote>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">intersect_sphere</span>\n</pre></div>\n</div>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">line</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">(([</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]))</span>\n</pre></div>\n</div>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sph_cent</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n</pre></div>\n</div>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sph_radius</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n</pre></div>\n</div>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">intersect_sphere</span><span class=\"p\">(</span><span class=\"n\">line</span><span class=\"p\">,</span><span class=\"n\">sph_cent</span><span class=\"p\">,</span><span class=\"n\">sph_radius</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p class=\"last\">True</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>The ray to sphere intersection method used here is similar with\n<a class=\"reference external\" href=\"http://local.wasp.uwa.edu.au/~pbourke/geometry/sphereline/\">http://local.wasp.uwa.edu.au/~pbourke/geometry/sphereline/</a>\n<a class=\"reference external\" href=\"http://local.wasp.uwa.edu.au/~pbourke/geometry/sphereline/source.cpp\">http://local.wasp.uwa.edu.au/~pbourke/geometry/sphereline/source.cpp</a>\nwe just applied it for every segment neglecting the intersections where\nthe intersecting points are not inside the segment</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id28\">\n<h3>length<a class=\"headerlink\" href=\"#id28\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.length\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">length</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>along=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.length\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Euclidean length of track line</p>\n<p>This will give length in mm if tracks are expressed in world coordinates.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array-like shape (N,3)</p>\n<blockquote>\n<div><p>array representing x,y,z of N points in a track</p>\n</div></blockquote>\n<p><strong>along</strong> : bool, optional</p>\n<blockquote>\n<div><p>If True, return array giving cumulative length along track,\notherwise (default) return scalar giving total length.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>L</strong> : scalar or array shape (N-1,)</p>\n<blockquote class=\"last\">\n<div><p>scalar in case of <cite>along</cite> == False, giving total length, array if\n<cite>along</cite> == True, giving cumulative lengths.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">length</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">expected_lens</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"o\">+</span><span class=\"mi\">2</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">3</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">3</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">4</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"n\">expected_lens</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">()</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">len_along</span> <span class=\"o\">=</span> <span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span> <span class=\"n\">along</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">allclose</span><span class=\"p\">(</span><span class=\"n\">len_along</span><span class=\"p\">,</span> <span class=\"n\">expected_lens</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">())</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">([])</span>\n<span class=\"go\">0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]])</span>\n<span class=\"go\">0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">([],</span> <span class=\"n\">along</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"go\">array([0])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"longest-track-bundle\">\n<h3>longest_track_bundle<a class=\"headerlink\" href=\"#longest-track-bundle\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.longest_track_bundle\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">longest_track_bundle</code><span class=\"sig-paren\">(</span><em>bundle</em>, <em>sort=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.longest_track_bundle\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return longest track or length sorted track indices in <cite>bundle</cite></p>\n<p>If <cite>sort</cite> == True, return the indices of the sorted tracks in the\nbundle, otherwise return the longest track.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>bundle</strong> : sequence</p>\n<blockquote>\n<div><p>of tracks as arrays, shape (N1,3) ... (Nm,3)</p>\n</div></blockquote>\n<p><strong>sort</strong> : bool, optional</p>\n<blockquote>\n<div><p>If False (default) return longest track.  If True, return length\nsorted indices for tracks in bundle</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>longest_or_indices</strong> : array</p>\n<blockquote class=\"last\">\n<div><p>longest track - shape (N,3) -  (if <cite>sort</cite> is False), or indices\nof length sorted tracks (if <cite>sort</cite> is True)</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">longest_track_bundle</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bundle</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]]),</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">longest_track_bundle</span><span class=\"p\">(</span><span class=\"n\">bundle</span><span class=\"p\">)</span>\n<span class=\"go\">array([[0, 0, 0],</span>\n<span class=\"go\">       [4, 4, 4]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">longest_track_bundle</span><span class=\"p\">(</span><span class=\"n\">bundle</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">)</span> \n<span class=\"go\">array([0, 1]...)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"magn\">\n<h3>magn<a class=\"headerlink\" href=\"#magn\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.magn\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">magn</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>n=1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.magn\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>magnitude of vector</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"mean-curvature\">\n<h3>mean_curvature<a class=\"headerlink\" href=\"#mean-curvature\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.mean_curvature\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">mean_curvature</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.mean_curvature\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculates the mean curvature of a curve</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array-like shape (N,3)</p>\n<blockquote>\n<div><p>array representing x,y,z of N points in a curve</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>m</strong> : float</p>\n<blockquote class=\"last\">\n<div><p>Mean curvature.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<p>Create a straight line and a semi-circle and print their mean curvatures</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking</span> <span class=\"k\">import</span> <span class=\"n\">metrics</span> <span class=\"k\">as</span> <span class=\"n\">tm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">m</span><span class=\"o\">=</span><span class=\"n\">tm</span><span class=\"o\">.</span><span class=\"n\">mean_curvature</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span> <span class=\"c1\">#mean curvature straight line</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">m</span><span class=\"o\">=</span><span class=\"n\">tm</span><span class=\"o\">.</span><span class=\"n\">mean_curvature</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span> <span class=\"c1\">#mean curvature for semi-circle</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"mean-orientation\">\n<h3>mean_orientation<a class=\"headerlink\" href=\"#mean-orientation\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.mean_orientation\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">mean_orientation</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.mean_orientation\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculates the mean orientation of a curve</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array-like shape (N,3)</p>\n<blockquote>\n<div><p>array representing x,y,z of N points in a curve</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>m</strong> : float</p>\n<blockquote class=\"last\">\n<div><p>Mean orientation.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"midpoint\">\n<h3>midpoint<a class=\"headerlink\" href=\"#midpoint\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.midpoint\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">midpoint</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.midpoint\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Midpoint of track</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array-like shape (N,3)</p>\n<blockquote>\n<div><p>array representing x,y,z of N points in a track</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>mp</strong> : array shape (3,)</p>\n<blockquote class=\"last\">\n<div><p>Middle point of line, such that, if L is the line length then\n<cite>np</cite> is the point such that the length xyz[0] to <cite>mp</cite> and from\n<cite>mp</cite> to xyz[-1] is L/2.  If the middle point is not a point in\n<cite>xyz</cite>, then we take the interpolation between the two nearest\n<cite>xyz</cite> points.  If <cite>xyz</cite> is empty, return a ValueError</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">midpoint</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">midpoint</span><span class=\"p\">([])</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n   <span class=\"c\">...</span>\n<span class=\"gr\">ValueError</span>: <span class=\"n\">xyz array cannot be empty</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">midpoint</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]])</span>\n<span class=\"go\">array([1, 2, 3])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">midpoint</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 1.5,  2. ,  2.5])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">midpoint</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 1.,  1.,  1.])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">midpoint</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 1.5,  0. ,  0. ])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">9</span><span class=\"p\">,</span><span class=\"mi\">7</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">9</span><span class=\"p\">,</span><span class=\"mi\">7</span><span class=\"p\">],[</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">9</span><span class=\"p\">,</span><span class=\"mi\">7</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">midpoint</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 1.5,  9. ,  7. ])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"midpoint2point\">\n<h3>midpoint2point<a class=\"headerlink\" href=\"#midpoint2point\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.midpoint2point\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">midpoint2point</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>p</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.midpoint2point\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculate distance from midpoint of a curve to arbitrary point p</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array-like shape (N,3)</p>\n<blockquote>\n<div><p>array representing x,y,z of N points in a track</p>\n</div></blockquote>\n<p><strong>p</strong> : array shape (3,)</p>\n<blockquote>\n<div><p>array representing an arbitrary point with x,y,z coordinates in\nspace.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>d</strong> : float</p>\n<blockquote class=\"last\">\n<div><p>a float number representing Euclidean distance</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">midpoint2point</span><span class=\"p\">,</span> <span class=\"n\">midpoint</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">dist</span><span class=\"o\">=</span><span class=\"n\">midpoint2point</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]))</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"principal-components\">\n<h3>principal_components<a class=\"headerlink\" href=\"#principal-components\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.principal_components\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">principal_components</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.principal_components\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>We use PCA to calculate the 3 principal directions for a track</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array-like shape (N,3)</p>\n<blockquote>\n<div><p>array representing x,y,z of N points in a track</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>va</strong> : array_like</p>\n<blockquote>\n<div><p>eigenvalues</p>\n</div></blockquote>\n<p><strong>ve</strong> : array_like</p>\n<blockquote class=\"last\">\n<div><p>eigenvectors</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">principal_components</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">va</span><span class=\"p\">,</span> <span class=\"n\">ve</span> <span class=\"o\">=</span> <span class=\"n\">principal_components</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">allclose</span><span class=\"p\">(</span><span class=\"n\">va</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mf\">0.51010101</span><span class=\"p\">,</span> <span class=\"mf\">0.09883545</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"splev\">\n<h3>splev<a class=\"headerlink\" href=\"#splev\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.splev\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">splev</code><span class=\"sig-paren\">(</span><em>x</em>, <em>tck</em>, <em>der=0</em>, <em>ext=0</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.splev\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Evaluate a B-spline or its derivatives.</p>\n<p>Given the knots and coefficients of a B-spline representation, evaluate\nthe value of the smoothing polynomial and its derivatives.  This is a\nwrapper around the FORTRAN routines splev and splder of FITPACK.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>x</strong> : array_like</p>\n<blockquote>\n<div><p>An array of points at which to return the value of the smoothed\nspline or its derivatives.  If <cite>tck</cite> was returned from <cite>splprep</cite>,\nthen the parameter values, u should be given.</p>\n</div></blockquote>\n<p><strong>tck</strong> : tuple</p>\n<blockquote>\n<div><p>A sequence of length 3 returned by <cite>splrep</cite> or <cite>splprep</cite> containing\nthe knots, coefficients, and degree of the spline.</p>\n</div></blockquote>\n<p><strong>der</strong> : int, optional</p>\n<blockquote>\n<div><p>The order of derivative of the spline to compute (must be less than\nor equal to k).</p>\n</div></blockquote>\n<p><strong>ext</strong> : int, optional</p>\n<blockquote>\n<div><p>Controls the value returned for elements of <code class=\"docutils literal\"><span class=\"pre\">x</span></code> not in the\ninterval defined by the knot sequence.</p>\n<ul class=\"simple\">\n<li>if ext=0, return the extrapolated value.</li>\n<li>if ext=1, return 0</li>\n<li>if ext=2, raise a ValueError</li>\n<li>if ext=3, return the boundary value.</li>\n</ul>\n<p>The default value is 0.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>y</strong> : ndarray or list of ndarrays</p>\n<blockquote class=\"last\">\n<div><p>An array of values representing the spline function evaluated at\nthe points in <code class=\"docutils literal\"><span class=\"pre\">x</span></code>.  If <cite>tck</cite> was returned from <cite>splprep</cite>, then this\nis a list of arrays representing the curve in N-dimensional space.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.tracking.metrics.splprep\" title=\"dipy.tracking.metrics.splprep\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">splprep</span></code></a>, <code class=\"xref py py-obj docutils literal\"><span class=\"pre\">splrep</span></code>, <code class=\"xref py py-obj docutils literal\"><span class=\"pre\">sproot</span></code>, <code class=\"xref py py-obj docutils literal\"><span class=\"pre\">spalde</span></code>, <code class=\"xref py py-obj docutils literal\"><span class=\"pre\">splint</span></code>, <code class=\"xref py py-obj docutils literal\"><span class=\"pre\">bisplrep</span></code>, <code class=\"xref py py-obj docutils literal\"><span class=\"pre\">bisplev</span></code></p>\n</div>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r220\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id29\">[R220]</a></td><td>C. de Boor, &#8220;On calculating with b-splines&#8221;, J. Approximation\nTheory, 6, p.50-62, 1972.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r221\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id30\">[R221]</a></td><td>M.G. Cox, &#8220;The numerical evaluation of b-splines&#8221;, J. Inst. Maths\nApplics, 10, p.134-149, 1972.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r222\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id31\">[R222]</a></td><td>P. Dierckx, &#8220;Curve and surface fitting with splines&#8221;, Monographs\non Numerical Analysis, Oxford University Press, 1993.</td></tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"spline\">\n<h3>spline<a class=\"headerlink\" href=\"#spline\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.spline\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">spline</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>s=3</em>, <em>k=2</em>, <em>nest=-1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.spline\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Generate B-splines as documented in\n<a class=\"reference external\" href=\"http://www.scipy.org/Cookbook/Interpolation\">http://www.scipy.org/Cookbook/Interpolation</a></p>\n<p>The scipy.interpolate packages wraps the netlib FITPACK routines\n(Dierckx) for calculating smoothing splines for various kinds of\ndata and geometries. Although the data is evenly spaced in this\nexample, it need not be so to use this routine.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array, shape (N,3)</p>\n<blockquote>\n<div><p>array representing x,y,z of N points in 3d space</p>\n</div></blockquote>\n<p><strong>s</strong> : float, optional</p>\n<blockquote>\n<div><p>A smoothing condition.  The amount of smoothness is determined by\nsatisfying the conditions: sum((w * (y - g))**2,axis=0) &lt;= s\nwhere g(x) is the smoothed interpolation of (x,y).  The user can\nuse s to control the tradeoff between closeness and smoothness of\nfit.  Larger satisfying the conditions: sum((w * (y -\ng))**2,axis=0) &lt;= s where g(x) is the smoothed interpolation of\n(x,y).  The user can use s to control the tradeoff between\ncloseness and smoothness of fit.  Larger s means more smoothing\nwhile smaller values of s indicate less smoothing. Recommended\nvalues of s depend on the weights, w.  If the weights represent\nthe inverse of the standard-deviation of y, then a: good s value\nshould be found in the range (m-sqrt(2*m),m+sqrt(2*m)) where m is\nthe number of datapoints in x, y, and w.</p>\n</div></blockquote>\n<p><strong>k</strong> : int, optional</p>\n<blockquote>\n<div><p>Degree of the spline.  Cubic splines are recommended.  Even\nvalues of k should be avoided especially with a small s-value.\nfor the same set of data.  If task=-1 find the weighted least\nsquare spline for a given set of knots, t.</p>\n</div></blockquote>\n<p><strong>nest</strong> : None or int, optional</p>\n<blockquote>\n<div><p>An over-estimate of the total number of knots of the spline to\nhelp in determining the storage space.  None results in value\nm+2*k. -1 results in m+k+1. Always large enough is nest=m+k+1.\nDefault is -1.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>xyzn</strong> : array, shape (M,3)</p>\n<blockquote class=\"last\">\n<div><p>array representing x,y,z of the M points inside the sphere</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">scipy.interpolate.splprep</span></code>, <code class=\"xref py py-obj docutils literal\"><span class=\"pre\">scipy.interpolate.splev</span></code></p>\n</div>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">t</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mf\">1.75</span><span class=\"o\">*</span><span class=\"mi\">2</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span><span class=\"c1\"># make ascending spiral in 3-space</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span> <span class=\"o\">=</span> <span class=\"n\">t</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">+=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">normal</span><span class=\"p\">(</span><span class=\"n\">scale</span><span class=\"o\">=</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"n\">x</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">)</span> <span class=\"c1\"># add noise</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">+=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">normal</span><span class=\"p\">(</span><span class=\"n\">scale</span><span class=\"o\">=</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"n\">y</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">+=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">normal</span><span class=\"p\">(</span><span class=\"n\">scale</span><span class=\"o\">=</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"n\">z</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyzn</span><span class=\"o\">=</span><span class=\"n\">spline</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">xyzn</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"splprep\">\n<h3>splprep<a class=\"headerlink\" href=\"#splprep\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.splprep\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">splprep</code><span class=\"sig-paren\">(</span><em>x</em>, <em>w=None</em>, <em>u=None</em>, <em>ub=None</em>, <em>ue=None</em>, <em>k=3</em>, <em>task=0</em>, <em>s=None</em>, <em>t=None</em>, <em>full_output=0</em>, <em>nest=None</em>, <em>per=0</em>, <em>quiet=1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.splprep\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Find the B-spline representation of an N-dimensional curve.</p>\n<p>Given a list of N rank-1 arrays, <cite>x</cite>, which represent a curve in\nN-dimensional space parametrized by <cite>u</cite>, find a smooth approximating\nspline curve g(<cite>u</cite>). Uses the FORTRAN routine parcur from FITPACK.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>x</strong> : array_like</p>\n<blockquote>\n<div><p>A list of sample vector arrays representing the curve.</p>\n</div></blockquote>\n<p><strong>w</strong> : array_like, optional</p>\n<blockquote>\n<div><p>Strictly positive rank-1 array of weights the same length as <cite>x[0]</cite>.\nThe weights are used in computing the weighted least-squares spline\nfit. If the errors in the <cite>x</cite> values have standard-deviation given by\nthe vector d, then <cite>w</cite> should be 1/d. Default is <code class=\"docutils literal\"><span class=\"pre\">ones(len(x[0]))</span></code>.</p>\n</div></blockquote>\n<p><strong>u</strong> : array_like, optional</p>\n<blockquote>\n<div><p>An array of parameter values. If not given, these values are\ncalculated automatically as <code class=\"docutils literal\"><span class=\"pre\">M</span> <span class=\"pre\">=</span> <span class=\"pre\">len(x[0])</span></code>, where</p>\n<blockquote>\n<div><p>v[0] = 0</p>\n<p>v[i] = v[i-1] + distance(<cite>x[i]</cite>, <cite>x[i-1]</cite>)</p>\n<p>u[i] = v[i] / v[M-1]</p>\n</div></blockquote>\n</div></blockquote>\n<p><strong>ub, ue</strong> : int, optional</p>\n<blockquote>\n<div><p>The end-points of the parameters interval.  Defaults to\nu[0] and u[-1].</p>\n</div></blockquote>\n<p><strong>k</strong> : int, optional</p>\n<blockquote>\n<div><p>Degree of the spline. Cubic splines are recommended.\nEven values of <cite>k</cite> should be avoided especially with a small s-value.\n<code class=\"docutils literal\"><span class=\"pre\">1</span> <span class=\"pre\">&lt;=</span> <span class=\"pre\">k</span> <span class=\"pre\">&lt;=</span> <span class=\"pre\">5</span></code>, default is 3.</p>\n</div></blockquote>\n<p><strong>task</strong> : int, optional</p>\n<blockquote>\n<div><p>If task==0 (default), find t and c for a given smoothing factor, s.\nIf task==1, find t and c for another value of the smoothing factor, s.\nThere must have been a previous call with task=0 or task=1\nfor the same set of data.\nIf task=-1 find the weighted least square spline for a given set of\nknots, t.</p>\n</div></blockquote>\n<p><strong>s</strong> : float, optional</p>\n<blockquote>\n<div><p>A smoothing condition.  The amount of smoothness is determined by\nsatisfying the conditions: <code class=\"docutils literal\"><span class=\"pre\">sum((w</span> <span class=\"pre\">*</span> <span class=\"pre\">(y</span> <span class=\"pre\">-</span> <span class=\"pre\">g))**2,axis=0)</span> <span class=\"pre\">&lt;=</span> <span class=\"pre\">s</span></code>,\nwhere g(x) is the smoothed interpolation of (x,y).  The user can\nuse <cite>s</cite> to control the trade-off between closeness and smoothness\nof fit.  Larger <cite>s</cite> means more smoothing while smaller values of <cite>s</cite>\nindicate less smoothing. Recommended values of <cite>s</cite> depend on the\nweights, w.  If the weights represent the inverse of the\nstandard-deviation of y, then a good <cite>s</cite> value should be found in\nthe range <code class=\"docutils literal\"><span class=\"pre\">(m-sqrt(2*m),m+sqrt(2*m))</span></code>, where m is the number of\ndata points in x, y, and w.</p>\n</div></blockquote>\n<p><strong>t</strong> : int, optional</p>\n<blockquote>\n<div><p>The knots needed for task=-1.</p>\n</div></blockquote>\n<p><strong>full_output</strong> : int, optional</p>\n<blockquote>\n<div><p>If non-zero, then return optional outputs.</p>\n</div></blockquote>\n<p><strong>nest</strong> : int, optional</p>\n<blockquote>\n<div><p>An over-estimate of the total number of knots of the spline to\nhelp in determining the storage space.  By default nest=m/2.\nAlways large enough is nest=m+k+1.</p>\n</div></blockquote>\n<p><strong>per</strong> : int, optional</p>\n<blockquote>\n<div><p>If non-zero, data points are considered periodic with period\n<code class=\"docutils literal\"><span class=\"pre\">x[m-1]</span> <span class=\"pre\">-</span> <span class=\"pre\">x[0]</span></code> and a smooth periodic spline approximation is\nreturned.  Values of <code class=\"docutils literal\"><span class=\"pre\">y[m-1]</span></code> and <code class=\"docutils literal\"><span class=\"pre\">w[m-1]</span></code> are not used.</p>\n</div></blockquote>\n<p><strong>quiet</strong> : int, optional</p>\n<blockquote>\n<div><p>Non-zero to suppress messages.\nThis parameter is deprecated; use standard Python warning filters\ninstead.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>tck</strong> : tuple</p>\n<blockquote>\n<div><p>A tuple (t,c,k) containing the vector of knots, the B-spline\ncoefficients, and the degree of the spline.</p>\n</div></blockquote>\n<p><strong>u</strong> : array</p>\n<blockquote>\n<div><p>An array of the values of the parameter.</p>\n</div></blockquote>\n<p><strong>fp</strong> : float</p>\n<blockquote>\n<div><p>The weighted sum of squared residuals of the spline approximation.</p>\n</div></blockquote>\n<p><strong>ier</strong> : int</p>\n<blockquote>\n<div><p>An integer flag about splrep success.  Success is indicated\nif ier&lt;=0. If ier in [1,2,3] an error occurred but was not raised.\nOtherwise an error is raised.</p>\n</div></blockquote>\n<p><strong>msg</strong> : str</p>\n<blockquote class=\"last\">\n<div><p>A message corresponding to the integer flag, ier.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">splrep</span></code>, <a class=\"reference internal\" href=\"#dipy.tracking.metrics.splev\" title=\"dipy.tracking.metrics.splev\"><code class=\"xref py py-obj docutils literal\"><span class=\"pre\">splev</span></code></a>, <code class=\"xref py py-obj docutils literal\"><span class=\"pre\">sproot</span></code>, <code class=\"xref py py-obj docutils literal\"><span class=\"pre\">spalde</span></code>, <code class=\"xref py py-obj docutils literal\"><span class=\"pre\">splint</span></code>, <code class=\"xref py py-obj docutils literal\"><span class=\"pre\">bisplrep</span></code>, <code class=\"xref py py-obj docutils literal\"><span class=\"pre\">bisplev</span></code>, <code class=\"xref py py-obj docutils literal\"><span class=\"pre\">UnivariateSpline</span></code>, <code class=\"xref py py-obj docutils literal\"><span class=\"pre\">BivariateSpline</span></code></p>\n</div>\n<p class=\"rubric\">Notes</p>\n<p>See <cite>splev</cite> for evaluation of the spline and its derivatives.\nThe number of dimensions N must be smaller than 11.</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r223\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id32\">[R223]</a></td><td>P. Dierckx, &#8220;Algorithms for smoothing data with periodic and\nparametric splines, Computer Graphics and Image Processing&#8221;,\n20 (1982) 171-184.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r224\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id33\">[R224]</a></td><td>P. Dierckx, &#8220;Algorithms for smoothing data with periodic and\nparametric splines&#8221;, report tw55, Dept. Computer Science,\nK.U.Leuven, 1981.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r225\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id34\">[R225]</a></td><td>P. Dierckx, &#8220;Curve and surface fitting with splines&#8221;, Monographs on\nNumerical Analysis, Oxford University Press, 1993.</td></tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"startpoint\">\n<h3>startpoint<a class=\"headerlink\" href=\"#startpoint\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.startpoint\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">startpoint</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.startpoint\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>First point of the track</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array, shape(N,3)</p>\n<blockquote>\n<div><p>Track.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>sp</strong> : array, shape(3,)</p>\n<blockquote class=\"last\">\n<div><p>First track point.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">startpoint</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sp</span><span class=\"o\">=</span><span class=\"n\">startpoint</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sp</span><span class=\"o\">.</span><span class=\"n\">any</span><span class=\"p\">()</span><span class=\"o\">==</span><span class=\"n\">xyz</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">any</span><span class=\"p\">()</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"winding\">\n<h3>winding<a class=\"headerlink\" href=\"#winding\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.winding\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">winding</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.winding\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Total turning angle projected.</p>\n<p>Project space curve to best fitting plane. Calculate the cumulative signed\nangle between each line segment and the previous one.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>xyz</strong> : array-like shape (N,3)</p>\n<blockquote>\n<div><p>Array representing x,y,z of N points in a track.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>a</strong> : scalar</p>\n<blockquote class=\"last\">\n<div><p>Total turning angle in degrees.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"apply-affine\">\n<h3>apply_affine<a class=\"headerlink\" href=\"#apply-affine\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.apply_affine\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">apply_affine</code><span class=\"sig-paren\">(</span><em>aff</em>, <em>pts</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.apply_affine\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Apply affine matrix <cite>aff</cite> to points <cite>pts</cite></p>\n<p>Returns result of application of <cite>aff</cite> to the <em>right</em> of <cite>pts</cite>.  The\ncoordinate dimension of <cite>pts</cite> should be the last.</p>\n<p>For the 3D case, <cite>aff</cite> will be shape (4,4) and <cite>pts</cite> will have final axis\nlength 3 - maybe it will just be N by 3. The return value is the\ntransformed points, in this case:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">aff</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,:</span><span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"n\">pts</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"n\">aff</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">:</span><span class=\"mi\">4</span><span class=\"p\">]</span>\n<span class=\"n\">transformed_pts</span> <span class=\"o\">=</span> <span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">T</span>\n</pre></div>\n</div>\n<p>This routine is more general than 3D, in that <cite>aff</cite> can have any shape\n(N,N), and <cite>pts</cite> can have any shape, as long as the last dimension is for\nthe coordinates, and is therefore length N-1.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>aff</strong> : (N, N) array-like</p>\n<blockquote>\n<div><p>Homogenous affine, for 3D points, will be 4 by 4. Contrary to first\nappearance, the affine will be applied on the left of <cite>pts</cite>.</p>\n</div></blockquote>\n<p><strong>pts</strong> : (..., N-1) array-like</p>\n<blockquote>\n<div><p>Points, where the last dimension contains the coordinates of each\npoint.  For 3D, the last dimension will be length 3.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>transformed_pts</strong> : (..., N-1) array</p>\n<blockquote class=\"last\">\n<div><p>transformed points</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">aff</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">10</span><span class=\"p\">],[</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">11</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">12</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pts</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">],[</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">],[</span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"mi\">7</span><span class=\"p\">,</span><span class=\"mi\">8</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">apply_affine</span><span class=\"p\">(</span><span class=\"n\">aff</span><span class=\"p\">,</span> <span class=\"n\">pts</span><span class=\"p\">)</span> \n<span class=\"go\">array([[14, 14, 24],</span>\n<span class=\"go\">       [16, 17, 28],</span>\n<span class=\"go\">       [20, 23, 36],</span>\n<span class=\"go\">       [24, 29, 44]]...)</span>\n</pre></div>\n</div>\n<p>Just to show that in the simple 3D case, it is equivalent to:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">aff</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,:</span><span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"n\">pts</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"n\">aff</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">:</span><span class=\"mi\">4</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">T</span> \n<span class=\"go\">array([[14, 14, 24],</span>\n<span class=\"go\">       [16, 17, 28],</span>\n<span class=\"go\">       [20, 23, 36],</span>\n<span class=\"go\">       [24, 29, 44]]...)</span>\n</pre></div>\n</div>\n<p>But <cite>pts</cite> can be a more complicated shape:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pts</span> <span class=\"o\">=</span> <span class=\"n\">pts</span><span class=\"o\">.</span><span class=\"n\">reshape</span><span class=\"p\">((</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">apply_affine</span><span class=\"p\">(</span><span class=\"n\">aff</span><span class=\"p\">,</span> <span class=\"n\">pts</span><span class=\"p\">)</span> \n<span class=\"go\">array([[[14, 14, 24],</span>\n<span class=\"go\">        [16, 17, 28]],</span>\n\n<span class=\"go\">       [[20, 23, 36],</span>\n<span class=\"go\">        [24, 29, 44]]]...)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"cdist\">\n<h3>cdist<a class=\"headerlink\" href=\"#cdist\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.cdist\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">cdist</code><span class=\"sig-paren\">(</span><em>XA</em>, <em>XB</em>, <em>metric='euclidean'</em>, <em>p=2</em>, <em>V=None</em>, <em>VI=None</em>, <em>w=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.cdist\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Computes distance between each pair of the two collections of inputs.</p>\n<p>The following are common calling conventions:</p>\n<ol class=\"arabic\">\n<li><p class=\"first\"><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'euclidean')</span></code></p>\n<p>Computes the distance between <span class=\"math\">\\(m\\)</span> points using\nEuclidean distance (2-norm) as the distance metric between the\npoints. The points are arranged as <span class=\"math\">\\(m\\)</span>\n<span class=\"math\">\\(n\\)</span>-dimensional row vectors in the matrix X.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'minkowski',</span> <span class=\"pre\">p)</span></code></p>\n<p>Computes the distances using the Minkowski distance\n<span class=\"math\">\\(||u-v||_p\\)</span> (<span class=\"math\">\\(p\\)</span>-norm) where <span class=\"math\">\\(p \\geq 1\\)</span>.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'cityblock')</span></code></p>\n<p>Computes the city block or Manhattan distance between the\npoints.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'seuclidean',</span> <span class=\"pre\">V=None)</span></code></p>\n<p>Computes the standardized Euclidean distance. The standardized\nEuclidean distance between two n-vectors <code class=\"docutils literal\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal\"><span class=\"pre\">v</span></code> is</p>\n<div class=\"math\">\n\\[\\sqrt{\\sum {(u_i-v_i)^2 / V[x_i]}}.\\]</div>\n<p>V is the variance vector; V[i] is the variance computed over all\nthe i&#8217;th components of the points. If not passed, it is\nautomatically computed.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'sqeuclidean')</span></code></p>\n<p>Computes the squared Euclidean distance <span class=\"math\">\\(||u-v||_2^2\\)</span> between\nthe vectors.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'cosine')</span></code></p>\n<p>Computes the cosine distance between vectors u and v,</p>\n<div class=\"math\">\n\\[1 - \\frac{u \\cdot v}\n         {{||u||}_2 {||v||}_2}\\]</div>\n<p>where <span class=\"math\">\\(||*||_2\\)</span> is the 2-norm of its argument <code class=\"docutils literal\"><span class=\"pre\">*</span></code>, and\n<span class=\"math\">\\(u \\cdot v\\)</span> is the dot product of <span class=\"math\">\\(u\\)</span> and <span class=\"math\">\\(v\\)</span>.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'correlation')</span></code></p>\n<p>Computes the correlation distance between vectors u and v. This is</p>\n<div class=\"math\">\n\\[1 - \\frac{(u - \\bar{u}) \\cdot (v - \\bar{v})}\n         {{||(u - \\bar{u})||}_2 {||(v - \\bar{v})||}_2}\\]</div>\n<p>where <span class=\"math\">\\(\\bar{v}\\)</span> is the mean of the elements of vector v,\nand <span class=\"math\">\\(x \\cdot y\\)</span> is the dot product of <span class=\"math\">\\(x\\)</span> and <span class=\"math\">\\(y\\)</span>.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'hamming')</span></code></p>\n<p>Computes the normalized Hamming distance, or the proportion of\nthose vector elements between two n-vectors <code class=\"docutils literal\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal\"><span class=\"pre\">v</span></code>\nwhich disagree. To save memory, the matrix <code class=\"docutils literal\"><span class=\"pre\">X</span></code> can be of type\nboolean.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'jaccard')</span></code></p>\n<p>Computes the Jaccard distance between the points. Given two\nvectors, <code class=\"docutils literal\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal\"><span class=\"pre\">v</span></code>, the Jaccard distance is the\nproportion of those elements <code class=\"docutils literal\"><span class=\"pre\">u[i]</span></code> and <code class=\"docutils literal\"><span class=\"pre\">v[i]</span></code> that\ndisagree where at least one of them is non-zero.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'chebyshev')</span></code></p>\n</li>\n</ol>\n<blockquote>\n<div><p>Computes the Chebyshev distance between the points. The\nChebyshev distance between two n-vectors <code class=\"docutils literal\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal\"><span class=\"pre\">v</span></code> is the\nmaximum norm-1 distance between their respective elements. More\nprecisely, the distance is given by</p>\n<div class=\"math\">\n\\[d(u,v) = \\max_i {|u_i-v_i|}.\\]</div>\n</div></blockquote>\n<ol class=\"arabic simple\" start=\"11\">\n<li><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'canberra')</span></code></li>\n</ol>\n<blockquote>\n<div><p>Computes the Canberra distance between the points. The\nCanberra distance between two points <code class=\"docutils literal\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal\"><span class=\"pre\">v</span></code> is</p>\n<div class=\"math\">\n\\[d(u,v) = \\sum_i \\frac{|u_i-v_i|}\n                     {|u_i|+|v_i|}.\\]</div>\n</div></blockquote>\n<ol class=\"arabic simple\" start=\"12\">\n<li><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'braycurtis')</span></code></li>\n</ol>\n<blockquote>\n<div><p>Computes the Bray-Curtis distance between the points. The\nBray-Curtis distance between two points <code class=\"docutils literal\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal\"><span class=\"pre\">v</span></code> is</p>\n<div class=\"math\">\n\\[d(u,v) = \\frac{\\sum_i (u_i-v_i)}\n              {\\sum_i (u_i+v_i)}\\]</div>\n</div></blockquote>\n<ol class=\"arabic simple\" start=\"13\">\n<li><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'mahalanobis',</span> <span class=\"pre\">VI=None)</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Mahalanobis distance between the points. The\nMahalanobis distance between two points <code class=\"docutils literal\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal\"><span class=\"pre\">v</span></code> is\n<span class=\"math\">\\((u-v)(1/V)(u-v)^T\\)</span> where <span class=\"math\">\\((1/V)\\)</span> (the <code class=\"docutils literal\"><span class=\"pre\">VI</span></code>\nvariable) is the inverse covariance. If <code class=\"docutils literal\"><span class=\"pre\">VI</span></code> is not None,\n<code class=\"docutils literal\"><span class=\"pre\">VI</span></code> will be used as the inverse covariance matrix.</div></blockquote>\n<ol class=\"arabic simple\" start=\"14\">\n<li><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'yule')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Yule distance between the boolean\nvectors. (see <cite>yule</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"15\">\n<li><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'matching')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the matching distance between the boolean\nvectors. (see <cite>matching</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"16\">\n<li><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'dice')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Dice distance between the boolean vectors. (see\n<cite>dice</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"17\">\n<li><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'kulsinski')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Kulsinski distance between the boolean\nvectors. (see <cite>kulsinski</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"18\">\n<li><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'rogerstanimoto')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Rogers-Tanimoto distance between the boolean\nvectors. (see <cite>rogerstanimoto</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"19\">\n<li><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'russellrao')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Russell-Rao distance between the boolean\nvectors. (see <cite>russellrao</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"20\">\n<li><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'sokalmichener')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Sokal-Michener distance between the boolean\nvectors. (see <cite>sokalmichener</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"21\">\n<li><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'sokalsneath')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Sokal-Sneath distance between the vectors. (see\n<cite>sokalsneath</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"22\">\n<li><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'wminkowski')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the weighted Minkowski distance between the\nvectors. (see <cite>wminkowski</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"23\">\n<li><code class=\"docutils literal\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">f)</span></code></li>\n</ol>\n<blockquote>\n<div><p>Computes the distance between all pairs of vectors in X\nusing the user supplied 2-arity function f. For example,\nEuclidean distance between the vectors could be computed\nas follows:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"n\">dm</span> <span class=\"o\">=</span> <span class=\"n\">cdist</span><span class=\"p\">(</span><span class=\"n\">XA</span><span class=\"p\">,</span> <span class=\"n\">XB</span><span class=\"p\">,</span> <span class=\"k\">lambda</span> <span class=\"n\">u</span><span class=\"p\">,</span> <span class=\"n\">v</span><span class=\"p\">:</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(((</span><span class=\"n\">u</span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"p\">)</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">()))</span>\n</pre></div>\n</div>\n<p>Note that you should avoid passing a reference to one of\nthe distance functions defined in this library. For example,:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"n\">dm</span> <span class=\"o\">=</span> <span class=\"n\">cdist</span><span class=\"p\">(</span><span class=\"n\">XA</span><span class=\"p\">,</span> <span class=\"n\">XB</span><span class=\"p\">,</span> <span class=\"n\">sokalsneath</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>would calculate the pair-wise distances between the vectors in\nX using the Python function <cite>sokalsneath</cite>. This would result in\nsokalsneath being called <span class=\"math\">\\({n \\choose 2}\\)</span> times, which\nis inefficient. Instead, the optimized C version is more\nefficient, and we call it using the following syntax:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"n\">dm</span> <span class=\"o\">=</span> <span class=\"n\">cdist</span><span class=\"p\">(</span><span class=\"n\">XA</span><span class=\"p\">,</span> <span class=\"n\">XB</span><span class=\"p\">,</span> <span class=\"s1\">&#39;sokalsneath&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div></blockquote>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>XA</strong> : ndarray</p>\n<blockquote>\n<div><p>An <span class=\"math\">\\(m_A\\)</span> by <span class=\"math\">\\(n\\)</span> array of <span class=\"math\">\\(m_A\\)</span>\noriginal observations in an <span class=\"math\">\\(n\\)</span>-dimensional space.\nInputs are converted to float type.</p>\n</div></blockquote>\n<p><strong>XB</strong> : ndarray</p>\n<blockquote>\n<div><p>An <span class=\"math\">\\(m_B\\)</span> by <span class=\"math\">\\(n\\)</span> array of <span class=\"math\">\\(m_B\\)</span>\noriginal observations in an <span class=\"math\">\\(n\\)</span>-dimensional space.\nInputs are converted to float type.</p>\n</div></blockquote>\n<p><strong>metric</strong> : str or callable, optional</p>\n<blockquote>\n<div><p>The distance metric to use.  If a string, the distance function can be\n&#8216;braycurtis&#8217;, &#8216;canberra&#8217;, &#8216;chebyshev&#8217;, &#8216;cityblock&#8217;, &#8216;correlation&#8217;,\n&#8216;cosine&#8217;, &#8216;dice&#8217;, &#8216;euclidean&#8217;, &#8216;hamming&#8217;, &#8216;jaccard&#8217;, &#8216;kulsinski&#8217;,\n&#8216;mahalanobis&#8217;, &#8216;matching&#8217;, &#8216;minkowski&#8217;, &#8216;rogerstanimoto&#8217;, &#8216;russellrao&#8217;,\n&#8216;seuclidean&#8217;, &#8216;sokalmichener&#8217;, &#8216;sokalsneath&#8217;, &#8216;sqeuclidean&#8217;,\n&#8216;wminkowski&#8217;, &#8216;yule&#8217;.</p>\n</div></blockquote>\n<p><strong>w</strong> : ndarray, optional</p>\n<blockquote>\n<div><p>The weight vector (for weighted Minkowski).</p>\n</div></blockquote>\n<p><strong>p</strong> : scalar, optional</p>\n<blockquote>\n<div><p>The p-norm to apply (for Minkowski, weighted and unweighted)</p>\n</div></blockquote>\n<p><strong>V</strong> : ndarray, optional</p>\n<blockquote>\n<div><p>The variance vector (for standardized Euclidean).</p>\n</div></blockquote>\n<p><strong>VI</strong> : ndarray, optional</p>\n<blockquote>\n<div><p>The inverse of the covariance matrix (for Mahalanobis).</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>Y</strong> : ndarray</p>\n<blockquote>\n<div><p>A <span class=\"math\">\\(m_A\\)</span> by <span class=\"math\">\\(m_B\\)</span> distance matrix is returned.\nFor each <span class=\"math\">\\(i\\)</span> and <span class=\"math\">\\(j\\)</span>, the metric\n<code class=\"docutils literal\"><span class=\"pre\">dist(u=XA[i],</span> <span class=\"pre\">v=XB[j])</span></code> is computed and stored in the\n<span class=\"math\">\\(ij\\)</span> th entry.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-odd field\"><th class=\"field-name\">Raises:</th><td class=\"field-body\"><p class=\"first\"><strong>ValueError</strong></p>\n<blockquote class=\"last\">\n<div><p>An exception is thrown if <cite>XA</cite> and <cite>XB</cite> do not have\nthe same number of columns.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<p>Find the Euclidean distances between four 2-D coordinates:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">scipy.spatial</span> <span class=\"k\">import</span> <span class=\"n\">distance</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">coords</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"mf\">35.0456</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">85.2672</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>          <span class=\"p\">(</span><span class=\"mf\">35.1174</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">89.9711</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>          <span class=\"p\">(</span><span class=\"mf\">35.9728</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">83.9422</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>          <span class=\"p\">(</span><span class=\"mf\">36.1667</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">86.7833</span><span class=\"p\">)]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">distance</span><span class=\"o\">.</span><span class=\"n\">cdist</span><span class=\"p\">(</span><span class=\"n\">coords</span><span class=\"p\">,</span> <span class=\"n\">coords</span><span class=\"p\">,</span> <span class=\"s1\">&#39;euclidean&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">array([[ 0.    ,  4.7044,  1.6172,  1.8856],</span>\n<span class=\"go\">       [ 4.7044,  0.    ,  6.0893,  3.3561],</span>\n<span class=\"go\">       [ 1.6172,  6.0893,  0.    ,  2.8477],</span>\n<span class=\"go\">       [ 1.8856,  3.3561,  2.8477,  0.    ]])</span>\n</pre></div>\n</div>\n<p>Find the Manhattan distance from a 3-D point to the corners of the unit\ncube:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span> <span class=\"mf\">0.1</span><span class=\"p\">,</span>  <span class=\"mf\">0.2</span><span class=\"p\">,</span>  <span class=\"mf\">0.4</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">distance</span><span class=\"o\">.</span><span class=\"n\">cdist</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">,</span> <span class=\"s1\">&#39;cityblock&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">array([[ 0.7],</span>\n<span class=\"go\">       [ 0.9],</span>\n<span class=\"go\">       [ 1.3],</span>\n<span class=\"go\">       [ 1.5],</span>\n<span class=\"go\">       [ 1.5],</span>\n<span class=\"go\">       [ 1.7],</span>\n<span class=\"go\">       [ 2.1],</span>\n<span class=\"go\">       [ 2.3]])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"center-streamlines\">\n<h3>center_streamlines<a class=\"headerlink\" href=\"#center-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.center_streamlines\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">center_streamlines</code><span class=\"sig-paren\">(</span><em>streamlines</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.center_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Move streamlines to the origin</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamlines</strong> : list</p>\n<blockquote>\n<div><p>List of 2D ndarrays of shape[-1]==3</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>new_streamlines</strong> : list</p>\n<blockquote>\n<div><p>List of 2D ndarrays of shape[-1]==3</p>\n</div></blockquote>\n<p><strong>inv_shift</strong> : ndarray</p>\n<blockquote class=\"last\">\n<div><p>Translation in x,y,z to go back in the initial position</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id35\">\n<h3>compress_streamlines<a class=\"headerlink\" href=\"#id35\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.compress_streamlines\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">compress_streamlines</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.compress_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Compress streamlines by linearization as in <a class=\"reference internal\" href=\"#id44\" id=\"id36\">[Presseau15]</a>.</p>\n<p>The compression consists in merging consecutive segments that are\nnearly collinear. The merging is achieved by removing the point the two\nsegments have in common.</p>\n<p>The linearization process <a class=\"reference internal\" href=\"#id44\" id=\"id37\">[Presseau15]</a> ensures that every point being\nremoved are within a certain margin (in mm) of the resulting streamline.\nRecommendations for setting this margin can be found in <a class=\"reference internal\" href=\"#id44\" id=\"id38\">[Presseau15]</a>\n(in which they called it tolerance error).</p>\n<p>The compression also ensures that two consecutive points won&#8217;t be too far\nfrom each other (precisely less or equal than <a href=\"#id39\"><span class=\"problematic\" id=\"id40\">`</span></a>max_segment_length`mm).\nThis is a tradeoff to speed up the linearization process <a class=\"reference internal\" href=\"#id45\" id=\"id41\">[Rheault15]</a>. A low\nvalue will result in a faster linearization but low compression, whereas\na high value will result in a slower linearization but high compression.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamlines</strong> : one or a list of array-like of shape (N,3)</p>\n<blockquote>\n<div><p>Array representing x,y,z of N points in a streamline.</p>\n</div></blockquote>\n<p><strong>tol_error</strong> : float (optional)</p>\n<blockquote>\n<div><p>Tolerance error in mm (default: 0.01). A rule of thumb is to set it\nto 0.01mm for deterministic streamlines and 0.1mm for probabilitic\nstreamlines.</p>\n</div></blockquote>\n<p><strong>max_segment_length</strong> : float (optional)</p>\n<blockquote>\n<div><p>Maximum length in mm of any given segment produced by the compression.\nThe default is 10mm. (In <a class=\"reference internal\" href=\"#id44\" id=\"id42\">[Presseau15]</a>, they used a value of <cite>np.inf</cite>).</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>compressed_streamlines</strong> : one or a list of array-like</p>\n<blockquote class=\"last\">\n<div><p>Results of the linearization process.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>Be aware that compressed streamlines have variable step sizes. One needs to\nbe careful when computing streamlines-based metrics <a class=\"reference internal\" href=\"#id46\" id=\"id43\">[Houde15]</a>.</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"id44\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Presseau15]</td><td>Presseau C. et al., A new compression format for fiber\ntracking datasets, NeuroImage, no 109, 73-83, 2015.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"id45\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Rheault15]</td><td>Rheault F. et al., Real Time Interaction with Millions of\nStreamlines, ISMRM, 2015.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"id46\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Houde15]</td><td>Houde J.-C. et al. How to Avoid Biased Streamlines-Based\nMetrics for Streamlines with Variable Step Sizes, ISMRM, 2015.</td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.streamline</span> <span class=\"k\">import</span> <span class=\"n\">compress_streamlines</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># One streamline: a wiggling line</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rng</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">RandomState</span><span class=\"p\">(</span><span class=\"mi\">42</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"o\">*</span><span class=\"mi\">3</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">reshape</span><span class=\"p\">((</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">+=</span> <span class=\"mf\">0.2</span> <span class=\"o\">*</span> <span class=\"n\">rng</span><span class=\"o\">.</span><span class=\"n\">rand</span><span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c_streamline</span> <span class=\"o\">=</span> <span class=\"n\">compress_streamlines</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">tol_error</span><span class=\"o\">=</span><span class=\"mf\">0.2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">)</span>\n<span class=\"go\">100</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">c_streamline</span><span class=\"p\">)</span>\n<span class=\"go\">10</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Multiple streamlines</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">streamline</span><span class=\"p\">[::</span><span class=\"mi\">2</span><span class=\"p\">]]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c_streamlines</span> <span class=\"o\">=</span> <span class=\"n\">compress_streamlines</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"n\">tol_error</span><span class=\"o\">=</span><span class=\"mf\">0.2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[100, 50]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">c_streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[10, 7]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"deepcopy\">\n<h3>deepcopy<a class=\"headerlink\" href=\"#deepcopy\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.deepcopy\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">deepcopy</code><span class=\"sig-paren\">(</span><em>x</em>, <em>memo=None</em>, <em>_nil=[]</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.deepcopy\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Deep copy operation on arbitrary Python objects.</p>\n<p>See the module&#8217;s __doc__ string for more info.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"dist-to-corner\">\n<h3>dist_to_corner<a class=\"headerlink\" href=\"#dist-to-corner\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.dist_to_corner\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">dist_to_corner</code><span class=\"sig-paren\">(</span><em>affine</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.dist_to_corner\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculate the maximal distance from the center to a corner of a voxel,\ngiven an affine</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>affine</strong> : 4 by 4 array.</p>\n<blockquote>\n<div><p>The spatial transformation from the measurement to the scanner space.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\">dist: float</p>\n<blockquote class=\"last\">\n<div><p>The maximal distance to the corner of a voxel, given voxel size encoded\nin the affine.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id50\">\n<h3>length<a class=\"headerlink\" href=\"#id50\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.length\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">length</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.length\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Euclidean length of streamlines</p>\n<p>This will give length in mm if streamlines are expressed in world coordinates.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamlines</strong> : one or a list of array-like shape (N,3)</p>\n<blockquote>\n<div><p>array representing x,y,z of N points in a streamline</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>lengths</strong> : scalar or array shape (N,)</p>\n<blockquote class=\"last\">\n<div><p>scalar representing the length of one streamline, or\narray representing the lengths of multiple streamlines.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.streamline</span> <span class=\"k\">import</span> <span class=\"n\">length</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">expected_length</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"o\">+</span><span class=\"mi\">2</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">3</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">3</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">4</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"n\">expected_length</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">([</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">streamline</span><span class=\"p\">[::</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">expected_lengths</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">expected_length</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"o\">*</span><span class=\"n\">expected_length</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">allclose</span><span class=\"p\">(</span><span class=\"n\">expected_lengths</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]),</span> <span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">])])</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">([])</span>\n<span class=\"go\">0.0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]]))</span>\n<span class=\"go\">0.0</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"orient-by-rois\">\n<h3>orient_by_rois<a class=\"headerlink\" href=\"#orient-by-rois\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.orient_by_rois\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">orient_by_rois</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>roi1</em>, <em>roi2</em>, <em>affine=None</em>, <em>copy=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.orient_by_rois\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Orient a set of streamlines according to a pair of ROIs</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamlines</strong> : list</p>\n<blockquote>\n<div><p>List of 3d arrays. Each array contains the xyz coordinates of a single\nstreamline.</p>\n</div></blockquote>\n<p><strong>roi1, roi2</strong> : ndarray</p>\n<blockquote>\n<div><p>Binary masks designating the location of the regions of interest, or\ncoordinate arrays (n-by-3 array with ROI coordinate in each row).</p>\n</div></blockquote>\n<p><strong>affine</strong> : ndarray</p>\n<blockquote>\n<div><p>Affine transformation from voxels to streamlines. Default: identity.</p>\n</div></blockquote>\n<p><strong>copy</strong> : bool</p>\n<blockquote>\n<div><p>Whether to make a copy of the input, or mutate the input inplace.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>streamlines</strong> : list</p>\n<blockquote class=\"last\">\n<div><p>The same 3D arrays, but reoriented with respect to the ROIs</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                         <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                         <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">]]),</span>\n<span class=\"gp\">... </span>               <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                         <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                         <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span>  <span class=\"mf\">0.</span><span class=\"p\">]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">roi1</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">zeros</span><span class=\"p\">((</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"nb\">bool</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">roi2</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">zeros_like</span><span class=\"p\">(</span><span class=\"n\">roi1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">roi1</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">roi2</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">orient_by_rois</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"n\">roi1</span><span class=\"p\">,</span> <span class=\"n\">roi2</span><span class=\"p\">)</span>\n<span class=\"go\">[array([[ 0.,  0.,  0.],</span>\n<span class=\"go\">       [ 1.,  0.,  0.],</span>\n<span class=\"go\">       [ 2.,  0.,  0.]]), array([[ 0.,  0.,  0.],</span>\n<span class=\"go\">       [ 1.,  0.,  0.],</span>\n<span class=\"go\">       [ 2.,  0.,  0.]])]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"relist-streamlines\">\n<h3>relist_streamlines<a class=\"headerlink\" href=\"#relist-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.relist_streamlines\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">relist_streamlines</code><span class=\"sig-paren\">(</span><em>points</em>, <em>offsets</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.relist_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Given a representation of a set of streamlines as a large array and\nan offsets array return the streamlines as a list of shorter arrays.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>points</strong> : array</p>\n<p><strong>offsets</strong> : array</p>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first last\">streamlines: sequence</p>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"select-by-rois\">\n<h3>select_by_rois<a class=\"headerlink\" href=\"#select-by-rois\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.select_by_rois\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">select_by_rois</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>rois</em>, <em>include</em>, <em>mode=None</em>, <em>affine=None</em>, <em>tol=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.select_by_rois\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Select streamlines based on logical relations with several regions of\ninterest (ROIs). For example, select streamlines that pass near ROI1,\nbut only if they do not pass near ROI2.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamlines</strong> : list</p>\n<blockquote>\n<div><p>A list of candidate streamlines for selection</p>\n</div></blockquote>\n<p><strong>rois</strong> : list or ndarray</p>\n<blockquote>\n<div><p>A list of 3D arrays, each with shape (x, y, z) corresponding to the\nshape of the brain volume, or a 4D array with shape (n_rois, x, y,\nz). Non-zeros in each volume are considered to be within the region</p>\n</div></blockquote>\n<p><strong>include</strong> : array or list</p>\n<blockquote>\n<div><p>A list or 1D array of boolean values marking inclusion or exclusion\ncriteria. If a streamline is near any of the inclusion ROIs, it\nshould evaluate to True, unless it is also near any of the exclusion\nROIs.</p>\n</div></blockquote>\n<p><strong>mode</strong> : string, optional</p>\n<blockquote>\n<div><p>One of {&#8220;any&#8221;, &#8220;all&#8221;, &#8220;either_end&#8221;, &#8220;both_end&#8221;}, where a streamline is\nassociated with an ROI if:</p>\n<p>&#8220;any&#8221; : any point is within tol from ROI. Default.</p>\n<p>&#8220;all&#8221; : all points are within tol from ROI.</p>\n<p>&#8220;either_end&#8221; : either of the end-points is within tol from ROI</p>\n<p>&#8220;both_end&#8221; : both end points are within tol from ROI.</p>\n</div></blockquote>\n<p><strong>affine</strong> : ndarray</p>\n<blockquote>\n<div><p>Affine transformation from voxels to streamlines. Default: identity.</p>\n</div></blockquote>\n<p><strong>tol</strong> : float</p>\n<blockquote>\n<div><p>Distance (in the units of the streamlines, usually mm). If any\ncoordinate in the streamline is within this distance from the center\nof any voxel in the ROI, the filtering criterion is set to True for\nthis streamline, otherwise False. Defaults to the distance between\nthe center of each voxel and the corner of the voxel.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\">generator</p>\n<blockquote class=\"last\">\n<div><p>Generates the streamlines to be included based on these criteria.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-func docutils literal\"><span class=\"pre\">dipy.tracking.utils.near_roi()</span></code>, <code class=\"xref py py-func docutils literal\"><span class=\"pre\">dipy.tracking.utils.reduce_rois()</span></code></p>\n</div>\n<p class=\"rubric\">Notes</p>\n<p>The only operation currently possible is &#8220;(A or B or ...) and not (X or Y\nor ...)&#8221;, where A, B are inclusion regions and X, Y are exclusion regions.</p>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">0.9</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                         <span class=\"p\">[</span><span class=\"mf\">1.9</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">]]),</span>\n<span class=\"gp\">... </span>               <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                         <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">1.</span><span class=\"p\">,</span> <span class=\"mf\">1.</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                         <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">2.</span><span class=\"p\">,</span> <span class=\"mf\">2.</span><span class=\"p\">]]),</span>\n<span class=\"gp\">... </span>               <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                         <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mask1</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">zeros</span><span class=\"p\">((</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"nb\">bool</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mask2</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">zeros_like</span><span class=\"p\">(</span><span class=\"n\">mask1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mask1</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mask2</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">selection</span> <span class=\"o\">=</span> <span class=\"n\">select_by_rois</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">mask1</span><span class=\"p\">,</span> <span class=\"n\">mask2</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"p\">[</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">tol</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">selection</span><span class=\"p\">)</span> <span class=\"c1\"># The result is a generator</span>\n<span class=\"go\">[array([[ 0. ,  0. ,  0.9],</span>\n<span class=\"go\">       [ 1.9,  0. ,  0. ]]), array([[ 0.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  1.,  1.],</span>\n<span class=\"go\">       [ 0.,  2.,  2.]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">selection</span> <span class=\"o\">=</span> <span class=\"n\">select_by_rois</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">mask1</span><span class=\"p\">,</span> <span class=\"n\">mask2</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"p\">[</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"kc\">False</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">tol</span><span class=\"o\">=</span><span class=\"mf\">0.87</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">selection</span><span class=\"p\">)</span>\n<span class=\"go\">[array([[ 0.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  1.,  1.],</span>\n<span class=\"go\">       [ 0.,  2.,  2.]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">selection</span> <span class=\"o\">=</span> <span class=\"n\">select_by_rois</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">mask1</span><span class=\"p\">,</span> <span class=\"n\">mask2</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"p\">[</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"s2\">&quot;both_end&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">tol</span><span class=\"o\">=</span><span class=\"mf\">1.0</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">selection</span><span class=\"p\">)</span>\n<span class=\"go\">[array([[ 0. ,  0. ,  0.9],</span>\n<span class=\"go\">       [ 1.9,  0. ,  0. ]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mask2</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">selection</span> <span class=\"o\">=</span> <span class=\"n\">select_by_rois</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">mask1</span><span class=\"p\">,</span> <span class=\"n\">mask2</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"p\">[</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"s2\">&quot;both_end&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">tol</span><span class=\"o\">=</span><span class=\"mf\">1.0</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">selection</span><span class=\"p\">)</span>\n<span class=\"go\">[array([[ 0. ,  0. ,  0.9],</span>\n<span class=\"go\">       [ 1.9,  0. ,  0. ]]), array([[ 0.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  1.,  1.],</span>\n<span class=\"go\">       [ 0.,  2.,  2.]])]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"select-random-set-of-streamlines\">\n<h3>select_random_set_of_streamlines<a class=\"headerlink\" href=\"#select-random-set-of-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.select_random_set_of_streamlines\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">select_random_set_of_streamlines</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>select</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.select_random_set_of_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Select a random set of streamlines</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamlines</strong> : list</p>\n<blockquote>\n<div><p>List of 2D ndarrays of shape[-1]==3</p>\n</div></blockquote>\n<p><strong>select</strong> : int</p>\n<blockquote>\n<div><p>Number of streamlines to select. If there are less streamlines\nthan <code class=\"docutils literal\"><span class=\"pre\">select</span></code> then <code class=\"docutils literal\"><span class=\"pre\">select=len(streamlines)</span></code>.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first last\"><strong>selected_streamlines</strong> : list</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>The same streamline will not be selected twice.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id51\">\n<h3>set_number_of_points<a class=\"headerlink\" href=\"#id51\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.set_number_of_points\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">set_number_of_points</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.set_number_of_points\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><dl class=\"docutils\">\n<dt>Change the number of points of streamlines</dt>\n<dd>(either by downsampling or upsampling)</dd>\n</dl>\n<p>Change the number of points of streamlines in order to obtain\n<cite>nb_points</cite>-1 segments of equal length. Points of streamlines will be\nmodified along the curve.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamlines</strong> : one or a list of array-like shape (N,3)</p>\n<blockquote>\n<div><p>array representing x,y,z of N points in a streamline</p>\n</div></blockquote>\n<p><strong>nb_points</strong> : int</p>\n<blockquote>\n<div><p>integer representing number of points wanted along the curve.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>modified_streamlines</strong> : one or a list of array-like shape (<cite>nb_points</cite>,3)</p>\n<blockquote class=\"last\">\n<div><p>array representing x,y,z of <cite>nb_points</cite> points that were interpolated.</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.streamline</span> <span class=\"k\">import</span> <span class=\"n\">set_number_of_points</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># One streamline: a semi-circle</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span> <span class=\"o\">=</span> <span class=\"mi\">0</span> <span class=\"o\">*</span> <span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">modified_streamline</span> <span class=\"o\">=</span> <span class=\"n\">set_number_of_points</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">modified_streamline</span><span class=\"p\">)</span>\n<span class=\"go\">3</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Multiple streamlines</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">streamline</span><span class=\"p\">[::</span><span class=\"mi\">2</span><span class=\"p\">]]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">modified_streamlines</span> <span class=\"o\">=</span> <span class=\"n\">set_number_of_points</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[100, 50]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">modified_streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[10, 10]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"streamline-near-roi\">\n<h3>streamline_near_roi<a class=\"headerlink\" href=\"#streamline-near-roi\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.streamline_near_roi\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">streamline_near_roi</code><span class=\"sig-paren\">(</span><em>streamline</em>, <em>roi_coords</em>, <em>tol</em>, <em>mode='any'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.streamline_near_roi\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Is a streamline near an ROI.</p>\n<p>Implements the inner loops of the <code class=\"xref py py-func docutils literal\"><span class=\"pre\">near_roi()</span></code> function.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamline</strong> : array, shape (N, 3)</p>\n<blockquote>\n<div><p>A single streamline</p>\n</div></blockquote>\n<p><strong>roi_coords</strong> : array, shape (M, 3)</p>\n<blockquote>\n<div><p>ROI coordinates transformed to the streamline coordinate frame.</p>\n</div></blockquote>\n<p><strong>tol</strong> : float</p>\n<blockquote>\n<div><p>Distance (in the units of the streamlines, usually mm). If any\ncoordinate in the streamline is within this distance from the center\nof any voxel in the ROI, this function returns True.</p>\n</div></blockquote>\n<p><strong>mode</strong> : string</p>\n<blockquote>\n<div><p>One of {&#8220;any&#8221;, &#8220;all&#8221;, &#8220;either_end&#8221;, &#8220;both_end&#8221;}, where return True\nif:</p>\n<p>&#8220;any&#8221; : any point is within tol from ROI.</p>\n<p>&#8220;all&#8221; : all points are within tol from ROI.</p>\n<p>&#8220;either_end&#8221; : either of the end-points is within tol from ROI</p>\n<p>&#8220;both_end&#8221; : both end points are within tol from ROI.</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first last\"><strong>out</strong> : boolean</p>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id52\">\n<h3>transform_streamlines<a class=\"headerlink\" href=\"#id52\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.transform_streamlines\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">transform_streamlines</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>mat</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.transform_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Apply affine transformation to streamlines</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamlines</strong> : list</p>\n<blockquote>\n<div><p>List of 2D ndarrays of shape[-1]==3</p>\n</div></blockquote>\n<p><strong>mat</strong> : array, (4, 4)</p>\n<blockquote>\n<div><p>transformation matrix</p>\n</div></blockquote>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>new_streamlines</strong> : list</p>\n<blockquote class=\"last\">\n<div><p>List of the transformed 2D ndarrays of shape[-1]==3</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"unlist-streamlines\">\n<h3>unlist_streamlines<a class=\"headerlink\" href=\"#unlist-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.unlist_streamlines\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">unlist_streamlines</code><span class=\"sig-paren\">(</span><em>streamlines</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.unlist_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return the streamlines not as a list but as an array and an offset</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>streamlines: sequence</strong></p>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><p class=\"first\"><strong>points</strong> : array</p>\n<p class=\"last\"><strong>offsets</strong> : array</p>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"values-from-volume\">\n<h3>values_from_volume<a class=\"headerlink\" href=\"#values-from-volume\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.values_from_volume\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">values_from_volume</code><span class=\"sig-paren\">(</span><em>data</em>, <em>streamlines</em>, <em>affine=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.values_from_volume\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Extract values of a scalar/vector along each streamline from a volume.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><p class=\"first\"><strong>data</strong> : 3D or 4D array</p>\n<blockquote>\n<div><p>Scalar (for 3D) and vector (for 4D) values to be extracted. For 4D\ndata, interpolation will be done on the 3 spatial dimensions in each\nvolume.</p>\n</div></blockquote>\n<p><strong>streamlines</strong> : ndarray or list</p>\n<blockquote>\n<div><p>If array, of shape (n_streamlines, n_nodes, 3)\nIf list, len(n_streamlines) with (n_nodes, 3) array in\neach element of the list.</p>\n</div></blockquote>\n<p><strong>affine</strong> : ndarray, shape (4, 4)</p>\n<blockquote class=\"last\">\n<div><p>Affine transformation from voxels (image coordinates) to streamlines.\nDefault: identity. For example, if no affine is provided and the first\ncoordinate of the first streamline is <code class=\"docutils literal\"><span class=\"pre\">[1,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0]</span></code>, data[1, 0, 0]\nwould be returned as the value for that streamline coordinate</p>\n</div></blockquote>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>Values are extracted from the image based on the 3D coordinates of the\nnodes that comprise the points in the streamline, without any interpolation\ninto segments between the nodes. Using this function with streamlines that\nhave been resampled into a very small number of nodes will result in very\nfew values.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id53\">\n<h3>warn<a class=\"headerlink\" href=\"#id53\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.warn\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">warn</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.warn\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Issue a warning, or maybe ignore it or raise an exception.</p>\n</dd></dl>\n\n</div>\n</div>\n</div>\n", "parents": [{"link": "../../documentation/", "title": "Documentation"}, {"link": "../", "title": "API Reference"}], "metatags": "", "title": "<code class=\"docutils literal\"><span class=\"pre\">tracking</span></code>", "sidebars": null, "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"docutils literal\"><span class=\"pre\">tracking</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking._utils\">Module: <code class=\"docutils literal\"><span class=\"pre\">tracking._utils</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.benchmarks\">Module: <code class=\"docutils literal\"><span class=\"pre\">tracking.benchmarks</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.benchmarks.bench_streamline\">Module: <code class=\"docutils literal\"><span class=\"pre\">tracking.benchmarks.bench_streamline</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.eudx\">Module: <code class=\"docutils literal\"><span class=\"pre\">tracking.eudx</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.learning\">Module: <code class=\"docutils literal\"><span class=\"pre\">tracking.learning</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.life\">Module: <code class=\"docutils literal\"><span class=\"pre\">tracking.life</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.local\">Module: <code class=\"docutils literal\"><span class=\"pre\">tracking.local</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.local.localtracking\">Module: <code class=\"docutils literal\"><span class=\"pre\">tracking.local.localtracking</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.metrics\">Module: <code class=\"docutils literal\"><span class=\"pre\">tracking.metrics</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.streamline\">Module: <code class=\"docutils literal\"><span class=\"pre\">tracking.streamline</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#bench\">bench</a></li>\n<li><a class=\"reference internal\" href=\"#test\">test</a></li>\n<li><a class=\"reference internal\" href=\"#warn\">warn</a></li>\n<li><a class=\"reference internal\" href=\"#bench-compress-streamlines\">bench_compress_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#bench-length\">bench_length</a></li>\n<li><a class=\"reference internal\" href=\"#bench-set-number-of-points\">bench_set_number_of_points</a></li>\n<li><a class=\"reference internal\" href=\"#compress-streamlines\">compress_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#compress-streamlines-python\">compress_streamlines_python</a></li>\n<li><a class=\"reference internal\" href=\"#get-data\">get_data</a></li>\n<li><a class=\"reference internal\" href=\"#length\">length</a></li>\n<li><a class=\"reference internal\" href=\"#length-python\">length_python</a></li>\n<li><a class=\"reference internal\" href=\"#measure\">measure</a></li>\n<li><a class=\"reference internal\" href=\"#set-number-of-points\">set_number_of_points</a></li>\n<li><a class=\"reference internal\" href=\"#set-number-of-points-python\">set_number_of_points_python</a></li>\n<li><a class=\"reference internal\" href=\"#eudx\"><code class=\"docutils literal\"><span class=\"pre\">EuDX</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#eudx-both-directions\">eudx_both_directions</a></li>\n<li><a class=\"reference internal\" href=\"#get-sphere\">get_sphere</a></li>\n<li><a class=\"reference internal\" href=\"#detect-corresponding-tracks\">detect_corresponding_tracks</a></li>\n<li><a class=\"reference internal\" href=\"#detect-corresponding-tracks-plus\">detect_corresponding_tracks_plus</a></li>\n<li><a class=\"reference internal\" href=\"#fiberfit\"><code class=\"docutils literal\"><span class=\"pre\">FiberFit</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#fibermodel\"><code class=\"docutils literal\"><span class=\"pre\">FiberModel</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#lifesignalmaker\"><code class=\"docutils literal\"><span class=\"pre\">LifeSignalMaker</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#reconstfit\"><code class=\"docutils literal\"><span class=\"pre\">ReconstFit</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#reconstmodel\"><code class=\"docutils literal\"><span class=\"pre\">ReconstModel</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#range\"><code class=\"docutils literal\"><span class=\"pre\">range</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#grad-tensor\">grad_tensor</a></li>\n<li><a class=\"reference internal\" href=\"#gradient\">gradient</a></li>\n<li><a class=\"reference internal\" href=\"#streamline-gradients\">streamline_gradients</a></li>\n<li><a class=\"reference internal\" href=\"#streamline-signal\">streamline_signal</a></li>\n<li><a class=\"reference internal\" href=\"#streamline-tensors\">streamline_tensors</a></li>\n<li><a class=\"reference internal\" href=\"#transform-streamlines\">transform_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#unique-rows\">unique_rows</a></li>\n<li><a class=\"reference internal\" href=\"#voxel2streamline\">voxel2streamline</a></li>\n<li><a class=\"reference internal\" href=\"#acttissueclassifier\"><code class=\"docutils literal\"><span class=\"pre\">ActTissueClassifier</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#binarytissueclassifier\"><code class=\"docutils literal\"><span class=\"pre\">BinaryTissueClassifier</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#directiongetter\"><code class=\"docutils literal\"><span class=\"pre\">DirectionGetter</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#localtracking\"><code class=\"docutils literal\"><span class=\"pre\">LocalTracking</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#thresholdtissueclassifier\"><code class=\"docutils literal\"><span class=\"pre\">ThresholdTissueClassifier</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#tissueclassifier\"><code class=\"docutils literal\"><span class=\"pre\">TissueClassifier</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#bunch\"><code class=\"docutils literal\"><span class=\"pre\">Bunch</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id27\"><code class=\"docutils literal\"><span class=\"pre\">LocalTracking</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#local-tracker\">local_tracker</a></li>\n<li><a class=\"reference internal\" href=\"#xrange\"><code class=\"docutils literal\"><span class=\"pre\">xrange</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#arbitrarypoint\">arbitrarypoint</a></li>\n<li><a class=\"reference internal\" href=\"#bytes\">bytes</a></li>\n<li><a class=\"reference internal\" href=\"#center-of-mass\">center_of_mass</a></li>\n<li><a class=\"reference internal\" href=\"#downsample\">downsample</a></li>\n<li><a class=\"reference internal\" href=\"#endpoint\">endpoint</a></li>\n<li><a class=\"reference internal\" href=\"#frenet-serret\">frenet_serret</a></li>\n<li><a class=\"reference internal\" href=\"#generate-combinations\">generate_combinations</a></li>\n<li><a class=\"reference internal\" href=\"#inside-sphere\">inside_sphere</a></li>\n<li><a class=\"reference internal\" href=\"#inside-sphere-points\">inside_sphere_points</a></li>\n<li><a class=\"reference internal\" href=\"#intersect-sphere\">intersect_sphere</a></li>\n<li><a class=\"reference internal\" href=\"#id28\">length</a></li>\n<li><a class=\"reference internal\" href=\"#longest-track-bundle\">longest_track_bundle</a></li>\n<li><a class=\"reference internal\" href=\"#magn\">magn</a></li>\n<li><a class=\"reference internal\" href=\"#mean-curvature\">mean_curvature</a></li>\n<li><a class=\"reference internal\" href=\"#mean-orientation\">mean_orientation</a></li>\n<li><a class=\"reference internal\" href=\"#midpoint\">midpoint</a></li>\n<li><a class=\"reference internal\" href=\"#midpoint2point\">midpoint2point</a></li>\n<li><a class=\"reference internal\" href=\"#principal-components\">principal_components</a></li>\n<li><a class=\"reference internal\" href=\"#splev\">splev</a></li>\n<li><a class=\"reference internal\" href=\"#spline\">spline</a></li>\n<li><a class=\"reference internal\" href=\"#splprep\">splprep</a></li>\n<li><a class=\"reference internal\" href=\"#startpoint\">startpoint</a></li>\n<li><a class=\"reference internal\" href=\"#winding\">winding</a></li>\n<li><a class=\"reference internal\" href=\"#apply-affine\">apply_affine</a></li>\n<li><a class=\"reference internal\" href=\"#cdist\">cdist</a></li>\n<li><a class=\"reference internal\" href=\"#center-streamlines\">center_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#id35\">compress_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#deepcopy\">deepcopy</a></li>\n<li><a class=\"reference internal\" href=\"#dist-to-corner\">dist_to_corner</a></li>\n<li><a class=\"reference internal\" href=\"#id50\">length</a></li>\n<li><a class=\"reference internal\" href=\"#orient-by-rois\">orient_by_rois</a></li>\n<li><a class=\"reference internal\" href=\"#relist-streamlines\">relist_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#select-by-rois\">select_by_rois</a></li>\n<li><a class=\"reference internal\" href=\"#select-random-set-of-streamlines\">select_random_set_of_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#id51\">set_number_of_points</a></li>\n<li><a class=\"reference internal\" href=\"#streamline-near-roi\">streamline_near_roi</a></li>\n<li><a class=\"reference internal\" href=\"#id52\">transform_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#unlist-streamlines\">unlist_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#values-from-volume\">values_from_volume</a></li>\n<li><a class=\"reference internal\" href=\"#id53\">warn</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "current_page_name": "reference/dipy.tracking", "next": null, "meta": {}, "rellinks": [["genindex", "General Index", "I", "index"], ["reference/dipy.sims", "<code class=\"docutils literal\"><span class=\"pre\">sims</span></code>", "P", "previous"]], "display_toc": true, "sourcename": "reference/dipy.tracking.txt", "customsidebar": null}